(this["webpackJsonpgoogle-api"]=this["webpackJsonpgoogle-api"]||[]).push([[0],{65:function(e,t,n){"use strict";n.r(t);var r,i=n(0),a=n(20),c=n.n(a),o=n(2);!function(e){e[e.initializing=1]="initializing",e[e.loaded=2]="loaded",e[e.loading=3]="loading"}(r||(r={}));var s,l,d=n(10),u=n.n(d),h=n(14),f=n(34),b=n(17),p=n(8),j=n(18),g=n(5),m=n(69),O=Object(g.d)(m.a)(s||(s=Object(j.a)(["\n  position: 'fixed';\n  bottom: 0;\n  width: 100%;\n  z-index: 1051;\n"]))),x=n(1),v=function(e){},w=function(){var e=Object(i.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){var e=!0;return v=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";if(e){"string"!==typeof t&&(console.error("Error: ",t),t="Invalid error message");var a=n.slice(0);a.push({message:t,variant:i}),r(a)}},function(){e=!1}}),[n]);return Object(x.jsx)(x.Fragment,{children:n.map((function(e,t){return Object(x.jsx)(y,Object(o.a)(Object(o.a)({},e),{},{onClose:(i=t,function(){var e=n.slice(0);e.splice(i,1),r(e)})}),t);var i}))})},y=function(e){var t=e.message,n=e.variant,r=e.onClose,a=Object(i.useState)(!0),c=Object(p.a)(a,2),o=c[0],s=c[1];return Object(i.useEffect)((function(){var e=!0;return setTimeout((function(){e&&s(!1)}),3e3),function(){e=!1}}),[]),Object(i.useEffect)((function(){var e=!0;return o||setTimeout((function(){e&&r&&r()}),500),function(){e=!1}}),[o,r]),Object(x.jsx)(O,{variant:n,show:o,onClick:function(){return s(!1)},style:{position:"fixed",bottom:"0"},children:t})};!function(e){e.name="wvbucketSettings"}(l||(l={}));var C,k,E,I,N,_,S,A,B=function(){var e={apikey:"",client_id:"",spid:"",accounts:[]},t=localStorage.getItem(l.name);if(!t)return e;var n=JSON.parse(t);return n||e},M=function(e){!function(e){localStorage.setItem(l.name,JSON.stringify(e))}(Object(o.a)(Object(o.a)({},B()),e))},F=function(e){var t,n,r,i;return console.error(e),(null===e||void 0===e?void 0:e.message)?e.message:(null===e||void 0===e?void 0:e.details)?e.details:(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t.error)||void 0===n?void 0:n.message)?null===e||void 0===e||null===(r=e.result)||void 0===r||null===(i=r.error)||void 0===i?void 0:i.message:"Something went wrong trying to authenticated. Check your log"},T=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=B()).client_id&&gapi){e.next=3;break}throw new Error("Missing client ID or GAPI");case 3:return e.abrupt("return",new Promise(function(){var e=Object(b.a)(u.a.mark((function e(n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.init({discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"],clientId:t.client_id,scope:"https://www.googleapis.com/auth/spreadsheets"});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",r(F(e.t0)));case 8:n(!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),gapi.load("client:auth2",i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=[],D=function(e){z.push(e);return gapi.auth2.getAuthInstance().isSignedIn.listen((function(e){z.forEach((function(t){return t(e)}))})),function(){z=z.filter((function(t){return t!==e}))}},L=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(b.a)(u.a.mark((function e(n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.sheets.spreadsheets.get({spreadsheetId:t,fields:"sheets.properties.title,sheets.properties.sheetId,properties.title"});case 3:return i=e.sent,e.abrupt("return",n(i));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",r(F(e.t0)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=n(28),U=n.n(P),G=Object(i.createContext)({status:r.initializing,authenticated:!1,signedin:!1,accounts:{ids:[],entities:{}},onAddAccount:function(){}}),W=function(){return Object(i.useContext)(G)},R=(n(57),n(58),n(59),Object(g.b)(C||(C=Object(j.a)(["\n    \n    html, body, #root {\n      height: 100%;\n    }\n\n    * {\n        box-sizing: border-box;\n        font-family: 'Open Sans', sans-serif;\n    }\n\n    html {\n      padding: ",";\n    }\n\n    h1, h2 {\n      font-weight: bold;\n    }\n\n    button, a {\n      border: 0;\n      background: none;\n      text-decoration: none;\n    }\n  "])),(function(e){return e.theme.device.padding}))),V={colors:{primary:"var(--bs-primary)",danger:"var(--bs-danger)",background:"#3264a8",textWhite:"#FFF",textBlack:"#000"},device:{padding:"env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)"}},H=function(e){var t=e.children;return Object(x.jsxs)(g.a,{theme:V,children:[Object(x.jsx)(R,{}),t]})},J=g.d.div.withConfig({displayName:"splash-screenstyled__SplashScreenContainer",componentId:"sc-67ggma-0"})(["height:100%;width:100%;display:flex;align-items:center;justify-content:center;.splash-screen-inner{font-size:25px;display:flex;flex-direction:column;align-items:center;.splash-screen-spinner{display:block;font-size:40px;color:",";}}"],(function(e){return e.theme.colors.primary})),Y=function(e){var t=e.hasSpinner,n=e.children;return Object(x.jsx)(J,{children:Object(x.jsxs)("div",{className:"splash-screen-inner",children:[t&&Object(x.jsx)("i",{className:"fas fa-fan fa-spin splash-screen-spinner"}),n]})})},q=n(67),$=Object(g.d)(q.a).withConfig({displayName:"settingsstyled__SettingsContainer",componentId:"sc-8dvh3z-0"})(["padding-top:50px;h1{margin-bottom:40px;}"]),X=n(70),K=n(68),Q=function(e){var t=U()(Object(o.a)({status:r.initializing},e)),n=Object(p.a)(t,2),i=n[0],a=n[1],c=i.status!==r.loaded;return[Object(o.a)(Object(o.a)({},i),{},{disabled:c}),a]},Z=function(){var e=function(){var e=B(),t=Q({client_id:e.client_id,error:{}}),n=Object(p.a)(t,2),r=n[0],i=n[1];return{state:r,onChangeClient:function(e){i({client_id:e.target.value,error:Object(o.a)(Object(o.a)({},r.error),{},{client_id:void 0})})},onSave:function(){if(!r.client_id.trim())return i({error:Object(o.a)(Object(o.a)({},r.error),{},{client_id:"Client ID required"})});M({client_id:r.client_id}),window.location.reload()}}}(),t=e.state,n=e.onChangeClient,r=e.onSave;return Object(x.jsxs)($,{children:[Object(x.jsx)("h1",{children:"Authenticate"}),Object(x.jsxs)("p",{children:["In order for this project to work, we need you to create a new project on"," ",Object(x.jsx)("a",{href:"https://console.developers.google.com",target:"_blank",rel:"noreferrer",children:"https://console.developers.google.com"}),"."]}),Object(x.jsx)("p",{children:"Create a new project and OAUTH 2.0 credential and add the Client ID below. This information will be retained on your device and we will not save it online"}),Object(x.jsxs)("p",{children:["To know more about how create credentials"," ",Object(x.jsxs)("a",{href:"https://developers.google.com/workspace/guides/create-credentials",target:"_blank",rel:"noreferrer",children:["click here ",Object(x.jsx)("i",{className:"fas fa-external-link-alt"})]})]}),Object(x.jsx)("hr",{}),Object(x.jsx)(X.a,{children:Object(x.jsxs)(X.a.Group,{className:"mb-3",children:[Object(x.jsx)(X.a.Label,{children:"Client ID"}),Object(x.jsx)(X.a.Control,{type:"text",placeholder:"Enter Client ID from Oauth 2",value:t.client_id,onChange:n}),t.error.client_id&&Object(x.jsx)(X.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:t.error.client_id})]})}),Object(x.jsx)("div",{className:"d-grid",children:Object(x.jsx)(K.a,{variant:"success",onClick:r,children:"Save"})})]})},ee=n(19),te=n(9),ne=n(3),re=n(4),ie=n.n(re),ae=g.d.div.withConfig({displayName:"bottom-modalstyled__BottomModalContainerInner",componentId:"sc-eaaltb-0"})([""]),ce=g.d.h2.withConfig({displayName:"bottom-modalstyled__BottomModalTitleContainer",componentId:"sc-eaaltb-1"})([""]),oe=g.d.p.withConfig({displayName:"bottom-modalstyled__BottomModalDisclaimer",componentId:"sc-eaaltb-2"})([""]),se=g.d.div.withConfig({displayName:"bottom-modalstyled__BottomModalContainer",componentId:"sc-eaaltb-3"})(["position:fixed;top:0;bottom:0;left:0;right:0;transition:background-color ","ms linear;"," ","{margin-bottom:20px;}","{font-style:italic;font-size:0.85rem;opacity:0.7;}","{color:",";background:#fff;position:fixed;width:100%;bottom:0;border-radius:30px 30px 0 0;padding:30px;text-align:center;transition:bottom ","ms linear;","}"],250,(function(e){return e.show?Object(g.c)(k||(k=Object(j.a)(["\n          background-color: rgba(0, 0, 0, 0.5);\n        "]))):Object(g.c)(E||(E=Object(j.a)(["\n          background-color: transparent;\n        "])))}),ce,oe,ae,(function(e){return e.theme.colors.textBlack}),250,(function(e){return e.show?Object(g.c)(I||(I=Object(j.a)(["\n            bottom: 0;\n          "]))):Object(g.c)(N||(N=Object(j.a)(["\n            bottom: -100vh;\n          "])))})),le=g.d.button.withConfig({displayName:"bottom-modalstyled__BottomModalButton",componentId:"sc-eaaltb-4"})(["width:100%;",""],(function(e){return e.variant&&"regular"!==e.variant?Object(g.c)(S||(S=Object(j.a)(["\n          padding: 20px;\n          background: ",";\n          color: ",";\n          border: 0;\n          border-radius: 5px;\n          margin: 30px 0 10px;\n          text-transform: uppercase;\n        "])),"primary"===e.variant?e.theme.colors.background:e.theme.colors[e.variant],(function(e){return e.theme.colors.textWhite})):Object(g.c)(_||(_=Object(j.a)(["\n          color: #000;\n          font-weight: bold;\n          text-decoration: none;\n        "])))})),de={Title:ce,Disclaimer:oe,Button:le},ue=Object.assign((function(e){var t=e.children,n=e.className,r=function(e){var t=Q({show:!1}),n=Object(p.a)(t,2),r=n[0],a=n[1],c=e.show,o=e.onOpen,s=e.onClose;return Object(i.useEffect)((function(){r.show!==c&&(a({show:c}),setTimeout((function(){c&&o?o():!c&&s&&s()}),250))}),[c,a,r.show,s,o]),{state:r}}(e),a=r.state;return Object(x.jsx)(se,{show:a.show,className:ie()(n),children:Object(x.jsx)(ae,{children:t})})}),de),he={status:r.loaded,title:"Are you sure?",description:"This action cannot be undone",confirmText:"CONFIRM",cancelText:"CANCEL",confirmVariant:"danger",cancelVariant:"regular",show:!1,closed:!0,onCancel:function(){},onConfirm:function(){}},fe=function(e){},be=function(){var e=Q(he),t=Object(p.a)(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){fe=function(e){r(Object(o.a)(Object(o.a)({},e),{},{show:!0,closed:!1}))}}),[r]);return n.closed?null:Object(x.jsxs)(ue,{show:n.show,onClose:function(){r(he)},children:[Object(x.jsx)(ue.Title,{children:n.title}),Object(x.jsx)(ue.Disclaimer,{children:n.description}),Object(x.jsx)(ue.Button,{variant:n.confirmVariant,onClick:function(e){n.onConfirm(e),e.isDefaultPrevented()||e.isPropagationStopped()||r({show:!1})},children:n.confirmText}),Object(x.jsx)(ue.Button,{variant:n.cancelVariant,onClick:function(e){n.onCancel(e),e.isDefaultPrevented()||e.isPropagationStopped()||r({show:!1})},children:n.cancelText})]})},pe=function(){var e=Q({status:r.loaded,sideMenu:!1,width:window.innerWidth}),t=Object(p.a)(e,2),n=t[0],a=t[1];Object(i.useEffect)((function(){var e=!0,t=function(){e&&a({width:window.innerWidth})};return window.addEventListener("resize",t),function(){e=!1,window.removeEventListener("resize",t)}}),[a]);return{state:n,toggleSideMenu:function(e){return function(){a({sideMenu:void 0!==e?e:!n.sideMenu})}},onSignout:function(){gapi.auth2.getAuthInstance().signOut()},confirmDeleteSettings:function(){fe({description:"All data of the application will be deleted, but the spreadsheets will be kept under your google account",onConfirm:function(){localStorage.removeItem(l.name),window.location.reload()}})}}},je=g.d.div.withConfig({displayName:"layoutstyled__LayoutContainer",componentId:"sc-12p4uxt-0"})(["width:100%;height:100%;background:",";color:",";& > .layout-header{position:fixed;width:100%;height:50px;display:flex;align-items:center;justify-content:flex-end;padding-right:10px;& > .menu-button{color:",";font-size:1.3em;}}& > .slide-right-menu{position:fixed;top:0;bottom:0;right:0;background-color:var(--bs-gray-dark);padding:",";width:100%;transition:right 0.5s;& > .slide-header{height:50px;display:flex;align-items:center;padding:0 10px;& > .right-side{& > .button-close-slide{color:",";font-size:1.3em;}}& > .center-side{flex-grow:1;text-align:center;}}& > .slide-content{& > ul{list-style:none;padding:0;& > li{padding:10px 5px;}}}}"],(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textWhite}),(function(e){return e.theme.colors.textWhite}),(function(e){return e.theme.device.padding}),(function(e){return e.theme.colors.textWhite})),ge=function(e){var t=e.children,n=pe(),r=n.state,i=n.toggleSideMenu,a=n.onSignout,c=n.confirmDeleteSettings;return Object(x.jsxs)(je,{children:[Object(x.jsx)("div",{className:"layout-header",children:Object(x.jsx)("button",{className:"menu-button",onClick:i(!0),disabled:r.disabled,children:Object(x.jsx)("i",{className:"fas fa-bars"})})}),t,Object(x.jsxs)("div",{className:"slide-right-menu",style:{right:r.sideMenu?void 0:"-".concat(r.width,"px")},children:[Object(x.jsxs)("div",{className:"slide-header",children:[Object(x.jsx)("div",{className:"right-side",children:Object(x.jsx)("button",{className:"button-close-slide",disabled:r.disabled,onClick:i(!1),children:Object(x.jsx)("i",{className:"fas fa-caret-left"})})}),Object(x.jsx)("div",{className:"center-side",children:"WVBuckets"})]}),Object(x.jsxs)("div",{className:"slide-content",children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("button",{className:"logout-button text-primary",disabled:r.disabled,onClick:a,children:[Object(x.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})}),Object(x.jsx)("li",{children:Object(x.jsx)("button",{className:"delete-settings-button text-danger",disabled:r.disabled,onClick:c,children:"Delete Settings"})})]})]})]})]})},me=["component"],Oe=["component"],xe=function(e){var t=e.component,n=Object(ne.a)(e,me);return Object(x.jsx)(te.a,Object(o.a)(Object(o.a)({},n),{},{render:function(e){return Object(x.jsx)(ve,Object(o.a)(Object(o.a)({},e),{},{component:t}))}}))},ve=function(e){var t=e.component,n=Object(ne.a)(e,Oe),r=W().signedin;return t&&r?Object(x.jsx)(ge,{children:Object(x.jsx)(t,Object(o.a)({},n))}):null},we=function(){return Object(x.jsx)(x.Fragment,{children:"Not Integrated"})},ye=g.d.div.withConfig({displayName:"mainstyled__MainContainer",componentId:"sc-fjcran-0"})(["height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;.inner-container{padding:0 40px;width:100%;}.add-account-btn{width:100%;}"]);!function(e){e.missingUrl="Please add a google sheets url",e.missingTitle="A title is required to create a new google sheet",e.invalidUrl="The URL is invalid. Please check if you have access to this google sheets"}(A||(A={}));var Ce,ke,Ee,Ie=function(e){var t=function(e){W().onAddAccount;var t=Object(te.f)(),n=Q({status:r.loaded,title:"",url:"",show:!!e.type,error:{}}),a=Object(p.a)(n,2),c=a[0],o=a[1];Object(i.useEffect)((function(){o({show:!!e.type})}),[e.type,o]);var s=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.url.trim()){e.next=2;break}return e.abrupt("return",o({error:{url:A.missingUrl}}));case 2:if((t=c.url.match(/^https:\/\/docs\.google\.com\/spreadsheets\/d\/([^/]*)(\/.*)?$/))&&t[1]){e.next=5;break}return e.abrupt("return",o({error:{url:A.invalidUrl}}));case 5:return o({status:r.loading,error:{}}),e.prev=6,e.next=9,L(t[1]);case 9:e.sent,v("Account added successfully","success"),o({status:r.loaded,show:!1}),e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(6),!(e.t0 instanceof Error)){e.next=18;break}return e.abrupt("return",o({status:r.loaded,error:{url:e.t0.message}}));case 18:if(console.error(e.t0),!(null===e.t0||void 0===e.t0||null===(n=e.t0.result)||void 0===n||null===(i=n.error)||void 0===i?void 0:i.message)){e.next=21;break}return e.abrupt("return",o({status:r.loaded,error:{url:e.t0.result.error.message}}));case 21:return e.abrupt("return",o({status:r.loaded,error:{url:A.invalidUrl}}));case 22:o({status:r.loaded});case 23:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();return{type:e.type,state:c,onModalClose:function(){t.push("/")},onCancel:function(){o({show:!1})},handleCreateButton:function(){if("import-account"===e.type)return s()},onChangeValue:function(e){return function(t){o(Object(h.a)({},e,t.target.value))}}}}(e),n=t.state,a=t.type,c=t.onCancel,o=t.onModalClose,s=t.handleCreateButton,l=t.onChangeValue;return Object(x.jsxs)(ue,{show:n.show,onClose:o,children:["create-account"===a?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ue.Title,{children:"Create Account"}),Object(x.jsxs)(ue.Disclaimer,{children:["Accounts are based on spreadsheets in your google account. You can create a new spreadsheet by filling the title below. If you rather import an existent spreadsheet"," ",Object(x.jsx)(ee.b,{to:"/import-account",children:"Click here"})]}),Object(x.jsxs)(X.a.Group,{children:[Object(x.jsx)(X.a.Control,{type:"text",placeholder:"Spreadsheet Title",disabled:n.disabled,value:n.title,onChange:l("title")}),n.error.title&&Object(x.jsx)(X.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:n.error.title})]})]}):"import-account"===a?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ue.Title,{children:"Import Account"}),Object(x.jsxs)(ue.Disclaimer,{children:["Accounts are based on spreadsheets in your google account. You can import a spreadsheet by filling its URL below. If you rather create a new spreadsheet ",Object(x.jsx)(ee.b,{to:"/create-account",children:"Click here"})]}),Object(x.jsxs)(X.a.Group,{children:[Object(x.jsx)(X.a.Control,{type:"text",placeholder:"Spreadsheet URL",disabled:n.disabled,value:n.url,onChange:l("url")}),n.error.url&&Object(x.jsx)(X.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:n.error.url})]})]}):null,Object(x.jsx)(ue.Button,{variant:"primary",disabled:n.disabled,onClick:s,children:"create-account"===a?"Create Account":"Import Account"}),Object(x.jsx)(ue.Button,{disabled:n.disabled,onClick:c,children:"Cancel"})]})},Ne=g.d.div.withConfig({displayName:"no-accountstyled__NoAccountContainer",componentId:"sc-1uog7nr-0"})(["display:flex;flex-direction:column;align-items:center;text-align:center;opacity:0.6;.icon{width:80px;height:80px;}"]),_e=function(){return Object(x.jsxs)(Ne,{children:[Object(x.jsx)("i",{className:"fas fa-money-check-alt icon"}),Object(x.jsx)("p",{children:"You don't have any account. Start setting up one by clicking the button below"})]})},Se=function(){var e={accounts:W().accounts,typeCreation:Object(te.g)().typeCreation},t=e.accounts,n=e.typeCreation;return Object(x.jsxs)(ye,{children:[t.ids.length>0?t.ids.map((function(e,t){return Object(x.jsx)(we,{},t)})):Object(x.jsx)("div",{className:"inner-container",children:Object(x.jsx)(_e,{})}),Object(x.jsx)("div",{className:"inner-container",children:Object(x.jsxs)(ee.b,{to:"/import-account",className:"add-account-btn btn btn-secondary",children:[Object(x.jsx)("i",{className:"fas fa-plus"})," Add Account"]})}),n&&Object(x.jsx)(Ie,{type:n})]})},Ae=function(){return Object(x.jsx)(ee.a,{children:Object(x.jsxs)(te.c,{children:[Object(x.jsx)(xe,{path:"/:typeCreation",component:Se}),Object(x.jsx)(xe,{path:"/",component:Se})]})})},Be=g.d.div.withConfig({displayName:"loginstyled__LoginContainer",componentId:"sc-17bo6ca-0"})(["width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;"]),Me=Object(g.d)(K.a).withConfig({displayName:"loginstyled__LoginButtton",componentId:"sc-17bo6ca-1"})(["padding:0;border:0;padding-right:15px;& > svg{width:40px;}"]),Fe=["title","titleId"];function Te(){return Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function De(e,t){var n=e.title,r=e.titleId,a=ze(e,Fe);return i.createElement("svg",Te({viewBox:"0 0 46 46",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),void 0===n?i.createElement("title",{id:r},"btn_google_light_normal_ios"):n?i.createElement("title",{id:r},n):null,Ce||(Ce=i.createElement("desc",null,"Created with Sketch.")),ke||(ke=i.createElement("defs",null,i.createElement("filter",{id:"b",x:"-50%",y:"-50%",width:"200%",height:"200%"},i.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),i.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0"}),i.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),i.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:.5}),i.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0"}),i.createElement("feMerge",null,i.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),i.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),i.createElement("feMergeNode",{in:"SourceGraphic"}))),i.createElement("rect",{id:"a",width:40,height:40,rx:2}))),Ee||(Ee=i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("g",{transform:"translate(-1 -1)"},i.createElement("g",{transform:"translate(4 4)",filter:"url(#b)"},i.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#a"}),i.createElement("use",{fill:"none",xlinkHref:"#a"}),i.createElement("use",{fill:"none",xlinkHref:"#a"}),i.createElement("use",{fill:"none",xlinkHref:"#a"})),i.createElement("g",{transform:"translate(15 15)"},i.createElement("path",{d:"m17.64 9.2045c0-0.63818-0.057273-1.2518-0.16364-1.8409h-8.4764v3.4814h4.8436c-0.20864 1.125-0.84273 2.0782-1.7959 2.7164v2.2582h2.9086c1.7018-1.5668 2.6836-3.8741 2.6836-6.615z",fill:"#4285F4"}),i.createElement("path",{d:"m9 18c2.43 0 4.4673-0.80591 5.9564-2.1805l-2.9086-2.2582c-0.80591 0.54-1.8368 0.85909-3.0477 0.85909-2.3441 0-4.3282-1.5832-5.0359-3.7105h-3.0068v2.3318c1.4809 2.9414 4.5245 4.9582 8.0427 4.9582z",fill:"#34A853"}),i.createElement("path",{d:"m3.9641 10.71c-0.18-0.54-0.28227-1.1168-0.28227-1.71s0.10227-1.17 0.28227-1.71v-2.3318h-3.0068c-0.60955 1.215-0.95727 2.5895-0.95727 4.0418 0 1.4523 0.34773 2.8268 0.95727 4.0418l3.0068-2.3318z",fill:"#FBBC05"}),i.createElement("path",{d:"m9 3.5795c1.3214 0 2.5077 0.45409 3.4405 1.3459l2.5814-2.5814c-1.5586-1.4523-3.5959-2.3441-6.0218-2.3441-3.5182 0-6.5618 2.0168-8.0427 4.9582l3.0068 2.3318c0.70773-2.1273 2.6918-3.7105 5.0359-3.7105z",fill:"#EA4335"}),i.createElement("path",{d:"m0 0h18v18h-18v-18z"}))))))}var Le=i.forwardRef(De),Pe=(n.p,function(){var e=function(){var e=Q({status:r.loaded}),t=Object(p.a)(e,2),n=t[0],i=t[1],a=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({status:r.loading}),e.prev=1,e.next=4,gapi.auth2.getAuthInstance().signIn();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),v("Something went wrong trying to log you in","danger");case 10:i({status:r.loaded});case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return{state:n,onLogin:a}}(),t=e.state,n=e.onLogin;return Object(x.jsx)(Be,{children:Object(x.jsxs)(Me,{disabled:t.disabled,onClick:n,children:[Object(x.jsx)(Le,{})," Login with Google"]})})}),Ue=function(){var e=function(){var e=Object(i.useContext)(G),t=U()(Object(o.a)({},e)),n=Object(p.a)(t,2),a=n[0],c=n[1];return Object(i.useEffect)((function(){var e=!0,t=B(),n=t.client_id,i=function(){if(e)return c({authenticated:!1,signedin:!1,status:r.loaded})};return n?(T().then(Object(b.a)(u.a.mark((function n(){var i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return D((function(t){if(e)return c({signedin:t})})),i=t.accounts.reduce((function(e,t){return{ids:[].concat(Object(f.a)(e.ids),[t]),entities:Object(o.a)(Object(o.a)({},e.entities),{},Object(h.a)({},t,{title:"",spreadsheetId:t,initialised:!1,loading:!1,error:!1}))}}),{ids:[],entities:{}}),n.abrupt("return",c({status:r.loaded,authenticated:!0,signedin:gapi.auth2.getAuthInstance().isSignedIn.get(),accounts:i}));case 3:case"end":return n.stop()}}),n)})))).catch((function(t){e&&(v(t,"danger"),i())})),function(){e=!1}):i()}),[c]),{state:a,onAddAccount:function(e){var t=B();M({accounts:[].concat(Object(f.a)(t.accounts),[e.spreadsheetId])})}}}(),t=e.state,n=e.onAddAccount;return Object(x.jsx)(G.Provider,{value:Object(o.a)(Object(o.a)({},t),{},{onAddAccount:n}),children:Object(x.jsxs)(H,{children:[t.status===r.initializing?Object(x.jsx)(Y,{hasSpinner:!0,children:"Initialising"}):t.authenticated?t.signedin?Object(x.jsx)(Ae,{}):Object(x.jsx)(Pe,{}):Object(x.jsx)(Z,{}),Object(x.jsx)(w,{}),Object(x.jsx)(be,{})]})})},Ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(x.jsx)(Ue,{}),document.getElementById("root")),Ge()}},[[65,1,2]]]);
//# sourceMappingURL=main.452e863c.chunk.js.map