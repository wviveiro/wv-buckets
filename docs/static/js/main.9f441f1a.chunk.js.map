{"version":3,"sources":["components/util/status/index.ts","components/global-style/global-style.tsx","components/alert/alert.styled.ts","components/alert/alert.tsx","components/schemas/database.interface.ts","components/util/use-state-status/index.ts","components/ui-components/bottom-modal/bottom-modal.styled.ts","components/ui-components/bottom-modal/bottom-modal.tsx","components/ui-components/bottom-modal/bottom-modal.hook.ts","components/ui-components/confirm-modal/confirm-modal.tsx","components/schemas/wvbuckets/wvbuckets.interface.ts","components/global-settings/global-settings.interface.ts","components/global-settings/global-settings.ts","components/images/btn_google_light_normal_ios.svg","components/google/google-api/google-api.ts","components/util/number-to-letter/index.ts","components/sheet-api/sheet-api.ts","components/schemas/database.service.ts","components/redux/slices/accounts/index.ts","components/redux/slices/auth/index.ts","components/redux/store/index.ts","components/ui-components/layout/layout.hook.ts","components/ui-components/layout/layout.styled.ts","components/ui-components/layout/layout.tsx","components/redux/selectors/auth/index.ts","components/splash-screen/splash-screen.styled.ts","components/splash-screen/splash-screen.tsx","components/pages/login/login.styled.ts","components/pages/accounts/modal-add-account/modal-add-account.interface.ts","components/pages/login/login.tsx","components/pages/login/login.hook.ts","components/router/auth-route.tsx","components/app/main/main.hook.ts","components/ui-components/bottom-menu/index.tsx","components/ui-components/bottom-menu/bottom-menu.hook.ts","components/redux/selectors/accounts/accounts.selectors.ts","components/redux/selectors/accounts/accounts.helpers.ts","components/redux/selectors/accounts/accounts.hooks.ts","components/pages/accounts/account/account.styled.ts","components/pages/accounts/account/account.tsx","components/pages/accounts/account/account.hook.ts","components/helpers/add-transaction/add-transaction.ts","components/util/noop/index.ts","components/ui-components/row-modal/context/row-modal-context.tsx","components/ui-components/row-modal/row-modal.hook.ts","components/pages/accounts/accounts.service.ts","components/pages/accounts/accounts.hook.ts","components/pages/accounts/accounts.styled.ts","components/pages/accounts/modal-add-account/modal-add-account.hook.ts","components/pages/accounts/modal-add-account/modal-add-account.tsx","components/pages/accounts/no-account/no-account.styled.ts","components/pages/accounts/no-account/no-account.tsx","components/pages/accounts/accounts.tsx","components/ui-components/button/index.tsx","components/ui-components/footer/styled.tsx","components/ui-components/footer/index.tsx","components/ui-components/layout/page-header/page-header.styled.ts","components/ui-components/layout/page-header/page-header.tsx","components/util/format-to-currency/index.ts","components/pages/buckets/buckets.hook.ts","components/pages/buckets/buckets.styled.ts","components/pages/buckets/buckets.tsx","components/pages/category/category-list/category-list.hook.ts","components/pages/category/category-list/category-list.styled.ts","components/ui-components/layout/page/index.tsx","components/pages/category/category-tab/styled.tsx","components/pages/category/category-tab/index.tsx","components/pages/category/category-list/category-list.tsx","components/pages/authenticate/index.tsx","components/pages/category/category-chart/styled.tsx","components/pages/category/category-chart/index.tsx","components/router/routes.tsx","components/app/main/index.tsx","components/ui-components/black-modal/black-modal.styled.ts","components/ui-components/black-modal/black-modal.tsx","components/ui-components/black-modal/black-modal.hook.ts","components/ui-components/date-modal/date-modal.styled.ts","components/ui-components/date-modal/date-modal.tsx","components/ui-components/date-modal/date-modal.hook.ts","components/ui-components/row-modal/row-modal.styled.ts","components/ui-components/row-modal/views/add-category/add-catagory.tsx","components/ui-components/row-modal/views/add-category/add-category.hook.ts","components/ui-components/toggler/toggler.styled.ts","components/ui-components/toggler/toggler.tsx","components/ui-components/row-modal/views/main/main.tsx","components/ui-components/row-modal/views/select-account/select-account.tsx","components/ui-components/row-modal/views/select-category/select-category.tsx","components/ui-components/row-modal/row-modal.tsx","components/app/app.tsx","reportWebVitals.js","index.tsx"],"names":["Status","GlobalStyle","createGlobalStyle","theme","colors","primary","danger","success","background","background2","textWhite","textBlack","gray","gray2","device","padding","paddingBottom","paddingTop","paddingLeft","paddingRight","LayoutTheme","children","AlertComponent","styled","Alert","setAlert","message","AlertsCreator","useState","alerts","setAlerts","useEffect","mounted","alert","console","error","_alerts","slice","push","variant","map","i","onClose","index","splice","InnerAlert","show","setShow","setTimeout","onClick","style","position","bottom","EnumSchemas","useStateStatus","state","useCreateState","status","initializing","_state","setState","disabled","loaded","bottomModalTransitionMilliseconds","BottomModalContainerInner","div","BottomModalTitleContainer","h2","BottomModalDisclaimer","p","BottomModalContainer","props","css","BottomModalButton","button","BottomModal","className","render","setRender","open","useLayoutEffect","useBottomModalState","classNames","isMenu","menu","row","href","label","to","components","Title","Disclaimer","Button","Object","assign","initialState","title","description","confirmText","cancelText","confirmVariant","cancelVariant","closed","onCancel","onConfirm","args","ConfirmModal","ev","isDefaultPrevented","isPropagationStopped","WVBucketSchema","date","amount","type","category","GlobalEnum","Schemas","name","WVBUCKET","schema","_desc","_defs","_g","getGlobalSettings","defaultSettings","apikey","client_id","process","spid","accounts","access_token","wvid","strGlobalSettings","localStorage","getItem","globalSettings","JSON","parse","setGlobalSettings","setItem","stringify","saveGlobalSettings","fetchGoogleApi","url","a","options","retry","settings","fallback","Error","requestToken","fetch","headers","Authorization","json","result","new_access_token","authToken","checkResult","getUserInfo","treatGoogleAPIError","details","numberToLetter","num","s","t","String","fromCharCode","getSpreadsheetDetails","spreadsheetId","Promise","resolve","reject","body","createSheet","columns","method","requests","addSheet","properties","addSheetRows","replies","sheetId","rows","values","getSheetRows","paramArgs","from","lastColumn","createSpreadsheet","initialiseDatabase","spreadsheetIds","sheets","reduce","acc","curr","schemas","Schema","entries","id","length","key","entry","v","undefined","replace","isNaN","initialised","loading","accountsAdapter","createEntityAdapter","selectId","account","accountSlice","createSlice","getInitialState","reducers","importAccounts","action","payload","upsertMany","startLoadingAccount","entity","entities","loadAccounts","loadAccountError","removeAccount","removeOne","addTransactionAccount","accountid","transaction","actions","authSlice","authenticated","signedin","setAuth","prototype","hasOwnProperty","call","logout","store","configureStore","reducer","auth","useLayoutState","sideMenu","width","window","innerWidth","dispatch","useDispatch","onResize","addEventListener","removeEventListener","toggleSideMenu","onSignout","confirmDeleteSettings","removeItem","location","reload","LayoutContainer","Layout","icon","faBars","right","faCaretLeft","selectAuth","SplashScreenContainer","SplashScreen","hasSpinner","faFan","spin","LoginContainer","LoginButtton","_extends","target","arguments","source","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBtnGoogleLightNormalIos","_ref","svgRef","titleId","viewBox","xmlns","xmlnsXlink","ref","x","y","height","dx","dy","in","stdDeviation","rx","fill","fillRule","transform","filter","xlinkHref","d","ModalAddAccountErrors","ForwardRef","Login","popup","useRef","onLogin","current","event","origin","data","authenticatedReceivedId","close","useLoginState","AuthRoute","component","rest","AuthComponent","Component","useSelector","isAuthenticated","useMainState","BottomMenu","setClosed","useBottomMenuState","selectAccounts","getAccountDetails","getAccount","getAccountRows","balance","getAccountBalance","buckets","trim","ids","includes","total","sort","getAccountBuckets","useAccountDetails","initialise","useMemo","init","AccountContainer","AccountBalance","span","negative","Account","onShowMenu","history","useHistory","openBuckets","useAccountState","faCreditCard","toLocaleString","faEllipsisH","addTransaction","noop","asyncNoop","DefaultState","openAccountList","openCategoryList","openAddCategory","openDatePicker","view","format","Date","account_id","RowModalContext","React","createContext","typeOptions","decimal","integer","multipleAccounts","selectedAccount","accountBuckets","accountBalance","onSelectType","onKeyPressAmount","onSetDescription","onSelectAccount","onSave","useRowModalContext","useContext","rowController","onAddAccount","accountExists","find","useAccountsState","typeCreation","useParams","showMenu","setShowMenu","onCopyURL","navigator","clipboard","writeText","onSetShowMenu","onClickDelete","onDeleteAccount","onAddRowModal","AccountsContainer","ModalAddAccount","onImport","missingUrl","found","match","invalidUrl","hasError","onCreateAccount","response","onModalClose","handleCreateButton","onChangeValue","value","useModalAddAccountState","Form","Group","Control","placeholder","onChange","Feedback","display","NoAccountContainer","NoAccount","faMoneyCheckAlt","Main","FooterContainer","LayoutFooter","PageHeaderContainer","PageHeader","linkBack","faChevronLeft","formatToCurrency","currency","useBucketsState","addValue","preventDefault","BucketsContainer","BucketErrorContainer","BucketContentContainer","AddButton","BucketItem","Link","Buckets","bucketId","faPlus","useCategoryList","chartDisplay","setChartDisplay","bucket","rowDates","dates","dt","dateObj","reverse","formatDate","chartObj","keyFormats","week","month","day","forEach","obj","Math","floor","chartData","round","available","hasBucket","chartTypes","handleChangeChartType","CategoryListContainer","CurrencyTotal","LineAmount","PageContainer","PageBody","TabContainer","TabButton","mainRoute","CategoryTab","isList","useRouteMatch","path","isChart","CategoryList","Authenticate","opener","parent","postMessage","ChartTypeButton","ChartTypeContainer","CategoryChart","themeContext","ThemeContext","charAt","toUpperCase","substring","ResponsiveContainer","ComposedChart","Bar","dataKey","CartesianGrid","strokeDasharray","XAxis","Tooltip","labelStyle","color","formatter","Router","BlackModalContainer","noBackground","BlackModalTitle","BlackModalList","BlackModalListItem","BlackModal","useBlackModalState","Item","leftButton","rightButton","List","DateModalContainer","DateModalInner","DateModalButtonsContainer","DateModal","parseISO","setDate","onAccept","useDateModalState","selected","inline","calendarClassName","RowModalContainer","AddCategory","context","onChangeCategory","e","onAddCategory","useAddCategory","TogglerContainer","left","findIndex","option","Toggler","containerProps","classes","onClickOption","optionContainer","optionButton","RowMainView","faTimes","faChevronRight","onKeyDown","inputMode","SelectAccount","faChevronDown","SelectAccountItem","faCheck","SelectCategory","RowModal","accountDetails","formatedNumber","padStart","stramount","substr","padEnd","useRowModal","Provider","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9f441f1a.chunk.js","sourcesContent":["// Enum list of statuses used throughout application\nexport enum Status {\n  initializing = 1,\n  loaded = 2,\n  loading = 3,\n}\n","import React from 'react';\nimport { createGlobalStyle, ThemeProvider } from 'styled-components';\nimport { GlobalStyleTheme } from './global-style.interface';\n\n/**\n * Global CSS\n */\nexport const GlobalStyle = createGlobalStyle`\n    \n    html, body, #root {\n      height: 100%;\n      touch-action: pan-y;\n      background-color: #202124;\n    }\n\n    * {\n        box-sizing: border-box;\n        font-family: 'Open Sans', sans-serif;\n    }\n\n    h1, h2 {\n      font-weight: bold;\n    }\n\n    button, a {\n      border: 0;\n      background: none;\n      text-decoration: none;\n\n      &:focus {\n        outline: none;\n      }\n\n      &:disabled {\n        opacity: .5;\n      }\n    }\n\n    .flex {\n      display: flex;\n\n      &.alignCenter {\n        align-items: center;\n      }\n\n      &.justifyCenter {\n        justify-content: center;\n      }\n\n      & > .flexGrow {\n        flex-grow: 1;\n      }\n    }\n  `;\n\n/**\n * Main Theme\n */\nconst theme: GlobalStyleTheme = {\n  colors: {\n    primary: 'var(--bs-primary)',\n    danger: 'var(--bs-danger)',\n    success: 'var(--bs-success)',\n    background: '#202124',\n    background2: 'rgb(28, 28, 28)',\n    textWhite: '#FFF',\n    textBlack: '#000',\n    gray: 'rgba(120, 120, 120, 1)',\n    gray2: 'rgba(255, 255, 255, 0.05)',\n  },\n  device: {\n    padding:\n      'env(safe-area-inset-top) env(safe-area-inset-right) calc(env(safe-area-inset-bottom) + 20px) env(safe-area-inset-left)',\n    paddingBottom: 'calc(env(safe-area-inset-bottom) + 20px)',\n    paddingTop: 'env(safe-area-inset-top)',\n    paddingLeft: 'env(safe-area-inset-left)',\n    paddingRight: 'env(safe-area-inset-right)',\n  },\n};\n\n/**\n * Main style and theme of application\n */\nexport const LayoutTheme: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyle />\n      {children}\n    </ThemeProvider>\n  );\n};\n","import styled from 'styled-components';\nimport { Alert } from 'react-bootstrap';\n\nexport const AlertComponent = styled(Alert)`\n  position: 'fixed';\n  bottom: 0;\n  width: 100%;\n  z-index: 1051;\n`;\n","import React, { useEffect, useState } from 'react';\nimport { InnerAlertInterface } from './alert.interface';\nimport { AlertComponent } from './alert.styled';\n\nexport let setAlert = (\n  message: string,\n  alert: InnerAlertInterface['variant'] = 'warning'\n) => {\n  // not implemented\n};\n\nexport const AlertsCreator = () => {\n  const [alerts, setAlerts] = useState<Array<InnerAlertInterface>>([]);\n\n  useEffect(() => {\n    let mounted = true;\n    setAlert = (\n      message: string,\n      alert: InnerAlertInterface['variant'] = 'warning'\n    ) => {\n      if (!mounted) return;\n\n      if (typeof message !== 'string') {\n        console.error('Error: ', message);\n        message = 'Invalid error message';\n      }\n\n      const _alerts = alerts.slice(0);\n      _alerts.push({ message, variant: alert });\n      setAlerts(_alerts);\n    };\n\n    return () => {\n      mounted = false;\n    };\n  }, [alerts]);\n\n  const onClose = (index: number) => {\n    return () => {\n      const _alerts = alerts.slice(0);\n      _alerts.splice(index, 1);\n      setAlerts(_alerts);\n    };\n  };\n\n  return (\n    <>\n      {alerts.map((alert, i) => (\n        <InnerAlert key={i} {...alert} onClose={onClose(i)} />\n      ))}\n    </>\n  );\n};\n\nexport const InnerAlert: React.FC<InnerAlertInterface> = ({\n  message,\n  variant,\n  onClose,\n}) => {\n  const [show, setShow] = useState(true);\n\n  useEffect(() => {\n    let mounted = true;\n    setTimeout(() => {\n      if (!mounted) return;\n      setShow(false);\n    }, 3000);\n\n    return () => {\n      mounted = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    let mounted = true;\n    if (!show) {\n      setTimeout(() => {\n        if (!mounted) return;\n        if (onClose) onClose();\n      }, 500);\n    }\n    return () => {\n      mounted = false;\n    };\n  }, [show, onClose]);\n\n  return (\n    <AlertComponent\n      variant={variant}\n      show={show}\n      onClick={() => setShow(false)}\n      style={{ position: 'fixed', bottom: '0' }}\n    >\n      {message}\n    </AlertComponent>\n  );\n};\n","import { SchemaBuilder } from './schemas.interface';\n\nimport {\n  WVBucketInterface,\n  WVBucketSchema,\n} from './wvbuckets/wvbuckets.interface';\n\nexport type SchemaTypes = WVBucketInterface;\nexport enum EnumSchemas {\n  WVBUCKET = 'WVBUCKET',\n}\n\nexport interface SchemaInterface {\n  name: EnumSchemas;\n  schema: SchemaBuilder<SchemaTypes>;\n}\n\n/**\n * Build Application database\n */\nexport type DatabaseInterface = {\n  [key in EnumSchemas]: {\n    id: string | number;\n    rows: SchemaTypes[];\n  };\n};\n\n/**\n * All schemas to build application\n */\nexport const Schemas: SchemaInterface[] = [\n  {\n    name: EnumSchemas.WVBUCKET,\n    schema: WVBucketSchema,\n  },\n];\n\nexport type SheetProperties = gapi.client.sheets.SheetProperties;\n","import useCreateState from 'react-hook-setstate';\nimport { Status } from '../status';\n\ntype UseStateStatus<T> = T & {\n  status: Status;\n};\n\nexport type UseStateInterface<T> = UseStateStatus<T> & { disabled: boolean };\n\ntype ReturnUseState<T> = [\n  UseStateInterface<T>,\n  (args: Partial<UseStateStatus<T>>) => void\n];\n\nexport const useStateStatus = <T>(state: T): ReturnUseState<T> => {\n  const [_state, setState] = useCreateState<UseStateStatus<T>>({\n    status: Status.initializing,\n    ...state,\n  });\n  const disabled = _state.status !== Status.loaded;\n\n  return [{ ..._state, disabled }, setState];\n};\n","import styled, { css } from 'styled-components/macro';\nimport {\n  BottomModalButtonProps,\n  BottomModalProps,\n} from './bottom-modal.interface';\n\nexport const bottomModalTransitionMilliseconds = 250;\n\nexport const BottomModalContainerInner = styled.div``;\n\nexport const BottomModalTitleContainer = styled.h2``;\n\nexport const BottomModalDisclaimer = styled.p``;\n\nexport const BottomModalContainer = styled.div<BottomModalProps>`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n\n  transition: background-color ${bottomModalTransitionMilliseconds}ms linear;\n\n  ${(props) =>\n    props.show\n      ? css`\n          background-color: rgba(0, 0, 0, 0.5);\n        `\n      : css`\n          background-color: transparent;\n        `}\n\n  ${BottomModalTitleContainer} {\n    margin-bottom: 20px;\n  }\n\n  ${BottomModalDisclaimer} {\n    font-style: italic;\n    font-size: 0.85rem;\n    opacity: 0.7;\n  }\n\n  .main-container-menu {\n    position: fixed;\n    width: 100%;\n    bottom: 0;\n    transition: bottom ${bottomModalTransitionMilliseconds}ms linear;\n    ${(props) =>\n      props.show\n        ? css`\n            bottom: 0;\n          `\n        : css`\n            bottom: -100vh;\n          `}\n\n    .main-content-bottom-modal {\n      margin-bottom: 15px;\n    }\n\n    .menu-item {\n      a,\n      button {\n        color: ${(props) => props.theme.colors.primary};\n        border-top: solid 1px #eee;\n        width: 100%;\n        padding: 10px;\n      }\n\n      &.text-danger {\n        a,\n        button {\n          color: ${(props) => props.theme.colors.danger};\n        }\n      }\n\n      &:only-child {\n        a,\n        button {\n          border-top: 0;\n          padding: 0;\n        }\n      }\n    }\n  }\n\n  ${BottomModalContainerInner} {\n    color: ${(props) => props.theme.colors.textBlack};\n    background: #fff;\n    border-radius: 30px 30px 0 0;\n    padding: 30px;\n    text-align: center;\n  }\n\n  &.isMenu {\n    .main-container-menu {\n      padding-bottom: ${(props) => props.theme.device.paddingBottom};\n    }\n\n    ${BottomModalContainerInner} {\n      border-radius: 15px;\n      margin: 0 15px;\n      padding: 15px;\n\n      &:not(:first-child) {\n        margin-top: 10px;\n      }\n    }\n  }\n`;\n\nexport const BottomModalButton = styled.button<BottomModalButtonProps>`\n  width: 100%;\n  ${(props) =>\n    !props.variant || props.variant === 'regular'\n      ? css`\n          color: #000;\n          font-weight: bold;\n          text-decoration: none;\n        `\n      : css`\n          padding: 20px;\n          background: ${props.variant === 'primary'\n            ? props.theme.colors.background\n            : props.theme.colors[props.variant]};\n          color: ${(props) => props.theme.colors.textWhite};\n          border: 0;\n          border-radius: 5px;\n          margin: 30px 0 10px;\n          text-transform: uppercase;\n        `}\n\n  &:disabled {\n    opacity: 0.5;\n  }\n`;\n","import React from 'react';\nimport classNames from 'classnames';\nimport {\n  BottomModalButton,\n  BottomModalContainer,\n  BottomModalContainerInner,\n  BottomModalDisclaimer,\n  BottomModalTitleContainer,\n} from './bottom-modal.styled';\nimport { BottomModalProps } from './bottom-modal.interface';\nimport { useBottomModalState } from './bottom-modal.hook';\nimport { Link } from 'react-router-dom';\n\nexport const BottomModal: React.FC<BottomModalProps> = (props) => {\n  const { children, className } = props;\n  const { show, render } = useBottomModalState(props);\n\n  if (!render) return null;\n\n  return (\n    <BottomModalContainer\n      show={show}\n      className={classNames(className, {\n        isMenu: !!props.menu,\n      })}\n    >\n      <div className=\"main-container-menu\">\n        {props.menu ? (\n          props.menu.map((row, i) => (\n            <BottomModalContainerInner key={i}>\n              {i === 0 && children && (\n                <div className=\"main-content-bottom-modal\">{children}</div>\n              )}\n\n              {row.map((menu, index) => (\n                <div\n                  key={index}\n                  className={classNames('menu-item', menu.className)}\n                >\n                  {menu.href ? (\n                    <a href={menu.href} onClick={menu.onClick}>\n                      {menu.label}\n                    </a>\n                  ) : menu.to ? (\n                    <Link to={menu.to}>{menu.label}</Link>\n                  ) : (\n                    <button onClick={menu.onClick}>{menu.label}</button>\n                  )}\n                </div>\n              ))}\n            </BottomModalContainerInner>\n          ))\n        ) : (\n          <BottomModalContainerInner>{children}</BottomModalContainerInner>\n        )}\n      </div>\n    </BottomModalContainer>\n  );\n};\n\nexport const Title = BottomModalTitleContainer;\nexport const Disclaimer = BottomModalDisclaimer;\nexport const Button = BottomModalButton;\n\nconst components = {\n  Title,\n  Disclaimer,\n  Button,\n};\n\nexport default Object.assign(BottomModal, components);\n","import { useLayoutEffect, useState } from 'react';\nimport { BottomModalProps } from './bottom-modal.interface';\nimport { bottomModalTransitionMilliseconds } from './bottom-modal.styled';\n\nexport const useBottomModalState = (props: BottomModalProps) => {\n  const [render, setRender] = useState(false);\n  const [show, setShow] = useState(false);\n\n  const { show: open, onClose } = props;\n\n  useLayoutEffect(() => {\n    let mounted = true;\n    if (open && !render && !show) {\n      setRender(true);\n    } else if (open && render && !show) {\n      setTimeout(() => {\n        if (!mounted) return;\n        setShow(true);\n      }, 1);\n    } else if (!open && render && show) {\n      setShow(false);\n    } else if (!open && render && !show) {\n      setTimeout(() => {\n        if (!mounted) return;\n        setRender(false);\n        if (onClose) onClose();\n      }, bottomModalTransitionMilliseconds);\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [open, render, show, onClose]);\n\n  return { show, render };\n};\n","import { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport React, { useEffect } from 'react';\nimport BottomModal from '../bottom-modal';\nimport { ConfirmModalState } from './confirm-modal.interface';\n\nexport const initialState: ConfirmModalState = {\n  status: Status.loaded,\n  title: 'Are you sure?',\n  description: 'This action cannot be undone',\n  confirmText: 'CONFIRM',\n  cancelText: 'CANCEL',\n  confirmVariant: 'danger',\n  cancelVariant: 'regular',\n  show: false,\n  closed: true,\n  onCancel: () => {\n    // not implemented\n  },\n  onConfirm: () => {\n    // not implemented\n  },\n};\n\nexport let onConfirm = (args: Partial<ConfirmModalState>) => {\n  // Not implemented\n};\n\nexport const ConfirmModal = () => {\n  const [state, setState] = useStateStatus<ConfirmModalState>(initialState);\n\n  useEffect(() => {\n    onConfirm = (args: Partial<ConfirmModalState>) => {\n      setState({\n        ...args,\n        show: true,\n        closed: false,\n      });\n    };\n  }, [setState]);\n\n  const onClose = () => {\n    setState(initialState);\n  };\n\n  const onCancel = (ev: React.MouseEvent<HTMLButtonElement>) => {\n    state.onCancel(ev);\n    if (ev.isDefaultPrevented() || ev.isPropagationStopped()) return;\n    setState({ show: false });\n  };\n\n  const onConfirmButton = (ev: React.MouseEvent<HTMLButtonElement>) => {\n    state.onConfirm(ev);\n    if (ev.isDefaultPrevented() || ev.isPropagationStopped()) return;\n    setState({ show: false });\n  };\n\n  if (state.closed) return null;\n\n  return (\n    <BottomModal show={state.show} onClose={onClose}>\n      <BottomModal.Title>{state.title}</BottomModal.Title>\n      <BottomModal.Disclaimer>{state.description}</BottomModal.Disclaimer>\n      <BottomModal.Button\n        variant={state.confirmVariant}\n        onClick={onConfirmButton}\n      >\n        {state.confirmText}\n      </BottomModal.Button>\n      <BottomModal.Button variant={state.cancelVariant} onClick={onCancel}>\n        {state.cancelText}\n      </BottomModal.Button>\n    </BottomModal>\n  );\n};\n","import { SchemaBuilder } from '../schemas.interface';\n\nexport interface WVBucketInterface {\n  date: string;\n  amount: number;\n  category: string;\n  message: string;\n}\n\nexport const WVBucketSchema: SchemaBuilder<WVBucketInterface> = {\n  date: { label: 'Date' },\n  amount: { label: 'Amount', type: 'number' },\n  category: { label: 'Category' },\n  message: { label: 'Message' },\n};\n","export interface GlobalSettingsInterface {\n  /** API KEY from google console https://console.developers.google.com */\n  apikey: string;\n  /** Client ID from OAUTH from google console https://console.developers.google.com */\n  client_id: string;\n  /** spreadsheet ID from the used spreadsheet */\n  spid: string;\n  /** list of spreadsheet IDs */\n  accounts: string[];\n  /** Access token from google */\n  access_token: string;\n  /** Id received from wvbucket authentication */\n  wvid: string;\n}\n\nexport enum GlobalEnum {\n  name = 'wvbucketSettings',\n}\n","import {\n  GlobalEnum,\n  GlobalSettingsInterface,\n} from './global-settings.interface';\n\n/**\n * Get global settings from local storage\n */\nexport const getGlobalSettings = (): GlobalSettingsInterface => {\n  const defaultSettings: GlobalSettingsInterface = {\n    apikey: '',\n    client_id: process.env.REACT_APP_GOOGLE_CLIENT_ID || '',\n    spid: '',\n    accounts: [],\n    access_token: '',\n    wvid: '',\n  };\n\n  const strGlobalSettings = localStorage.getItem(GlobalEnum.name);\n  if (!strGlobalSettings) return defaultSettings;\n  const globalSettings: GlobalSettingsInterface = JSON.parse(strGlobalSettings);\n  if (!globalSettings) return defaultSettings;\n  return globalSettings;\n};\n\n/**\n * Save changes on global settings in local storage\n */\nexport const saveGlobalSettings = (globalSettings: GlobalSettingsInterface) => {\n  localStorage.setItem(GlobalEnum.name, JSON.stringify(globalSettings));\n};\n\n/**\n * Remove local storage\n */\nexport const deleteGlobalSettings = () => {\n  localStorage.removeItem(GlobalEnum.name);\n};\n\nexport const setGlobalSettings = (state: Partial<GlobalSettingsInterface>) => {\n  const globalSettings = {\n    ...getGlobalSettings(),\n    ...state,\n  };\n\n  saveGlobalSettings(globalSettings);\n};\n","var _desc, _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBtnGoogleLightNormalIos(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 46 46\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"btn_google_light_normal_ios\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"b\",\n    x: \"-50%\",\n    y: \"-50%\",\n    width: \"200%\",\n    height: \"200%\"\n  }, /*#__PURE__*/React.createElement(\"feOffset\", {\n    dx: 0,\n    dy: 1,\n    in: \"SourceAlpha\",\n    result: \"shadowOffsetOuter1\"\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    in: \"shadowOffsetOuter1\",\n    result: \"shadowBlurOuter1\",\n    stdDeviation: 0.5\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    in: \"shadowBlurOuter1\",\n    result: \"shadowMatrixOuter1\",\n    values: \"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0\"\n  }), /*#__PURE__*/React.createElement(\"feOffset\", {\n    dx: 0,\n    dy: 0,\n    in: \"SourceAlpha\",\n    result: \"shadowOffsetOuter2\"\n  }), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n    in: \"shadowOffsetOuter2\",\n    result: \"shadowBlurOuter2\",\n    stdDeviation: 0.5\n  }), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    in: \"shadowBlurOuter2\",\n    result: \"shadowMatrixOuter2\",\n    values: \"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0\"\n  }), /*#__PURE__*/React.createElement(\"feMerge\", null, /*#__PURE__*/React.createElement(\"feMergeNode\", {\n    in: \"shadowMatrixOuter1\"\n  }), /*#__PURE__*/React.createElement(\"feMergeNode\", {\n    in: \"shadowMatrixOuter2\"\n  }), /*#__PURE__*/React.createElement(\"feMergeNode\", {\n    in: \"SourceGraphic\"\n  }))), /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"a\",\n    width: 40,\n    height: 40,\n    rx: 2\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-1 -1)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(4 4)\",\n    filter: \"url(#b)\"\n  }, /*#__PURE__*/React.createElement(\"use\", {\n    fill: \"#FFFFFF\",\n    fillRule: \"evenodd\",\n    xlinkHref: \"#a\"\n  }), /*#__PURE__*/React.createElement(\"use\", {\n    fill: \"none\",\n    xlinkHref: \"#a\"\n  }), /*#__PURE__*/React.createElement(\"use\", {\n    fill: \"none\",\n    xlinkHref: \"#a\"\n  }), /*#__PURE__*/React.createElement(\"use\", {\n    fill: \"none\",\n    xlinkHref: \"#a\"\n  })), /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(15 15)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m17.64 9.2045c0-0.63818-0.057273-1.2518-0.16364-1.8409h-8.4764v3.4814h4.8436c-0.20864 1.125-0.84273 2.0782-1.7959 2.7164v2.2582h2.9086c1.7018-1.5668 2.6836-3.8741 2.6836-6.615z\",\n    fill: \"#4285F4\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9 18c2.43 0 4.4673-0.80591 5.9564-2.1805l-2.9086-2.2582c-0.80591 0.54-1.8368 0.85909-3.0477 0.85909-2.3441 0-4.3282-1.5832-5.0359-3.7105h-3.0068v2.3318c1.4809 2.9414 4.5245 4.9582 8.0427 4.9582z\",\n    fill: \"#34A853\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m3.9641 10.71c-0.18-0.54-0.28227-1.1168-0.28227-1.71s0.10227-1.17 0.28227-1.71v-2.3318h-3.0068c-0.60955 1.215-0.95727 2.5895-0.95727 4.0418 0 1.4523 0.34773 2.8268 0.95727 4.0418l3.0068-2.3318z\",\n    fill: \"#FBBC05\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m9 3.5795c1.3214 0 2.5077 0.45409 3.4405 1.3459l2.5814-2.5814c-1.5586-1.4523-3.5959-2.3441-6.0218-2.3441-3.5182 0-6.5618 2.0168-8.0427 4.9582l3.0068 2.3318c0.70773-2.1273 2.6918-3.7105 5.0359-3.7105z\",\n    fill: \"#EA4335\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 0h18v18h-18v-18z\"\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBtnGoogleLightNormalIos);\nexport default __webpack_public_path__ + \"static/media/btn_google_light_normal_ios.1e32a743.svg\";\nexport { ForwardRef as ReactComponent };","import {\n  getGlobalSettings,\n  setGlobalSettings,\n} from 'components/global-settings';\nimport { FetchResult } from './google-api.types';\n\n/**\n * Fetch from google API using fetch\n * @param url\n * @returns\n */\nexport const fetchGoogleApi = async <T extends unknown>(\n  url: string,\n  options: RequestInit = {},\n  retry: boolean = false\n): Promise<T> => {\n  const { wvid, ...settings } = getGlobalSettings();\n\n  const fallback = async () => {\n    if (!wvid) throw new Error('WVID not set');\n    return await requestToken(wvid);\n  };\n\n  const access_token = settings.access_token || (await fallback());\n\n  const result = await (\n    await fetch(url, {\n      ...options,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${access_token}`,\n        ...options.headers,\n      },\n    })\n  ).json();\n\n  if (result.error) {\n    if (!retry) {\n      const new_access_token = await fallback();\n      setGlobalSettings({ access_token: new_access_token });\n      return fetchGoogleApi(url, options, true);\n    }\n\n    throw new Error(result.error.message);\n  }\n\n  return result;\n};\n\nexport const requestToken = async (authToken: string) => {\n  const checkResult = await (\n    await fetch(`${process.env.REACT_APP_BACKEND}/request-token`, {\n      headers: {\n        Authorization: `Bearer ${authToken}`,\n      },\n    })\n  ).json();\n\n  if (!checkResult.access_token) throw new Error('Invalid WVID token');\n\n  return checkResult.access_token;\n};\n\n/** Get user basic info */\nexport const getUserInfo = async (): Promise<FetchResult> => {\n  return await fetchGoogleApi<FetchResult>(\n    'https://www.googleapis.com/oauth2/v1/userinfo'\n  );\n};\n\nexport const treatGoogleAPIError = (error: any): string => {\n  console.error(error);\n  if (typeof error === 'string') return error;\n  if (error?.message) {\n    return error.message;\n  } else if (error?.details) {\n    return error.details;\n  } else if (error?.result?.error?.message) {\n    return error?.result?.error?.message;\n  } else {\n    return 'Something went wrong trying to authenticated. Check your log';\n  }\n};\n","/**\n * Transform a interger number into letter\n */\nexport const numberToLetter = (num: number) => {\n  let s = '';\n\n  while (num > 0) {\n    const t = (num - 1) % 26;\n    s = `${String.fromCharCode(65 + t)}${s}`;\n    num = ((num - t) / 26) | 0;\n  }\n  return s;\n};\n","import {\n  fetchGoogleApi,\n  treatGoogleAPIError,\n} from 'components/google/google-api/google-api';\nimport { numberToLetter } from 'components/util/number-to-letter';\n\n/**\n * Subscribe user to receive user sign status\n */\nlet _subscriptions: ((signedin: boolean) => void)[] = [];\nlet _subscriptionInitialised = false;\nexport const subscribeUserSignedStatus = (\n  callback: (signedin: boolean) => void\n) => {\n  _subscriptions.push(callback);\n\n  if (!_subscriptionInitialised) {\n    const subscriptionCaller = (signedin: boolean) => {\n      _subscriptions.forEach((callback) => callback(signedin));\n    };\n\n    const instance = gapi.auth2.getAuthInstance();\n    instance.isSignedIn.listen(subscriptionCaller);\n  }\n\n  return () => {\n    _subscriptions = _subscriptions.filter((_cb) => _cb !== callback);\n  };\n};\n\nexport const hasSheetScope = () => {\n  return gapi.auth2\n    .getAuthInstance()\n    .currentUser.get()\n    .hasGrantedScopes('https://www.googleapis.com/auth/spreadsheets');\n};\n\n/**\n * Verify if user is signed in\n */\nexport const isSignedIn = () => {\n  const instance = gapi.auth2.getAuthInstance();\n\n  return instance.isSignedIn.get();\n};\n\n/**\n * Start signin process\n */\nexport const onSignIn = () => {\n  return gapi.auth2.getAuthInstance().signIn();\n};\n\n/**\n * Start signout process\n */\nexport const onSignOut = () => {\n  return gapi.auth2.getAuthInstance().signOut();\n};\n\n/**\n * Get details of a spreadsheet\n */\nexport const getSpreadsheetDetails = async (\n  spreadsheetId: string\n): Promise<gapi.client.Request<gapi.client.sheets.Spreadsheet>> => {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const result = await fetchGoogleApi<gapi.client.sheets.Spreadsheet>(\n        `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}`\n      );\n\n      return resolve({ body: '', result });\n    } catch (error: any) {\n      return reject(treatGoogleAPIError(error));\n    }\n  });\n};\n\n/**\n * Create sheet inside spreadsheet\n */\nexport const createSheet = async (\n  spreadsheetId: string,\n  title: string,\n  columns: string[]\n) => {\n  try {\n    const result = await fetchGoogleApi<{\n      replies?: {\n        addSheet?: {\n          properties?: {\n            title: string;\n            sheetId: string;\n          };\n        };\n      }[];\n    }>(\n      `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}:batchUpdate`,\n      {\n        method: 'POST',\n        body: JSON.stringify({\n          requests: [\n            {\n              addSheet: {\n                properties: {\n                  title,\n                },\n              },\n            },\n          ],\n        }),\n      }\n    );\n\n    await addSheetRows(spreadsheetId, title, [columns]);\n\n    const properties = result.replies?.[0].addSheet?.properties;\n\n    if (!properties) throw new Error('Invalid response from the api.');\n\n    return {\n      title: properties.title,\n      sheetId: properties.sheetId,\n    };\n  } catch (e) {\n    throw treatGoogleAPIError(e);\n  }\n};\n\n/**\n * Add rows to spreadsheet\n */\nexport const addSheetRows = async (\n  spreadsheetId: string,\n  title: string,\n  rows: string[][]\n) => {\n  try {\n    const result = await fetchGoogleApi(\n      `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${title}!A1:append?valueInputOption=USER_ENTERED`,\n      {\n        method: 'POST',\n        body: JSON.stringify({\n          values: rows,\n        }),\n      }\n    );\n    return result;\n  } catch (e) {\n    throw treatGoogleAPIError(e);\n  }\n};\n\n/**\n * Select content of specific sheet\n */\nexport const getSheetRows = async (\n  spreadsheetId: string,\n  title: string,\n  paramArgs?: { from?: number; to?: number; columns?: number }\n) => {\n  const args = {\n    from: 2,\n    columns: 3,\n    ...(paramArgs || {}),\n  };\n\n  const lastColumn = numberToLetter(args.columns || 1);\n\n  const result = await fetchGoogleApi<{ values: string[][] }>(\n    `https://sheets.googleapis.com/v4/spreadsheets/${spreadsheetId}/values/${title}!A2:${lastColumn}`\n  );\n\n  let values = result.values || [];\n\n  return values;\n};\n\nexport const createSpreadsheet = async (title: string) => {\n  try {\n    const result = await fetchGoogleApi<{ spreadsheetId: string }>(\n      `https://sheets.googleapis.com/v4/spreadsheets`,\n      {\n        method: 'POST',\n        body: JSON.stringify({\n          properties: {\n            title,\n          },\n        }),\n      }\n    );\n\n    return result;\n  } catch (e) {\n    throw treatGoogleAPIError(e);\n  }\n};\n","import { treatGoogleAPIError } from 'components/google/google-api/google-api';\nimport { AccountInterface } from 'components/redux/slices/accounts/accounts.interface';\nimport {\n  createSheet,\n  getSheetRows,\n  getSpreadsheetDetails,\n} from 'components/sheet-api';\nimport { SheetProperties } from '.';\nimport { Schemas } from './database.interface';\nimport { DatabaseInterface, SchemaTypes } from './database.interface';\n\nexport const initialiseDatabase = async (\n  spreadsheetIds: string[]\n): Promise<AccountInterface[]> => {\n  const accounts: AccountInterface[] = [];\n  for (const spreadsheetId of spreadsheetIds) {\n    try {\n      const details = await getSpreadsheetDetails(spreadsheetId);\n\n      // Find sheets inside spreadsheet\n      const sheets = (details.result.sheets || []).reduce(\n        (acc: { [key: string]: SheetProperties }, curr) => {\n          if (!curr.properties) return acc;\n          const title = curr.properties?.title || 'Untitled';\n          return {\n            ...acc,\n            [title]: curr.properties,\n          };\n        },\n        {}\n      );\n\n      const schemas: Partial<DatabaseInterface> = {};\n\n      // Verify if all sheets are in the account\n      for (const Schema of Schemas) {\n        if (!sheets[Schema.name]) {\n          // Create schema in the spreadsheet\n          const result = await createSheet(\n            spreadsheetId,\n            Schema.name,\n            Object.entries(Schema.schema).map(([_, entry]) => entry.label)\n          );\n\n          schemas[Schema.name] = {\n            id: result.sheetId || 0,\n            rows: [],\n          };\n        } else {\n          schemas[Schema.name] = {\n            id: sheets[Schema.name].sheetId || 0,\n            rows: [],\n          };\n        }\n\n        const rows = await getSheetRows(spreadsheetId, Schema.name, {\n          columns: Object.entries(Schema.schema).length,\n        });\n\n        (schemas as DatabaseInterface)[Schema.name].rows = rows.map(\n          (row, index) => {\n            const values: [string, string, string | undefined][] =\n              Object.entries(Schema.schema).map(([key, entry], index) => [\n                key,\n                row[index],\n                entry.type,\n              ]);\n\n            return values.reduce((acc, curr) => {\n              if (!curr[0]) return acc;\n              let v: string | number = curr[1];\n\n              if (curr[2] === 'number' && v !== undefined) {\n                const num = +v.replace(/[$,]/g, '');\n                if (!isNaN(num)) v = num;\n              }\n\n              return {\n                ...acc,\n                [curr[0]]: v,\n              };\n            }, {}) as SchemaTypes;\n          }\n        );\n      }\n\n      accounts.push({\n        title: details.result.properties?.title || 'Untitled',\n        spreadsheetId,\n        schemas: schemas as DatabaseInterface,\n        initialised: true,\n        loading: false,\n        error: false,\n      });\n    } catch (error: any) {\n      accounts.push({\n        title: 'Untitled',\n        spreadsheetId,\n        schemas: undefined,\n        error: treatGoogleAPIError(error),\n        initialised: true,\n        loading: false,\n      });\n    }\n  }\n\n  return accounts;\n};\n","import {\n  createSlice,\n  createEntityAdapter,\n  PayloadAction,\n  EntityId,\n} from '@reduxjs/toolkit';\nimport { EnumSchemas } from 'components/schemas';\nimport {\n  AccountInterface,\n  AddTransactionInterface,\n  LoadAccountErrorInterface,\n} from './accounts.interface';\n\nconst accountsAdapter = createEntityAdapter<AccountInterface>({\n  selectId: (account) => account.spreadsheetId,\n});\n\nconst accountSlice = createSlice({\n  name: 'account',\n  initialState: accountsAdapter.getInitialState(),\n  reducers: {\n    /**\n     * Import is the process of adding the accounts not initialised yet\n     */\n    importAccounts: (state, action: PayloadAction<string[]>) => {\n      const accounts = action.payload.map((spreadsheetId) => ({\n        title: '',\n        spreadsheetId,\n        initialised: false,\n        loading: false,\n        error: false,\n      })) as AccountInterface[];\n\n      accountsAdapter.upsertMany(state, accounts);\n    },\n    /**\n     * Set account as loading\n     */\n    startLoadingAccount: (\n      state,\n      { payload: spreadsheetId }: PayloadAction<EntityId>\n    ) => {\n      const entity = state.entities[spreadsheetId];\n      if (entity) {\n        entity.loading = true;\n        entity.error = false;\n      }\n    },\n    loadAccounts: (state, { payload }: PayloadAction<AccountInterface[]>) => {\n      accountsAdapter.upsertMany(state, payload);\n    },\n    loadAccountError: (\n      state,\n      {\n        payload: { spreadsheetId, error },\n      }: PayloadAction<LoadAccountErrorInterface>\n    ) => {\n      const entity = state.entities[spreadsheetId];\n      if (entity) {\n        entity.loading = false;\n        entity.error = error;\n      }\n    },\n    removeAccount: (state, { payload }: PayloadAction<EntityId>) => {\n      accountsAdapter.removeOne(state, payload);\n    },\n    addTransactionAccount: (\n      state,\n      { payload }: PayloadAction<AddTransactionInterface>\n    ) => {\n      state.entities[payload.accountid]?.schemas?.[\n        EnumSchemas.WVBUCKET\n      ].rows.push(payload.transaction);\n    },\n  },\n});\n\nexport const {\n  importAccounts,\n  startLoadingAccount,\n  loadAccounts,\n  removeAccount,\n  addTransactionAccount,\n  loadAccountError,\n} = accountSlice.actions;\n\nexport default accountSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Status } from 'components/util/status';\nimport { AuthInterface } from './auth.interface';\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    status: Status.initializing,\n    authenticated: false,\n    signedin: false,\n    access_token: '',\n  },\n  reducers: {\n    setAuth: (state, { payload }: PayloadAction<Partial<AuthInterface>>) => {\n      if (Object.prototype.hasOwnProperty.call(payload, 'status')) {\n        state.status = payload.status as Status;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(payload, 'authenticated')) {\n        state.authenticated = payload.authenticated as boolean;\n      }\n\n      if (Object.prototype.hasOwnProperty.call(payload, 'signedin')) {\n        state.signedin = payload.signedin as boolean;\n      }\n    },\n    logout: (state) => {\n      state.signedin = false;\n    },\n  },\n});\n\nexport const { setAuth } = authSlice.actions;\nexport default authSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport accountSlice from '../slices/accounts';\nimport authSlice from '../slices/auth';\n\nexport const store = configureStore({\n  reducer: {\n    accounts: accountSlice,\n    auth: authSlice,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n","import {\n  deleteGlobalSettings,\n  setGlobalSettings,\n} from 'components/global-settings';\nimport { setAuth } from 'components/redux/slices/auth';\nimport { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { onConfirm } from '../confirm-modal/confirm-modal';\n\nexport const useLayoutState = () => {\n  const [state, setState] = useStateStatus({\n    status: Status.loaded,\n    sideMenu: false,\n    width: window.innerWidth,\n  });\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    let mounted = true;\n    const onResize = () => {\n      if (!mounted) return;\n      setState({\n        width: window.innerWidth,\n      });\n    };\n\n    window.addEventListener('resize', onResize);\n\n    return () => {\n      mounted = false;\n      window.removeEventListener('resize', onResize);\n    };\n  }, [setState]);\n\n  const toggleSideMenu = (sideMenu?: boolean) => {\n    return () => {\n      setState({\n        sideMenu: sideMenu !== undefined ? sideMenu : !state.sideMenu,\n      });\n    };\n  };\n\n  const onSignout = () => {\n    setGlobalSettings({ access_token: '' });\n    dispatch(setAuth({ signedin: false }));\n  };\n\n  const confirmDeleteSettings = () => {\n    onConfirm({\n      description:\n        'All data of the application will be deleted, but the spreadsheets will be kept under your google account',\n      onConfirm: () => {\n        deleteGlobalSettings();\n        window.location.reload();\n      },\n    });\n  };\n\n  return {\n    state,\n    toggleSideMenu,\n    onSignout,\n    confirmDeleteSettings,\n  };\n};\n","import styled from 'styled-components/macro';\n\nexport const LayoutContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  background: ${(props) => props.theme.colors.background};\n  color: ${(props) => props.theme.colors.textWhite};\n\n  & > .layout-header {\n    position: fixed;\n    width: 50px;\n    height: 50px;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    padding-right: 10px;\n    right: 0;\n    top: 0;\n\n    & > .menu-button {\n      color: ${(props) => props.theme.colors.textWhite};\n      font-size: 1.3em;\n    }\n  }\n\n  & > .slide-right-menu {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background-color: var(--bs-gray-dark);\n    padding: ${(props) => props.theme.device.padding};\n    width: 100%;\n    transition: right 0.5s;\n\n    & > .slide-header {\n      height: 50px;\n      display: flex;\n      align-items: center;\n      padding: 0 10px;\n\n      & > .right-side {\n        & > .button-close-slide {\n          color: ${(props) => props.theme.colors.textWhite};\n          font-size: 1.3em;\n        }\n      }\n\n      & > .center-side {\n        flex-grow: 1;\n        text-align: center;\n      }\n    }\n\n    & > .slide-content {\n      & > ul {\n        list-style: none;\n        padding: 0;\n\n        & > li {\n          padding: 10px 5px;\n\n          .info-versioning {\n            padding-left: 10px;\n            font-style: italic;\n            opacity: 0.7;\n          }\n        }\n      }\n    }\n  }\n`;\n","import { faBars, faCaretLeft } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as React from 'react';\nimport { useLayoutState } from './layout.hook';\nimport { LayoutContainer } from './layout.styled';\n\nexport const Layout: React.FC = (props) => {\n  const { children } = props;\n  const { state, toggleSideMenu, onSignout, confirmDeleteSettings } =\n    useLayoutState();\n\n  return (\n    <LayoutContainer>\n      <div className=\"layout-header\">\n        <button\n          className=\"menu-button\"\n          onClick={toggleSideMenu(true)}\n          disabled={state.disabled}\n        >\n          <FontAwesomeIcon icon={faBars} />\n        </button>\n      </div>\n      {children}\n      <div\n        className=\"slide-right-menu\"\n        style={{ right: !state.sideMenu ? `-${state.width}px` : undefined }}\n      >\n        <div className=\"slide-header\">\n          <div className=\"right-side\">\n            <button\n              className=\"button-close-slide\"\n              disabled={state.disabled}\n              onClick={toggleSideMenu(false)}\n            >\n              <FontAwesomeIcon icon={faCaretLeft} />\n            </button>\n          </div>\n          <div className=\"center-side\">WVBuckets</div>\n        </div>\n        <div className=\"slide-content\">\n          <hr />\n          <ul>\n            <li>\n              <button\n                className=\"logout-button text-primary\"\n                disabled={state.disabled}\n                onClick={() => window.location.reload()}\n              >\n                <i className=\"fas fa-sign-out-alt\" /> Hard Reload App\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"logout-button text-primary\"\n                disabled={state.disabled}\n                onClick={onSignout}\n              >\n                <i className=\"fas fa-sign-out-alt\" /> Logout\n              </button>\n            </li>\n            <li>\n              <button\n                className=\"delete-settings-button text-danger\"\n                disabled={state.disabled}\n                onClick={confirmDeleteSettings}\n              >\n                Delete Settings\n              </button>\n            </li>\n            <li>\n              <span className=\"info-versioning\">\n                version: {process.env.REACT_APP_VERSION}\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </LayoutContainer>\n  );\n};\n","import { RootState } from 'components/redux/store';\n\nexport const selectAuth = (state: RootState) => state.auth;\n","import styled from 'styled-components/macro';\n\nexport const SplashScreenContainer = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .splash-screen-inner {\n    font-size: 25px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    .splash-screen-spinner {\n      display: block;\n      font-size: 40px;\n      color: ${(props) => props.theme.colors.primary};\n    }\n  }\n`;\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as React from 'react';\nimport { SplashScreenInterface } from './splash-screen.interface';\nimport { SplashScreenContainer } from './splash-screen.styled';\nimport { faFan } from '@fortawesome/free-solid-svg-icons';\n\nexport const SplashScreen: React.FC<SplashScreenInterface> = ({\n  hasSpinner,\n  children,\n}) => {\n  return (\n    <SplashScreenContainer>\n      <div className=\"splash-screen-inner\">\n        {hasSpinner && (\n          <div>\n            <FontAwesomeIcon\n              icon={faFan}\n              spin\n              className=\"splash-screen-spinner\"\n            />\n          </div>\n        )}\n        {children}\n      </div>\n    </SplashScreenContainer>\n  );\n};\n","import styled from 'styled-components/macro';\nimport { Button } from 'react-bootstrap';\n\nexport const LoginContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nexport const LoginButtton = styled(Button)`\n  padding: 0;\n  border: 0;\n  padding-right: 15px;\n  & > svg {\n    width: 40px;\n  }\n`;\n","import { Status } from 'components/util/status';\n\nexport interface ModalAddAccountProps {\n  type?: 'create-account' | 'import-account';\n}\n\nexport interface ModalAddAccountStateInterface {\n  status: Status;\n  title: string;\n  url: string;\n  show: boolean;\n  error: {\n    url?: string;\n    title?: string;\n  };\n}\n\nexport enum ModalAddAccountErrors {\n  missingUrl = 'Please add a google sheets url',\n  missingTitle = 'A title is required to create a new google sheet',\n  invalidUrl = 'The URL is invalid. Please check if you have access to this google sheets',\n  accountExists = 'Account already exists in the app',\n}\n","import React from 'react';\nimport { LoginButtton, LoginContainer } from './login.styled';\nimport { ReactComponent as GoogleLogin } from 'components/images/btn_google_light_normal_ios.svg';\nimport { useLoginState } from './login.hook';\n\nexport const Login: React.FC = () => {\n  const { state, onLogin } = useLoginState();\n\n  return (\n    <LoginContainer>\n      <LoginButtton disabled={state.disabled} onClick={onLogin}>\n        <GoogleLogin /> Login with Google\n      </LoginButtton>\n    </LoginContainer>\n  );\n};\n","import { setAlert } from 'components/alert';\nimport { setGlobalSettings } from 'components/global-settings';\nimport {\n  requestToken,\n  treatGoogleAPIError,\n} from 'components/google/google-api/google-api';\nimport { setAuth } from 'components/redux/slices/auth';\nimport { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport { useEffect, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\n\nexport const useLoginState = () => {\n  const [state] = useStateStatus<{\n    status: Status;\n  }>({\n    status: Status.loaded,\n  });\n  const popup = useRef<Window | null>(null);\n  const dispatch = useDispatch();\n\n  const onLogin = async () => {\n    popup.current = window.open(\n      `${process.env.REACT_APP_BACKEND}/request-oauth`,\n      'loginpage',\n      'width=400,height=500'\n    );\n  };\n\n  useEffect(() => {\n    const action = async (event: MessageEvent) => {\n      if (event.origin === window.location.origin) {\n        const { data } = event;\n\n        if (data.authenticatedReceivedId) {\n          if (popup.current) popup.current.close();\n\n          try {\n            const access_token = await requestToken(\n              data.authenticatedReceivedId\n            );\n            setGlobalSettings({\n              wvid: data.authenticatedReceivedId,\n              access_token,\n            });\n            dispatch(\n              setAuth({\n                signedin: true,\n              })\n            );\n          } catch (err) {\n            setAlert(treatGoogleAPIError(err), 'danger');\n          }\n        }\n      }\n    };\n\n    window.addEventListener('message', action);\n    return () => {\n      window.removeEventListener('message', action);\n    };\n  }, [dispatch]);\n\n  return {\n    state,\n    onLogin,\n  };\n};\n","import React from 'react';\nimport { RouteProps, Route } from 'react-router-dom';\nimport { AuthRouteProps } from './auth-route.interface';\nimport { Layout } from 'components/ui-components/layout';\nimport { useMainState } from 'components/app/main/main.hook';\nimport { Status } from 'components/util/status';\nimport { SplashScreen } from 'components/splash-screen';\nimport { Login } from 'components/pages/login';\n\nexport const AuthRoute: React.FC<RouteProps> = ({ component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => <AuthComponent {...props} component={component} />}\n    />\n  );\n};\n\nconst AuthComponent: React.FC<AuthRouteProps> = ({\n  component: Component,\n  ...rest\n}) => {\n  const { state } = useMainState();\n\n  if (state.status === Status.initializing)\n    return <SplashScreen hasSpinner={true}>Initialising</SplashScreen>;\n\n  if (!state.signedin) return <Login />;\n\n  if (!Component) return null;\n\n  return (\n    <Layout>\n      <Component {...rest} />\n    </Layout>\n  );\n};\n","import { setAlert } from 'components/alert';\nimport { getGlobalSettings } from 'components/global-settings';\nimport {\n  getUserInfo,\n  treatGoogleAPIError,\n} from 'components/google/google-api/google-api';\nimport { selectAuth } from 'components/redux/selectors/auth';\nimport { setAuth } from 'components/redux/slices/auth';\nimport { Status } from 'components/util/status';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport const useMainState = () => {\n  const state = useSelector(selectAuth);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const { access_token } = getGlobalSettings();\n    if (!access_token) {\n      dispatch(setAuth({ status: Status.loaded }));\n      return;\n    }\n\n    const isAuthenticated = async () => {\n      try {\n        await getUserInfo();\n        dispatch(\n          setAuth({\n            status: Status.loaded,\n            signedin: true,\n          })\n        );\n      } catch (err) {\n        setAlert(treatGoogleAPIError(err), 'danger');\n        dispatch(\n          setAuth({\n            status: Status.loaded,\n            signedin: false,\n          })\n        );\n      }\n    };\n\n    isAuthenticated();\n  }, [dispatch]);\n\n  return {\n    state,\n  };\n};\n","import React from 'react';\nimport { BottomModal } from '../bottom-modal';\nimport { useBottomMenuState } from './bottom-menu.hook';\nimport { BottomMenuProps } from './bottom-menu.interface';\n\nexport const BottomMenu: React.FC<BottomMenuProps> = (props) => {\n  const { show, closed, onClose } = useBottomMenuState(props);\n\n  if (closed) return null;\n\n  return (\n    <BottomModal show={show} onClose={onClose} menu={props.menu}>\n      {props.children}\n    </BottomModal>\n  );\n};\n","import { useLayoutEffect, useState } from 'react';\nimport { BottomMenuProps } from './bottom-menu.interface';\n\nexport const useBottomMenuState = (props: BottomMenuProps) => {\n  const [closed, setClosed] = useState(true);\n  const [show, setShow] = useState(false);\n  useLayoutEffect(() => {\n    if (!show && props.show && closed) {\n      setClosed(false);\n    } else if (!show && props.show) {\n      setShow(true);\n    } else if (show && !props.show && !closed) {\n      setShow(false);\n    }\n  }, [props.show, show, closed]);\n\n  const onClose = () => {\n    setClosed(true);\n  };\n\n  return { closed, show, onClose };\n};\n","import { RootState } from 'components/redux/store';\n\nexport const selectAccounts = (state: RootState) => state.accounts;\n","import { EntityId } from '@reduxjs/toolkit';\nimport { AccountInterface } from 'components/redux/slices/accounts/accounts.interface';\nimport { RootState } from 'components/redux/store';\nimport { EnumSchemas } from 'components/schemas';\n\nexport const getAccount = (\n  accounts: RootState['accounts'],\n  spreadsheetId: EntityId\n) => {\n  return accounts.entities[spreadsheetId] || undefined;\n};\n\nexport const getAccountRows = (account: AccountInterface | undefined) => {\n  if (!account) return [];\n\n  return (\n    account.schemas?.[EnumSchemas.WVBUCKET].rows.map((row, id) => ({\n      id,\n      ...row,\n    })) || []\n  );\n};\n\nexport const getAccountBuckets = (rows: ReturnType<typeof getAccountRows>) => {\n  return rows.reduce(\n    (\n      acc: {\n        ids: string[];\n        buckets: { [key: string]: { rows: typeof rows; total: number } };\n      },\n      curr\n    ) => {\n      if (!curr.category) return acc;\n      const category = curr.category.trim();\n\n      if (!acc.ids.includes(category)) {\n        return {\n          ids: [...acc.ids, category].sort(),\n          buckets: {\n            ...acc.buckets,\n            [category]: {\n              total: +curr.amount,\n              rows: [curr],\n            },\n          },\n        };\n      }\n\n      return {\n        ...acc,\n        buckets: {\n          ...acc.buckets,\n          [category]: {\n            ...acc.buckets[category],\n            rows: [...acc.buckets[category].rows, curr],\n            total: acc.buckets[category].total + +curr.amount,\n          },\n        },\n      };\n    },\n    {\n      ids: [],\n      buckets: {},\n    }\n  );\n};\n\nexport const getAccountBalance = (rows: ReturnType<typeof getAccountRows>) => {\n  return (\n    rows.reduce((acc, curr) => {\n      if (curr.amount === undefined) return acc;\n\n      return acc + curr.amount * 100;\n    }, 0) / 100\n  );\n};\n\nexport const getAccountDetails = (\n  accounts: RootState['accounts'],\n  spreadsheetId: EntityId\n) => {\n  const account = getAccount(accounts, spreadsheetId);\n  const rows = getAccountRows(account);\n  const balance = getAccountBalance(rows);\n  const buckets = getAccountBuckets(rows);\n\n  return {\n    account,\n    rows,\n    balance,\n    buckets,\n  };\n};\n","import { EntityId } from '@reduxjs/toolkit';\nimport {\n  loadAccounts,\n  startLoadingAccount,\n} from 'components/redux/slices/accounts';\nimport { initialiseDatabase } from 'components/schemas';\nimport { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectAccounts } from '.';\nimport { getAccountDetails } from './accounts.helpers';\n\nexport const useAccountDetails = (\n  spreadsheetId: EntityId,\n  initialise = false\n) => {\n  const accounts = useSelector(selectAccounts);\n  const dispatch = useDispatch();\n\n  const result = useMemo(() => {\n    return getAccountDetails(accounts, spreadsheetId);\n  }, [accounts, spreadsheetId]);\n\n  const { account: { initialised = false } = {} } = result;\n\n  useEffect(() => {\n    if (!initialise) return;\n    if (initialised) return;\n\n    const init = async () => {\n      dispatch(startLoadingAccount(spreadsheetId));\n      const details = await initialiseDatabase([spreadsheetId as string]);\n      dispatch(loadAccounts(details));\n    };\n\n    init();\n  }, [spreadsheetId, initialise, initialised, dispatch]);\n\n  return result;\n};\n","import styled from 'styled-components/macro';\n\nexport const AccountContainer = styled.div`\n  background: #fff;\n  color: #000;\n  display: flex;\n  padding: 15px;\n  margin: 10px 0;\n  border-radius: 4px;\n  position: relative;\n\n  .loading-account {\n    color: #ccc;\n    width: 100%;\n\n    p {\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n    }\n  }\n\n  .icon-area {\n    width: 30px;\n\n    .icon {\n      display: block;\n    }\n  }\n\n  .account-details {\n    color: #aaa;\n    flex-grow: 1;\n    width: calc(100% - 30px);\n\n    h4 {\n      color: #000;\n      font-size: 1rem;\n      font-weight: bold;\n      margin-bottom: 0;\n      flex-grow: 1;\n    }\n\n    .account-id {\n      display: block;\n      width: 100%;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      font-size: 0.8rem;\n    }\n\n    .account-summary {\n      margin-top: 10px;\n      font-size: 0.9rem;\n      .account-summary-line {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        .total-summary {\n          color: #000;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n\n  .button-more {\n    position: absolute;\n    right: 5px;\n    top: 0px;\n    font-size: 1rem;\n  }\n`;\n\nexport const AccountBalance = styled.span<{ negative?: boolean }>`\n  color: ${(props) => (props.negative ? props.theme.colors.danger : '#fff')};\n`;\n","import { faCreditCard } from '@fortawesome/free-regular-svg-icons';\nimport { faEllipsisH } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useAccountState } from './account.hook';\nimport { AccountProps } from './account.interface';\nimport { AccountContainer } from './account.styled';\n\nexport const Account: React.FC<AccountProps> = (props) => {\n  const { account, balance, buckets, onShowMenu, openBuckets } =\n    useAccountState(props);\n\n  if (account.loading) {\n    return (\n      <AccountContainer>\n        <div className=\"loading-account\">\n          <div>\n            <i className=\"fas fa-fan fa-spin splash-screen-spinner\" />\n          </div>\n          <p>Loading Account</p>\n          <p>{account.spreadsheetId}</p>\n        </div>\n      </AccountContainer>\n    );\n  }\n\n  if (account.error) {\n    <AccountContainer>\n      <span className=\"text-danger\">{account.error}</span>\n    </AccountContainer>;\n  }\n\n  if (!account.initialised) return null;\n\n  return (\n    <>\n      <AccountContainer>\n        <div className=\"icon-area\">\n          <FontAwesomeIcon icon={faCreditCard} className=\"icon\" />\n        </div>\n        <div className=\"account-details\" onClick={openBuckets}>\n          <h4>{account.title}</h4>\n          <span className=\"account-id\">{account.spreadsheetId}</span>\n          <div className=\"account-summary\">\n            <div className=\"account-summary-line\">\n              <div className=\"label-summary\">Balance</div>\n              <div\n                className={classNames('total-summary', {\n                  'text-danger': balance < 0,\n                })}\n              >\n                ${balance.toLocaleString()}\n              </div>\n            </div>\n            <div className=\"account-summary-line\">\n              <div className=\"label-summary\">Buckets</div>\n              <div className=\"total-summary\">{buckets.ids.length}</div>\n            </div>\n          </div>\n        </div>\n        <button\n          className=\"button-more\"\n          onClick={onShowMenu(account.spreadsheetId)}\n        >\n          <FontAwesomeIcon icon={faEllipsisH} />\n        </button>\n      </AccountContainer>\n    </>\n  );\n};\n","import { useAccountDetails } from 'components/redux/selectors/accounts/accounts.hooks';\nimport { useHistory } from 'react-router-dom';\nimport { AccountProps } from './account.interface';\n\nexport const useAccountState = (props: AccountProps) => {\n  const { account, onShowMenu } = props;\n  const history = useHistory();\n\n  const { balance, buckets } = useAccountDetails(account.spreadsheetId, true);\n\n  const openBuckets = () => {\n    history.push(`/accounts/${account.spreadsheetId}/buckets`);\n  };\n\n  return { account, balance, buckets, onShowMenu, openBuckets };\n};\n","import { EntityId } from '@reduxjs/toolkit';\nimport {\n  EnumSchemas,\n  WVBucketInterface,\n  WVBucketSchema,\n} from 'components/schemas';\nimport { addSheetRows } from 'components/sheet-api';\n\nexport const addTransaction = (\n  accountid: EntityId,\n  transaction: WVBucketInterface\n) => {\n  const row = Object.keys(WVBucketSchema).map((key) => {\n    return `${transaction[key as keyof WVBucketInterface]}`;\n  });\n\n  return addSheetRows(accountid as string, EnumSchemas.WVBUCKET, [row]);\n};\n","/**\n * Function used in defitinions to avoid error of empty functions\n */\nexport const noop = () => {\n  // Nothing happens\n};\n\nexport const asyncNoop = async () => {\n  // Nothing happens\n};\n","import { asyncNoop, noop } from 'components/util/noop';\nimport { Status } from 'components/util/status';\nimport { format } from 'date-fns';\nimport React, { useContext } from 'react';\nimport { RowModalContextInterface } from './row-modal-context.interface';\n\nexport const DefaultState = {\n  status: Status.loaded,\n  open: false,\n  openAccountList: false,\n  openCategoryList: false,\n  openAddCategory: false,\n  openDatePicker: false,\n  type: 'expense',\n  amount: '0',\n  message: '',\n  view: 'main',\n  date: format(new Date(), 'yyyy-MM-dd'),\n  account_id: '',\n  category: '',\n};\n\nexport const RowModalContext = React.createContext<RowModalContextInterface>({\n  state: {\n    ...DefaultState,\n    disabled: false,\n  },\n  typeOptions: [],\n  decimal: '0',\n  integer: '00',\n  accounts: {\n    ids: [],\n    entities: {},\n  },\n  multipleAccounts: false,\n  selectedAccount: undefined,\n  accountBuckets: { ids: [], buckets: {} },\n  accountBalance: 0,\n  onSelectType: noop,\n  onKeyPressAmount: noop,\n  onSetDescription: noop,\n  setState: noop,\n  onSelectAccount: noop,\n  onSave: asyncNoop,\n});\n\nexport const useRowModalContext = () => {\n  return useContext(RowModalContext);\n};\n","import { setAlert } from 'components/alert';\nimport { addTransaction } from 'components/helpers/add-transaction/add-transaction';\nimport { selectAccounts } from 'components/redux/selectors/accounts';\nimport { useAccountDetails } from 'components/redux/selectors/accounts/accounts.hooks';\nimport { addTransactionAccount } from 'components/redux/slices/accounts';\nimport { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport { format } from 'date-fns';\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TogglerOption } from '../toggler/toggler.interface';\nimport { DefaultState } from './context/row-modal-context';\nimport {\n  RowControllerArgs,\n  RowModalStateInterface,\n} from './row-modal.interface';\n\nexport const rowController = {\n  open: (args: RowControllerArgs) => {\n    // Not Implemented\n  },\n};\n\nexport const useRowModal = () => {\n  const [state, setState] = useStateStatus<RowModalStateInterface>({\n    ...DefaultState,\n  });\n\n  const dispatch = useDispatch();\n\n  const accounts = useSelector(selectAccounts);\n\n  const multipleAccounts = accounts.ids.length > 1;\n\n  const accountDetails = useAccountDetails(state.account_id);\n\n  const selectedAccount = accountDetails.account || undefined;\n  const accountBalance = accountDetails.balance || 0;\n  const accountBuckets = accountDetails.buckets || {};\n\n  const typeOptions = [\n    { label: 'Income', value: 'income' },\n    { label: 'Expense', value: 'expense' },\n  ];\n\n  const formatedNumber = useMemo(() => {\n    const amount = +state.amount;\n\n    if (isNaN(amount)) return { decimal: '0', integer: '00' };\n\n    if (amount < 100) {\n      return {\n        integer: `0`,\n        decimal: `${amount}`.padStart(2, '0'),\n      };\n    }\n\n    const stramount = `${amount}`;\n    const decimal = stramount.substr(-2).padEnd(2, '0');\n    const integer =\n      stramount.length > 2\n        ? (+stramount.substr(0, stramount.length - 2)).toLocaleString()\n        : '0';\n\n    return {\n      decimal,\n      integer,\n    };\n  }, [state.amount]);\n\n  const { decimal, integer } = formatedNumber;\n\n  const onSelectType = ({ value: type }: TogglerOption) => {\n    setState({ type: type as string });\n  };\n\n  const onKeyPressAmount = (ev: React.KeyboardEvent<HTMLInputElement>) => {\n    ev.preventDefault();\n    if (ev.key === 'Backspace') {\n      let amount = state.amount.substr(0, state.amount.length - 1);\n      if (!amount) amount = '0';\n      return setState({ amount });\n    }\n\n    if (!ev.key.match(/[0-9]/)) return;\n\n    if (state.amount.length > 9) return;\n\n    let amount = `${state.amount}${ev.key}`;\n\n    setState({ amount });\n  };\n\n  const onSetDescription = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    setState({ message: ev.target.value });\n  };\n\n  const onSelectAccount = () => {\n    setState({ openAccountList: true });\n  };\n\n  const onSave = async () => {\n    if (!+state.amount) return setAlert('Amount is required', 'danger');\n    if (!state.category) return setAlert('Category is required', 'danger');\n\n    setState({ status: Status.loading });\n\n    const amount = (+state.amount / 100) * (state.type === 'expense' ? -1 : 1);\n\n    const transaction = {\n      amount,\n      category: state.category,\n      message: state.message,\n      date: state.date,\n    };\n\n    await addTransaction(state.account_id, transaction);\n    dispatch(\n      addTransactionAccount({ accountid: state.account_id, transaction })\n    );\n\n    setState({ ...DefaultState, status: Status.loaded, open: false });\n    setAlert('Transaction added', 'success');\n  };\n\n  useEffect(() => {\n    rowController.open = (args: RowControllerArgs) => {\n      setState({\n        account_id: args.account_id,\n        open: true,\n        type: args.type || 'income',\n        message: args.description || '',\n        date: args.date || format(new Date(), 'yyyy-MM-dd'),\n        category: args.category,\n      });\n    };\n  }, [setState]);\n\n  return {\n    state,\n    typeOptions,\n    decimal,\n    integer,\n    accounts,\n    selectedAccount,\n    multipleAccounts,\n    accountBalance,\n    accountBuckets,\n    onSelectType,\n    onKeyPressAmount,\n    onSetDescription,\n    onSelectAccount,\n    setState,\n    onSave,\n  };\n};\n","import {\n  getGlobalSettings,\n  setGlobalSettings,\n} from 'components/global-settings';\n\n/**\n * Add account to global settings\n */\nexport const onAddAccount = (spreadsheetId: string) => {\n  const settings = getGlobalSettings();\n  const accounts = [...settings.accounts, spreadsheetId];\n  setGlobalSettings({ accounts });\n};\n\n/**\n * Add account to global settings\n */\nexport const onDeleteAccount = (spreadsheetId: string) => {\n  // Remove from the storage\n  const settings = getGlobalSettings();\n  const accounts = settings.accounts.filter((id) => id !== spreadsheetId);\n  setGlobalSettings({ accounts });\n};\n\n/**\n * Verify if account already exists\n */\nexport const accountExists = (spreadsheetId: string) => {\n  const settings = getGlobalSettings();\n  return settings.accounts.find((account) => account === spreadsheetId);\n};\n","import { EntityId } from '@reduxjs/toolkit';\nimport { setAlert } from 'components/alert';\nimport { getGlobalSettings } from 'components/global-settings';\nimport { selectAccounts } from 'components/redux/selectors/accounts';\nimport { getAccountDetails } from 'components/redux/selectors/accounts/accounts.helpers';\nimport {\n  importAccounts,\n  removeAccount,\n} from 'components/redux/slices/accounts';\nimport { onConfirm } from 'components/ui-components/confirm-modal/confirm-modal';\nimport { rowController } from 'components/ui-components/row-modal/row-modal.hook';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router';\nimport { onDeleteAccount } from './accounts.service';\nimport { ModalAddAccountProps } from './modal-add-account/modal-add-account.interface';\n\nexport const useAccountsState = () => {\n  const { typeCreation } = useParams<{\n    typeCreation: ModalAddAccountProps['type'];\n  }>();\n\n  const dispatch = useDispatch();\n\n  const [showMenu, setShowMenu] = useState<EntityId | false>(false);\n\n  const accounts = useSelector(selectAccounts);\n\n  useEffect(() => {\n    const { accounts } = getGlobalSettings();\n\n    dispatch(importAccounts(accounts));\n  }, [dispatch]);\n\n  const onSetShowMenu = (show: EntityId | false) => {\n    return () => {\n      setShowMenu(show);\n    };\n  };\n\n  const onClickDelete = () => {\n    onConfirm({\n      description:\n        'Account will be deleted from the app but not from your google drive.',\n      onConfirm: () => {\n        if (showMenu === false) return;\n        setShowMenu(false);\n        dispatch(removeAccount(showMenu));\n        onDeleteAccount(showMenu as string);\n      },\n    });\n  };\n\n  const onAddRowModal = () => {\n    if (!showMenu) return;\n\n    const { buckets } = getAccountDetails(accounts, showMenu);\n\n    setShowMenu(false);\n    rowController.open({\n      account_id: showMenu as EntityId,\n      category: buckets.ids.length > 0 ? buckets.ids[0] : '',\n      type: 'expense',\n    });\n  };\n\n  const onCopyURL = async () => {\n    if (!showMenu) return;\n\n    const url = `https://docs.google.com/spreadsheets/d/${showMenu}`;\n\n    await navigator.clipboard.writeText(url);\n\n    setShowMenu(false);\n    setAlert('URL copied');\n  };\n\n  return {\n    accounts,\n    typeCreation,\n    showMenu,\n    onSetShowMenu,\n    onClickDelete,\n    onAddRowModal,\n    onCopyURL,\n  };\n};\n","import styled from 'styled-components/macro';\n\nexport const AccountsContainer = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  .inner-container {\n    padding: 0 40px;\n    width: 100%;\n  }\n\n  .accounts-list {\n    margin-bottom: 20px;\n  }\n\n  .add-account-btn {\n    width: 100%;\n    background-color: ${(props) => props.theme.colors.background2};\n    color: #fff;\n    padding: 20px;\n  }\n`;\n","import { setAlert } from 'components/alert';\nimport { treatGoogleAPIError } from 'components/google/google-api/google-api';\nimport { importAccounts, loadAccounts } from 'components/redux/slices/accounts';\nimport { initialiseDatabase } from 'components/schemas';\nimport { createSpreadsheet } from 'components/sheet-api';\nimport { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { accountExists, onAddAccount } from '../accounts.service';\nimport {\n  ModalAddAccountErrors,\n  ModalAddAccountProps,\n  ModalAddAccountStateInterface,\n} from './modal-add-account.interface';\n\nexport const useModalAddAccountState = (props: ModalAddAccountProps) => {\n  const history = useHistory();\n  const [state, setState] = useStateStatus<ModalAddAccountStateInterface>({\n    status: Status.loaded,\n    title: '',\n    url: '',\n    show: !!props.type,\n    error: {},\n  });\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setState({ show: !!props.type });\n  }, [props.type, setState]);\n\n  const onModalClose = () => {\n    history.push('/');\n  };\n\n  const onCancel = () => {\n    setState({ show: false });\n  };\n\n  const onImport = async () => {\n    if (!state.url.trim()) {\n      return setState({\n        error: {\n          url: ModalAddAccountErrors.missingUrl,\n        },\n      });\n    }\n    const found = state.url.match(\n      /^https:\\/\\/docs\\.google\\.com\\/spreadsheets\\/d\\/([^/]*)(\\/.*)?$/\n    );\n    if (!found || !found[1]) {\n      return setState({\n        error: {\n          url: ModalAddAccountErrors.invalidUrl,\n        },\n      });\n    }\n\n    if (accountExists(found[1])) {\n      return setState({\n        error: {\n          url: ModalAddAccountErrors.accountExists,\n        },\n      });\n    }\n\n    setState({ status: Status.loading, error: {} });\n\n    try {\n      // Verify if ID is correct\n      const accounts = await initialiseDatabase([found[1]]);\n\n      const hasError = accounts.find((account) => account.error);\n\n      if (hasError) throw new Error(hasError.error as string);\n\n      dispatch(loadAccounts(accounts));\n\n      onAddAccount(found[1]);\n\n      setAlert('Account created successfully', 'success');\n      return setState({\n        status: Status.loaded,\n        show: false,\n      });\n    } catch (error: any) {\n      return setState({\n        status: Status.loaded,\n        error: { url: treatGoogleAPIError(error) },\n      });\n    }\n  };\n\n  const onCreateAccount = async () => {\n    if (!state.title.trim()) {\n      return setState({\n        error: {\n          url: ModalAddAccountErrors.missingUrl,\n        },\n      });\n    }\n\n    setState({ status: Status.loading, error: {} });\n\n    try {\n      const response = await createSpreadsheet(state.title);\n      const spreadsheetId = response.spreadsheetId;\n\n      if (!spreadsheetId) throw new Error('Spreadsheet not returned from api');\n\n      dispatch(importAccounts([spreadsheetId]));\n      onAddAccount(spreadsheetId);\n\n      setAlert('Account created successfully', 'success');\n      return setState({\n        status: Status.loaded,\n        show: false,\n      });\n    } catch (error: any) {\n      return setState({\n        status: Status.loaded,\n        error: { url: treatGoogleAPIError(error) },\n      });\n    }\n  };\n\n  const handleCreateButton = () => {\n    if (props.type === 'import-account') {\n      return onImport();\n    }\n\n    if (props.type === 'create-account') {\n      return onCreateAccount();\n    }\n  };\n\n  const onChangeValue = (type: 'url' | 'title') => {\n    return (ev: React.ChangeEvent<HTMLInputElement>) => {\n      setState({ [type]: ev.target.value });\n    };\n  };\n\n  return {\n    type: props.type,\n    state,\n    onModalClose,\n    onCancel,\n    handleCreateButton,\n    onChangeValue,\n  };\n};\n","import React from 'react';\nimport { Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useModalAddAccountState } from './modal-add-account.hook';\nimport { ModalAddAccountProps } from './modal-add-account.interface';\nimport BottomModal from 'components/ui-components/bottom-modal';\n\nexport const ModalAddAccount: React.FC<ModalAddAccountProps> = (props) => {\n  const {\n    state,\n    type,\n    onCancel,\n    onModalClose,\n    handleCreateButton,\n    onChangeValue,\n  } = useModalAddAccountState(props);\n\n  return (\n    <BottomModal show={state.show} onClose={onModalClose}>\n      {type === 'create-account' ? (\n        <>\n          <BottomModal.Title>Create Account</BottomModal.Title>\n          <BottomModal.Disclaimer>\n            Accounts are based on spreadsheets in your google account. You can\n            create a new spreadsheet by filling the title below. If you rather\n            import an existent spreadsheet{' '}\n            <Link to=\"/import-account\">Click here</Link>\n          </BottomModal.Disclaimer>\n\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Spreadsheet Title\"\n              disabled={state.disabled}\n              value={state.title}\n              onChange={onChangeValue('title')}\n            />\n            {state.error.title && (\n              <Form.Control.Feedback\n                type=\"invalid\"\n                style={{ display: 'block' }}\n              >\n                {state.error.title}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n        </>\n      ) : type === 'import-account' ? (\n        <>\n          <BottomModal.Title>Import Account</BottomModal.Title>\n          <BottomModal.Disclaimer>\n            Accounts are based on spreadsheets in your google account. You can\n            import a spreadsheet by filling its URL below. If you rather create\n            a new spreadsheet <Link to=\"/create-account\">Click here</Link>\n          </BottomModal.Disclaimer>\n\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Spreadsheet URL\"\n              disabled={state.disabled}\n              value={state.url}\n              onChange={onChangeValue('url')}\n            />\n            {state.error.url && (\n              <Form.Control.Feedback\n                type=\"invalid\"\n                style={{ display: 'block' }}\n              >\n                {state.error.url}\n              </Form.Control.Feedback>\n            )}\n          </Form.Group>\n        </>\n      ) : null}\n      <BottomModal.Button\n        variant=\"primary\"\n        disabled={state.disabled}\n        onClick={handleCreateButton}\n      >\n        {type === 'create-account' ? 'Create Account' : 'Import Account'}\n      </BottomModal.Button>\n      <BottomModal.Button disabled={state.disabled} onClick={onCancel}>\n        Cancel\n      </BottomModal.Button>\n    </BottomModal>\n  );\n};\n","import styled from 'styled-components/macro';\n\nexport const NoAccountContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n\n  .icon {\n    width: 80px;\n    height: 80px;\n  }\n`;\n","import { faMoneyCheckAlt } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { NoAccountContainer } from './no-account.styled';\n\nexport const NoAccount: React.FC = () => {\n  return (\n    <NoAccountContainer>\n      <FontAwesomeIcon icon={faMoneyCheckAlt} className=\"icon\" />\n      <p>\n        You don't have any account. Start setting up one by clicking the button\n        below\n      </p>\n    </NoAccountContainer>\n  );\n};\n","import { AccountInterface } from 'components/redux/slices/accounts/accounts.interface';\nimport { BottomMenu } from 'components/ui-components/bottom-menu';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Account } from './account';\nimport { useAccountsState } from './accounts.hook';\nimport { AccountsContainer } from './accounts.styled';\nimport { ModalAddAccount } from './modal-add-account';\nimport { NoAccount } from './no-account';\n\nexport const Main: React.FC = () => {\n  const {\n    accounts,\n    typeCreation,\n    showMenu,\n    onSetShowMenu,\n    onClickDelete,\n    onAddRowModal,\n    onCopyURL,\n  } = useAccountsState();\n\n  return (\n    <AccountsContainer>\n      {accounts.ids.length > 0 ? (\n        <div className=\"inner-container accounts-list\">\n          {accounts.ids.map((id, i) => {\n            if (!accounts.entities[id]) return null;\n            return (\n              <Account\n                key={i}\n                account={accounts.entities[id] as AccountInterface}\n                onShowMenu={onSetShowMenu}\n              />\n            );\n          })}\n        </div>\n      ) : (\n        <div className=\"inner-container\">\n          <NoAccount />\n        </div>\n      )}\n      <div className=\"inner-container\">\n        <Link to=\"/import-account\" className=\"add-account-btn btn\">\n          <i className=\"fas fa-plus\" /> Add Account\n        </Link>\n      </div>\n      {typeCreation && <ModalAddAccount type={typeCreation} />}\n      <BottomMenu\n        show={!!showMenu}\n        menu={[\n          [\n            { label: 'Add Row', onClick: onAddRowModal },\n            { label: 'Copy URL', onClick: onCopyURL },\n            {\n              label: 'Delete',\n              className: 'text-danger',\n              onClick: onClickDelete,\n            },\n          ],\n          [{ label: 'Cancel', onClick: onSetShowMenu(false) }],\n        ]}\n      >\n        {!!showMenu && <strong>{accounts.entities[showMenu]?.title}</strong>}\n      </BottomMenu>\n    </AccountsContainer>\n  );\n};\n","import styled from 'styled-components';\n\nexport const Button = styled.button`\n  color: inherit;\n`;\n","import styled from 'styled-components';\n\nexport const FooterContainer = styled.div`\n  width: 100%;\n  height: 58px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  box-shadow: #000 0 0 1px 0;\n  z-index: 1;\n`;\n","import { FooterContainer } from './styled';\nimport { FooterProps } from './types';\n\nexport const LayoutFooter: React.FC<FooterProps> = ({ children }) => {\n  return <FooterContainer>{children}</FooterContainer>;\n};\n","import styled, { css } from 'styled-components';\n\nexport const PageHeaderContainer = styled.div`\n  ${(props) => css`\n    display: flex;\n    align-items: center;\n    height: 50px;\n    width: 100%;\n    flex-shrink: 0;\n    box-shadow: #000 0 0 1px 0;\n\n    a {\n      color: #fff;\n      width: 40px;\n      padding-left: calc(${props.theme.device.paddingLeft} + 10px);\n    }\n\n    h2 {\n      margin: 0;\n      font-weight: 400;\n      flex-grow: 1;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n      font-size: 1rem;\n    }\n  `}\n`;\n","import { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { PageHeaderContainer } from './page-header.styled';\nimport { PageHeaderProps } from './page-header.types';\n\nexport const PageHeader: React.FC<PageHeaderProps> = ({ title, linkBack }) => {\n  return (\n    <PageHeaderContainer>\n      {linkBack && (\n        <Link to={linkBack}>\n          <FontAwesomeIcon icon={faChevronLeft} />\n        </Link>\n      )}\n      <h2>{title}</h2>\n    </PageHeaderContainer>\n  );\n};\n","export const formatToCurrency = (num: number) =>\n  num.toLocaleString('en-US', {\n    style: 'currency',\n    currency: 'USD',\n  });\n","import { useAccountDetails } from 'components/redux/selectors/accounts/accounts.hooks';\nimport { rowController } from 'components/ui-components/row-modal/row-modal.hook';\nimport React from 'react';\nimport { useParams } from 'react-router';\n\nexport const useBucketsState = () => {\n  const { accountid } = useParams<{ accountid: string }>();\n\n  const { account, buckets } = useAccountDetails(accountid, true);\n\n  const addValue =\n    (category: string) => (ev: React.MouseEvent<HTMLButtonElement>) => {\n      ev.preventDefault();\n\n      rowController.open({\n        account_id: accountid,\n        category,\n        type: 'expense',\n      });\n    };\n\n  return {\n    account,\n    buckets,\n    addValue,\n  };\n};\n","import { Link } from 'react-router-dom';\nimport styled, { css } from 'styled-components/macro';\n\nexport const BucketsContainer = styled.div`\n  display: flex;\n  height: 100%;\n  align-items: flex-start;\n  flex-direction: column;\n`;\n\nexport const BucketErrorContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  font-style: italic;\n`;\n\nexport const BucketContentContainer = styled.div`\n  flex-grow: 1;\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  overflow: auto;\n\n  & > .flex {\n    flex-wrap: wrap;\n  }\n`;\n\nexport const AddButton = styled.button`\n  color: #fff;\n  font-size: 11px;\n`;\n\nexport const BucketItem = styled(Link)<{ total: number }>`\n  ${(props) => css`\n    width: 50%;\n    color: #fff;\n    position: relative;\n\n    & > .bucket-inner {\n      border-radius: 5px;\n      padding: 10px;\n      margin: 10px;\n      height: calc(100% - 20px);\n      background-color: rgba(255, 255, 255, 0.01);\n      position: relative;\n\n      .bucket-name {\n        display: flex;\n        align-items: center;\n        margin: 10px;\n        h3 {\n          font-size: 1rem;\n          flex-grow: 1;\n          margin: 0;\n          color: #fff;\n          max-width: 50px;\n        }\n\n        ${AddButton} {\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          width: 25px;\n          height: 25px;\n          // border: solid 1px #f00;\n          padding: 0;\n\n          svg {\n            width: 15px;\n            height: 15px;\n          }\n        }\n      }\n\n      .bucket-price {\n        strong {\n          font-size: 1.2rem;\n          font-weight: 400;\n\n          color: ${props.total > 0\n            ? props.theme.colors.success\n            : props.theme.colors.danger};\n        }\n      }\n    }\n\n    &:nth-child(even) > .bucket-inner {\n      margin-left: 5px;\n    }\n    &:nth-child(odd) > .bucket-inner {\n      margin-right: 5px;\n    }\n  `}\n`;\n","import { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { SplashScreen } from 'components/splash-screen';\nimport { Button } from 'components/ui-components/button';\nimport { LayoutFooter } from 'components/ui-components/footer';\nimport { PageHeader } from 'components/ui-components/layout/page-header';\nimport { formatToCurrency } from 'components/util/format-to-currency';\nimport React from 'react';\nimport { useBucketsState } from './buckets.hook';\nimport {\n  AddButton,\n  BucketContentContainer,\n  BucketErrorContainer,\n  BucketItem,\n  BucketsContainer,\n} from './buckets.styled';\n\nexport const Buckets: React.FC = () => {\n  const { account, buckets, addValue } = useBucketsState();\n\n  if (!account) return null;\n\n  const { title } = account;\n\n  return (\n    <BucketsContainer>\n      <PageHeader title={title} linkBack={`/`} />\n      {account.loading ? (\n        <BucketContentContainer>\n          <SplashScreen hasSpinner={true} />\n        </BucketContentContainer>\n      ) : account.error ? (\n        <BucketErrorContainer>{account.error}</BucketErrorContainer>\n      ) : (\n        <BucketContentContainer>\n          <div className=\"flex\">\n            {buckets.ids.map((bucketId) => (\n              <BucketItem\n                key={bucketId}\n                total={buckets.buckets[bucketId].total}\n                to={`/accounts/${account.spreadsheetId}/category/${bucketId}/list`}\n              >\n                <div className=\"bucket-inner\">\n                  <div className=\"bucket-name\">\n                    <h3>{bucketId}</h3>\n                    <AddButton onClick={addValue(bucketId)}>\n                      <FontAwesomeIcon icon={faPlus} />\n                    </AddButton>\n                  </div>\n                  <div className=\"bucket-price\">\n                    <strong>\n                      {formatToCurrency(buckets.buckets[bucketId].total)}\n                    </strong>\n                  </div>\n                </div>\n              </BucketItem>\n            ))}\n          </div>\n        </BucketContentContainer>\n      )}\n      <LayoutFooter>\n        <Button onClick={addValue('')}>\n          <FontAwesomeIcon icon={faPlus} />\n        </Button>\n      </LayoutFooter>\n    </BucketsContainer>\n  );\n};\n","import { setAlert } from 'components/alert';\nimport { useAccountDetails } from 'components/redux/selectors/accounts/accounts.hooks';\nimport { format } from 'date-fns';\nimport { useEffect, useMemo, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { RowDates } from './category-list.types';\n\nexport const useCategoryList = () => {\n  const { accountid, category } = useParams<{\n    accountid: string;\n    category: string;\n  }>();\n  const { account, buckets } = useAccountDetails(accountid, true);\n  const chartTypes = ['month', 'week', 'day'] as const;\n  type ChartType = typeof chartTypes[number];\n  const [chartDisplay, setChartDisplay] = useState<ChartType>('month');\n  const history = useHistory();\n\n  const { initialised = false } = account || {};\n\n  const bucket = buckets.buckets[category] || undefined;\n\n  const rows = bucket?.rows;\n\n  const rowDates = useMemo(\n    () =>\n      rows?.reduce(\n        (acc, curr) => {\n          const date = curr.date;\n\n          const dateExists = acc.dates.find((dt) => dt === date);\n\n          if (!dateExists) {\n            return {\n              dates: [...acc.dates, date].sort().reverse(),\n              dateObj: {\n                ...acc.dateObj,\n                [date]: {\n                  date,\n                  formatDate: format(new Date(date), 'ccc dd LLL yyyy'),\n                  total: curr.amount,\n                  rows: [curr],\n                },\n              },\n            };\n          }\n\n          return {\n            ...acc,\n            dateObj: {\n              ...acc.dateObj,\n              [date]: {\n                ...acc.dateObj[date],\n                total: acc.dateObj[date].total + curr.amount,\n                rows: [...acc.dateObj[date].rows, curr],\n              },\n            },\n          };\n        },\n        {\n          dates: [],\n          dateObj: {},\n        } as RowDates\n      ) || {\n        dates: [],\n        dateObj: {},\n      },\n    [rows]\n  );\n\n  const chartObj: Record<string, { name: string; total: number }> = {};\n  const keyFormats = {\n    week: { format: 'yyyy-II', display: 'II yyyy' },\n    month: { format: 'yyyy-MM', display: 'LLL yyyy' },\n    day: { format: 'yyyy-MM-dd', display: 'dd LLL yyyy' },\n  };\n\n  rowDates.dates.forEach((day) => {\n    const obj = rowDates.dateObj[day];\n    const key = format(new Date(day), keyFormats[chartDisplay].format);\n\n    if (!chartObj[key])\n      chartObj[key] = {\n        name: format(new Date(day), keyFormats[chartDisplay].display),\n        total: 0,\n      };\n\n    chartObj[key].total += Math.floor(obj.total * 100);\n\n    return {\n      name: obj.formatDate,\n      total: obj.total,\n    };\n  });\n\n  const chartData = Object.entries(chartObj).map(([, entry]) => ({\n    name: entry.name,\n    total: Math.round(entry.total / 100),\n  }));\n\n  const handleChangeChartType = (type: ChartType) => () =>\n    setChartDisplay(type);\n\n  const available = bucket?.total || 0;\n\n  const hasBucket = !!bucket;\n\n  useEffect(() => {\n    if (!hasBucket && initialised) {\n      setAlert('Bucket not found', 'danger');\n      history.push(`/accounts`);\n    }\n  }, [hasBucket, initialised, history]);\n\n  return {\n    account,\n    accountid,\n    category,\n    rowDates,\n    available,\n    chartData,\n    chartDisplay,\n    chartTypes,\n    handleChangeChartType,\n  };\n};\n","import styled, { css } from 'styled-components';\n\nexport const CategoryListContainer = styled.div`\n  padding: 10px;\n\n  .category-available {\n    border-bottom: solid 1px rgba(255, 255, 255, 0.1);\n    padding: 10px 0;\n\n    h3 {\n      font-size: 18px;\n    }\n  }\n\n  .date-row {\n    padding: 10px 0;\n\n    h3 {\n      font-size: 18px;\n    }\n\n    .date-row-header {\n      display: flex;\n      margin-bottom: 12px;\n      justify-content: space-between;\n      strong {\n        margin-right: 10px;\n      }\n    }\n\n    .date-row-item {\n      border-bottom: solid 1px rgba(255, 255, 255, 0.1);\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px;\n    }\n  }\n`;\n\nexport const CurrencyTotal = styled.span<{ amount: number }>`\n  font-weight: bold;\n  ${({ amount, ...props }) =>\n    amount < 0 &&\n    css`\n      color: ${props.theme.colors.danger};\n    `}\n`;\n\nexport const LineAmount = styled.div<{ amount: number }>`\n  padding: 0px 5px;\n  ${({ amount, ...props }) =>\n    amount > 0 &&\n    css`\n      color: ${props.theme.colors.success};\n      background-color: #b1f2d4;\n      border-radius: 5px;\n    `}\n`;\n","import styled from 'styled-components';\n\nexport const PageContainer = styled.div`\n  display: flex;\n  height: 100%;\n  flex-direction: column; ;\n`;\n\nexport const PageBody = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n`;\n","import { Link } from 'react-router-dom';\nimport styled, { css } from 'styled-components';\n\nexport const TabContainer = styled.div`\n  display: flex;\n  background-color: #000;\n  box-shadow: #000 0 0 1px 0;\n`;\n\nexport const TabButton = styled(Link)<{ 'data-active': boolean }>`\n  color: inherit;\n  padding: 4px 12px;\n\n  &:active,\n  &:hover {\n    color: inherit;\n  }\n\n  ${({ theme, ...props }) =>\n    props['data-active'] &&\n    css`\n      background: ${theme.colors.background};\n    `}\n`;\n","import React from 'react';\nimport { useParams, useRouteMatch } from 'react-router-dom';\nimport { TabButton, TabContainer } from './styled';\n\nconst mainRoute = '/accounts/:accountid/category/:category';\nexport const CategoryTab: React.FC = () => {\n  const isList = useRouteMatch({ path: `${mainRoute}/list` });\n  const isChart = useRouteMatch({ path: `${mainRoute}/chart` });\n  const { accountid, category } = useParams<{\n    accountid: string;\n    category: string;\n  }>();\n\n  return (\n    <TabContainer>\n      <TabButton\n        to={`/accounts/${accountid}/category/${category}/list`}\n        data-active={!!isList}\n      >\n        List\n      </TabButton>\n      <TabButton\n        to={`/accounts/${accountid}/category/${category}/chart`}\n        data-active={!!isChart}\n      >\n        Chart\n      </TabButton>\n    </TabContainer>\n  );\n};\n","import React from 'react';\nimport { PageHeader } from 'components/ui-components/layout/page-header';\nimport { useCategoryList } from './category-list.hook';\nimport {\n  CategoryListContainer,\n  CurrencyTotal,\n  LineAmount,\n} from './category-list.styled';\nimport { formatToCurrency } from 'components/util/format-to-currency';\nimport { PageBody, PageContainer } from 'components/ui-components/layout/page';\nimport { CategoryTab } from '../category-tab';\nimport { LayoutFooter } from 'components/ui-components/footer';\nimport { Button } from 'components/ui-components/button';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { useBucketsState } from 'components/pages/buckets/buckets.hook';\n\nexport const CategoryList: React.FC = () => {\n  const { accountid, category, available, rowDates } = useCategoryList();\n  const { addValue } = useBucketsState();\n\n  return (\n    <PageContainer>\n      <PageHeader\n        title={category}\n        linkBack={`/accounts/${accountid}/buckets`}\n      />\n      <CategoryTab />\n      <PageBody>\n        <CategoryListContainer>\n          <div className=\"category-available\">\n            <h3>Available</h3>\n            <CurrencyTotal amount={available}>\n              {formatToCurrency(available)}\n            </CurrencyTotal>\n          </div>\n          {rowDates.dates.map((date) => {\n            const dateObj = rowDates.dateObj[date];\n            return (\n              <div className=\"date-row\" key={date}>\n                <div className=\"date-row-header\">\n                  <strong>{dateObj.formatDate}</strong>\n                  <CurrencyTotal amount={dateObj.total}>\n                    {formatToCurrency(dateObj.total)}\n                  </CurrencyTotal>\n                </div>\n                {dateObj.rows.map((row, index) => (\n                  <div className=\"date-row-item\" key={index}>\n                    <span>{row.message || 'No message'}</span>\n                    <LineAmount amount={row.amount}>\n                      {formatToCurrency(row.amount)}\n                    </LineAmount>\n                  </div>\n                ))}\n              </div>\n            );\n          })}\n        </CategoryListContainer>\n      </PageBody>\n      <LayoutFooter>\n        <Button onClick={addValue(category)}>\n          <FontAwesomeIcon icon={faPlus} />\n        </Button>\n      </LayoutFooter>\n    </PageContainer>\n  );\n};\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\nexport const Authenticate: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n\n  useEffect(() => {\n    window.opener.parent.postMessage({\n      authenticatedReceivedId: id,\n    });\n  }, [id]);\n\n  return null;\n};\n","import { Button } from 'components/ui-components/button';\nimport styled, { css } from 'styled-components';\n\nexport const ChartTypeButton = styled(Button)<{ 'data-active': boolean }>`\n  padding: 10px;\n\n  ${(props) =>\n    props['data-active'] &&\n    css`\n      background: rgba(0, 0, 0, 0.5);\n    `}\n`;\n\nexport const ChartTypeContainer = styled.div`\n  margin: 20px 10px;\n  border: solid 1px #fff;\n  display: flex;\n  width: fit-content;\n  border-radius: 10px;\n\n  ${ChartTypeButton}:first-child {\n    border-radius: 10px 0 0 10px;\n  }\n\n  ${ChartTypeButton}:last-child {\n    border-radius: 0 10px 10px 0;\n  }\n`;\n","import { PageBody, PageContainer } from 'components/ui-components/layout/page';\nimport { PageHeader } from 'components/ui-components/layout/page-header';\nimport React, { useContext } from 'react';\nimport { useCategoryList } from '../category-list/category-list.hook';\nimport { CategoryTab } from '../category-tab';\n\nimport {\n  CartesianGrid,\n  XAxis,\n  ComposedChart,\n  Tooltip,\n  ResponsiveContainer,\n  Bar,\n} from 'recharts';\nimport { formatToCurrency } from 'components/util/format-to-currency';\nimport { ThemeContext } from 'styled-components';\nimport { ChartTypeButton, ChartTypeContainer } from './styled';\n\nexport const CategoryChart: React.FC = () => {\n  const {\n    accountid,\n    category,\n    chartData,\n    chartDisplay,\n    chartTypes,\n    handleChangeChartType,\n  } = useCategoryList();\n  const themeContext = useContext(ThemeContext);\n\n  return (\n    <PageContainer>\n      <PageHeader\n        title={category}\n        linkBack={`/accounts/${accountid}/buckets`}\n      />\n      <CategoryTab />\n      <PageBody>\n        <ChartTypeContainer>\n          {chartTypes.map((type) => (\n            <ChartTypeButton\n              onClick={handleChangeChartType(type)}\n              data-active={chartDisplay === type}\n              key={type}\n            >\n              {type.charAt(0).toUpperCase()}\n              {type.substring(1)}\n            </ChartTypeButton>\n          ))}\n        </ChartTypeContainer>\n\n        <ResponsiveContainer width={'100%'} height={400}>\n          <ComposedChart data={chartData}>\n            <Bar dataKey=\"total\" fill={themeContext.colors.success} />\n            <CartesianGrid strokeDasharray=\"3 5\" />\n            <XAxis dataKey=\"name\" />\n            <Tooltip\n              labelStyle={{ color: '#000' }}\n              formatter={(value) => formatToCurrency(value as number)}\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </PageBody>\n    </PageContainer>\n  );\n};\n","import React from 'react';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport { AuthRoute } from './auth-route';\nimport { Main } from 'components/pages/accounts';\nimport { Buckets } from 'components/pages/buckets/buckets';\nimport { CategoryList } from 'components/pages/category/category-list';\nimport { Authenticate } from 'components/pages/authenticate';\nimport { CategoryChart } from 'components/pages/category/category-chart';\n\nexport const Router: React.FC = () => {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path=\"/authenticate/:id\" component={Authenticate} />\n        <AuthRoute path=\"/accounts/:accountid/buckets\" component={Buckets} />\n        <AuthRoute\n          path=\"/accounts/:accountid/category/:category/list\"\n          component={CategoryList}\n        />\n        <AuthRoute\n          path=\"/accounts/:accountid/category/:category/chart\"\n          component={CategoryChart}\n        />\n        <AuthRoute path=\"/:typeCreation\" component={Main} />\n\n        <AuthRoute path=\"/\" component={Main} />\n      </Switch>\n    </HashRouter>\n  );\n};\n","import { Router } from 'components/router';\nimport React from 'react';\n\nexport const Main: React.FC = () => {\n  return <Router />;\n};\n","import styled, { css } from 'styled-components/macro';\nimport { BlackModalStyledInterface } from './black-modal.interface';\n\nexport const blackModalTransitionTime = 250;\nexport const topSpacing = 50;\n\nexport const BlackModalContainer = styled.div<BlackModalStyledInterface>`\n  ${(props) => css`\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 2;\n    ${!props.noBackground &&\n    css`\n      background-color: rgba(0, 0, 0, ${props.show ? 0.7 : 0});\n    `}\n\n    transition: background-color ${blackModalTransitionTime}ms ease-in;\n\n    .row-modal-inner {\n      background-color: rgb(28, 28, 28);\n      position: fixed;\n      height: calc(100% - ${topSpacing}px);\n      width: 100%;\n      border-radius: 15px 15px 0 0;\n      color: #fff;\n      padding: 30px 20px;\n      padding-bottom: ${(props) => props.theme.device.paddingBottom};\n      transition: bottom ${blackModalTransitionTime}ms ease-in;\n      display: flex;\n      flex-direction: column;\n\n      bottom: ${props.show ? 0 : '-100vh'};\n    }\n\n    hr {\n      background-color: ${props.theme.colors.gray2};\n      opacity: 1;\n      height: 2px;\n    }\n  `}\n`;\n\nexport const BlackModalTitle = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 40px;\n\n  .black-modal-title-left-button,\n  .black-modal-title-right-button {\n    button {\n      color: #fff;\n    }\n  }\n\n  h4 {\n    flex-grow: 1;\n    padding: 0 10px;\n    margin: 0;\n  }\n`;\n\nexport const BlackModalList = styled.div`\n  flex-grow: 1;\n  overflow: auto;\n  margin: 0 -20px;\n  padding: 0 20px;\n  touch-action: pan-y;\n`;\n\nexport const BlackModalListItem = styled.div`\n  border-bottom: solid 2px ${(props) => props.theme.colors.gray2};\n  padding-bottom: 30px;\n  margin-bottom: 30px;\n\n  h4 {\n    font-size: 1.1rem;\n  }\n\n  span {\n    color: ${(props) => props.theme.colors.gray};\n\n    &.balance {\n      color: #fff;\n    }\n  }\n\n  .flex {\n    justify-content: space-between;\n\n    .icon-container {\n      margin-right: 10px;\n    }\n\n    .tick-container {\n      width: calc(30px + 1rem);\n      padding-left: 30px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: ${(props) => props.theme.colors.primary};\n    }\n  }\n`;\n","import React from 'react';\nimport { useBlackModalState } from './black-modal.hook';\nimport { BlackModalProps, BlackModalTitleProps } from './black-modal.interface';\nimport {\n  BlackModalContainer,\n  BlackModalList,\n  BlackModalListItem,\n  BlackModalTitle,\n} from './black-modal.styled';\n\nexport const BlackModal: React.FC<BlackModalProps> = (props) => {\n  const { render, show } = useBlackModalState(props);\n\n  if (!render) return null;\n\n  return (\n    <BlackModalContainer show={show} noBackground={props.noBackground}>\n      <div className=\"row-modal-inner\">{props.children}</div>\n    </BlackModalContainer>\n  );\n};\n\nexport const Title: React.FC<BlackModalTitleProps> = (props) => {\n  return (\n    <BlackModalTitle>\n      {props.leftButton && (\n        <div className=\"black-modal-title-left-button\">{props.leftButton}</div>\n      )}\n      <h4>{props.children}</h4>\n      {props.rightButton && (\n        <div className=\"black-modal-title-right-button\">\n          {props.rightButton}\n        </div>\n      )}\n    </BlackModalTitle>\n  );\n};\n\nexport const Item = BlackModalListItem;\n\nexport const List: React.FC = (props) => {\n  return <BlackModalList>{props.children}</BlackModalList>;\n};\n\nconst ListComponent = Object.assign(List, { Item });\n\nconst components = {\n  Title,\n  List: ListComponent,\n};\n\nexport default Object.assign(BlackModal, components);\n","import { useLayoutEffect, useState } from 'react';\nimport { BlackModalProps } from './black-modal.interface';\nimport { blackModalTransitionTime } from './black-modal.styled';\n\nexport const useBlackModalState = (props: BlackModalProps) => {\n  const { open } = props;\n\n  const [render, setRender] = useState(false);\n  const [show, setShow] = useState(false);\n\n  useLayoutEffect(() => {\n    let mounted = true;\n    if (open && !render && !show) {\n      setRender(true);\n    } else if (open && render && !show) {\n      setTimeout(() => {\n        if (!mounted) return;\n        setShow(true);\n      }, 1);\n    } else if (!open && render && show) {\n      setShow(false);\n    } else if (!open && render && !show) {\n      setTimeout(() => {\n        if (!mounted) return;\n        setRender(false);\n      }, blackModalTransitionTime);\n    }\n\n    return () => {\n      mounted = false;\n    };\n  }, [open, render, show]);\n\n  return {\n    show,\n    render,\n  };\n};\n","import styled, { css } from 'styled-components/macro';\nimport { bottomModalTransitionMilliseconds } from '../bottom-modal/bottom-modal.styled';\n\nexport const DateModalContainer = styled.div<{ open: boolean }>`\n  position: fixed;\n  background-color: transparent;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition: background-color ${bottomModalTransitionMilliseconds}ms linear;\n  ${(props) =>\n    props.open &&\n    css`\n      pointer-events: unset;\n      background-color: rgba(0, 0, 0, 0.5);\n    `}\n`;\n\nexport const DateModalInner = styled.div<{ open: boolean }>`\n  ${(props) => css`\n    position: fixed;\n    bottom: -100vh;\n    width: 100%;\n    margin-bottom: ${props.theme.device.paddingBottom};\n    transition: bottom ${bottomModalTransitionMilliseconds}ms linear;\n\n    ${props.open &&\n    css`\n      bottom: 0;\n    `}\n\n    & > div {\n      width: calc(100% - 40px);\n      background-color: ${props.theme.colors.background2};\n      padding: 20px;\n      margin: 0 auto;\n      border-radius: 15px;\n    }\n\n    .date-modal-picker {\n      width: 100%;\n      border: 0;\n      background-color: unset;\n\n      .react-datepicker__month-container {\n        width: 100%;\n        color: #fff;\n\n        .react-datepicker__header {\n          background-color: unset;\n          border: 0;\n          padding-top: 0;\n\n          .react-datepicker__current-month {\n            color: #fff;\n            font-size: 1.1rem;\n            margin-bottom: 20px;\n          }\n\n          .react-datepicker__day-names {\n            font-size: 1rem;\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 10px;\n\n            .react-datepicker__day-name {\n              color: #fff;\n              width: 2.2rem;\n              line-height: 2.2rem;\n            }\n          }\n        }\n\n        .react-datepicker__month {\n          .react-datepicker__week {\n            font-size: 1rem;\n            display: flex;\n            justify-content: space-between;\n\n            .react-datepicker__day {\n              color: rgba(255, 255, 255, 0.7);\n              width: 2.2rem;\n              line-height: 2.2rem;\n              margin: 0;\n\n              &:focus {\n                outline: none;\n              }\n\n              &.react-datepicker__day--outside-month {\n                color: rgba(255, 255, 255, 0.2);\n              }\n\n              &.react-datepicker__day--keyboard-selected,\n              &:hover {\n                background-color: unset;\n              }\n\n              &.react-datepicker__day--selected {\n                background-color: ${props.theme.colors.background};\n                color: #fff;\n              }\n            }\n          }\n        }\n      }\n    }\n  `}\n`;\n\nexport const DateModalButtonsContainer = styled.div`\n  margin: 0 auto;\n  width: calc(100% - 40px);\n\n  button {\n    margin-top: 20px;\n    width: 100%;\n  }\n\n  .button-accept {\n    background-color: ${(props) => props.theme.colors.background};\n    padding: 10px;\n    color: #fff;\n  }\n\n  .button-cancel {\n    color: #fff;\n  }\n`;\n","import React from 'react';\nimport ReactDatePicker from 'react-datepicker';\nimport {\n  DateModalButtonsContainer,\n  DateModalContainer,\n  DateModalInner,\n} from './date-modal.styled';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { DateModalProps } from './date-modal.interface';\nimport { useDateModalState } from './date-modal.hook';\n\nexport const DateModal: React.FC<DateModalProps> = (props) => {\n  const { open, date, onChange, onCancel, onAccept } = useDateModalState(props);\n\n  return (\n    <DateModalContainer open={open}>\n      <DateModalInner open={open}>\n        <div>\n          <ReactDatePicker\n            selected={date}\n            onChange={onChange}\n            inline\n            calendarClassName=\"date-modal-picker\"\n          />\n\n          <DateModalButtonsContainer>\n            <button className=\"button-accept\" onClick={onAccept}>\n              OK\n            </button>\n            <button className=\"button-cancel\" onClick={onCancel}>\n              Cancel\n            </button>\n          </DateModalButtonsContainer>\n        </div>\n      </DateModalInner>\n    </DateModalContainer>\n  );\n};\n","import { format, parseISO } from 'date-fns';\nimport { useEffect, useState } from 'react';\nimport { useRowModalContext } from '../row-modal/context/row-modal-context';\nimport { DateModalProps } from './date-modal.interface';\n\nexport const useDateModalState = (props: DateModalProps) => {\n  const { state, setState } = useRowModalContext();\n\n  const [date, setDate] = useState(parseISO(state.date));\n\n  useEffect(() => {\n    if (state.openDatePicker) {\n      setDate(parseISO(state.date));\n    }\n  }, [state.date, state.openDatePicker]);\n\n  const onChange = (date: Date) => {\n    setDate(date);\n  };\n\n  const onCancel = () => {\n    setState({ openDatePicker: false });\n  };\n\n  const onAccept = () => {\n    setState({ openDatePicker: false, date: format(date, 'yyyy-MM-dd') });\n  };\n\n  return {\n    date,\n    open: state.openDatePicker,\n    onChange,\n    onCancel,\n    onAccept,\n  };\n};\n","import styled from 'styled-components/macro';\n\nexport const topSpacing = 50;\n\nexport const RowModalContainer = styled.div`\n  .right-border {\n    border-right: solid 2px ${(props) => props.theme.colors.gray2};\n  }\n\n  .button-close-modal {\n    color: #fff;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.13);\n    width: 30px;\n    height: 30px;\n    padding: 0;\n  }\n\n  .row-modal-selected-account {\n    margin-top: 25px;\n    display: flex;\n    align-items: center;\n\n    .account-details {\n      flex-grow: 1;\n      color: ${(props) => props.theme.colors.gray};\n\n      h5 {\n        font-size: 1rem;\n        color: #fff;\n      }\n      span {\n        font-size: 0.9rem;\n\n        .icon {\n          margin-right: 10px;\n        }\n      }\n    }\n\n    .account-more {\n      .icon {\n        color: #fff;\n      }\n    }\n  }\n\n  .account-row-details {\n    margin-top: 30px;\n  }\n\n  .half-block {\n    width: 50%;\n  }\n\n  .account-block {\n    padding: 0 10px;\n\n    strong {\n      display: block;\n      color: ${(props) => props.theme.colors.gray};\n      font-weight: 500;\n      font-size: 1rem;\n      margin-bottom: 10px;\n    }\n\n    span {\n      color: #fff;\n      font-weight: 100;\n      font-size: 1.3rem;\n    }\n  }\n\n  .input-description {\n    width: 100%;\n    border: 0;\n    border-bottom: solid 2px ${(props) => props.theme.colors.gray2};\n    background-color: transparent;\n    color: #fff;\n    font-size: 0.9rem;\n    font-weight: 100;\n\n    &:focus {\n      outline: none;\n    }\n  }\n\n  .account-amount {\n    font-size: 3rem;\n    text-align: center;\n    margin-top: 20px;\n    color: ${(props) => props.theme.colors.gray};\n    position: relative;\n    overflow: hidden;\n\n    hr {\n      opacity: 0;\n      margin-bottom: 0;\n    }\n\n    .input-amount:focus ~ hr {\n      opacity: 1;\n    }\n\n    .dollar-sign {\n      font-size: 3.3rem;\n    }\n\n    .integer-part {\n      color: #fff;\n    }\n\n    .input-amount {\n      background: transparent;\n      border: 0;\n      position: absolute;\n      top: 0;\n      left: -50px;\n      right: 0;\n      bottom: 0;\n      width: 100%;\n      opacity: 1;\n      display: block;\n      color: transparent;\n      caret-color: blue;\n\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.expense {\n      color: rgba(140, 120, 120);\n\n      .integer-part {\n        color: rgba(255, 120, 120);\n      }\n    }\n  }\n\n  .add-row-button {\n    background-color: ${(props) => props.theme.colors.background};\n    width: 100%;\n    margin-top: 30px;\n    padding: 20px;\n    border-radius: 5px;\n  }\n`;\n","import BottomModal from 'components/ui-components/bottom-modal';\nimport React from 'react';\nimport { Form } from 'react-bootstrap';\nimport { useAddCategory } from './add-category.hook';\n\nexport const AddCategory: React.FC = () => {\n  const { state, onCancel, onChangeCategory, onAddCategory } = useAddCategory();\n\n  return (\n    <>\n      <BottomModal.Title>Add Category</BottomModal.Title>\n      <BottomModal.Disclaimer>\n        To add a new category, enter the name of the category and click \"Add\n        Category\".\n      </BottomModal.Disclaimer>\n      <Form.Group>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Spreadsheet Title\"\n          disabled={state.disabled}\n          value={state.category}\n          onChange={onChangeCategory}\n        />\n        {state.error && (\n          <Form.Control.Feedback type=\"invalid\" style={{ display: 'block' }}>\n            {state.error}\n          </Form.Control.Feedback>\n        )}\n      </Form.Group>\n      <BottomModal.Button\n        variant=\"primary\"\n        disabled={state.disabled}\n        onClick={onAddCategory}\n      >\n        Add Category\n      </BottomModal.Button>\n      <BottomModal.Button onClick={onCancel}>Cancel</BottomModal.Button>\n    </>\n  );\n};\n","import { Status } from 'components/util/status';\nimport { useStateStatus } from 'components/util/use-state-status';\nimport { useRowModalContext } from '../../context/row-modal-context';\n\nexport const useAddCategory = () => {\n  const context = useRowModalContext();\n\n  const onCancel = () => {\n    context.setState({ openAddCategory: false });\n    setState({ category: '', error: false });\n  };\n\n  const [state, setState] = useStateStatus<{\n    category: string;\n    error: false | string;\n    status: Status;\n  }>({\n    status: Status.loaded,\n    category: '',\n    error: false,\n  });\n\n  const onChangeCategory = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setState({ category: e.target.value, error: false });\n  };\n\n  const onAddCategory = () => {\n    if (state.category === '') {\n      setState({ error: 'Please enter a category name.' });\n    } else {\n      const categoryExist = context.accountBuckets.ids.find(\n        (id) => id === state.category\n      );\n      if (categoryExist) {\n        setState({ error: 'Category already exist.' });\n      } else {\n        context.setState({\n          category: state.category,\n          openAddCategory: false,\n          openCategoryList: false,\n        });\n        setState({ category: '', error: false });\n      }\n    }\n  };\n\n  return { state, onCancel, onChangeCategory, onAddCategory };\n};\n","import styled, { css } from 'styled-components/macro';\nimport { TogglerProps } from './toggler.interface';\n\nexport const TogglerContainer = styled.div<TogglerProps>`\n  ${(props) => {\n    const width = 100 / (props.options.length || 1);\n    const left = props.options.findIndex(\n      (option) => option.value === props.value\n    );\n\n    const padding = 5;\n\n    return css`\n      background: #000;\n      width: 80%;\n      margin: 20px auto;\n      border-radius: 5px;\n      display: flex;\n      position: relative;\n\n      .toggler-option-container {\n        width: ${width}%;\n        text-align: center;\n        z-index: 1;\n\n        .toggler-option-button {\n          color: #fff;\n          padding: 15px 10px;\n          border-radius: 5px;\n          width: 100%;\n        }\n      }\n\n      ${left >= 0 &&\n      css`\n        &:before {\n          border-radius: 5px;\n          content: '';\n          display: block;\n          background: rgb(28, 28, 28);\n          position: absolute;\n          top: ${padding}px;\n          left: calc(${width * left}% + ${padding}px);\n          bottom: ${padding}px;\n          width: calc(${width}% - ${padding * 2}px);\n          transition: left 0.25s ease-out;\n        }\n      `}\n    `;\n  }}\n`;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { TogglerOption, TogglerProps } from './toggler.interface';\nimport { TogglerContainer } from './toggler.styled';\n\nexport const Toggler: React.FC<TogglerProps> = (props) => {\n  const { onChange, ...containerProps } = props;\n  const { options, classes, disabled } = containerProps;\n\n  const onClickOption = (option: TogglerOption) => {\n    return () => {\n      if (onChange) {\n        return onChange(option);\n      }\n    };\n  };\n\n  return (\n    <TogglerContainer {...containerProps}>\n      {options.map((option, index) => (\n        <div\n          key={index}\n          className={classNames(\n            'toggler-option-container',\n            classes?.optionContainer\n          )}\n        >\n          <button\n            className={classNames(\n              'toggler-option-button',\n              classes?.optionButton\n            )}\n            disabled={disabled}\n            onClick={onClickOption(option)}\n          >\n            {option.label}\n          </button>\n        </div>\n      ))}\n    </TogglerContainer>\n  );\n};\n","import {\n  faChevronRight,\n  faCreditCard,\n  faTimes,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classNames from 'classnames';\nimport { Toggler } from 'components/ui-components/toggler';\nimport React from 'react';\nimport { useRowModalContext } from '../../context/row-modal-context';\nimport BlackModal from 'components/ui-components/black-modal';\nimport { format, parseISO } from 'date-fns';\nimport { AccountBalance } from 'components/pages/accounts/account/account.styled';\nimport { Status } from 'components/util/status';\n\nexport const RowMainView: React.FC = () => {\n  const {\n    state,\n    typeOptions,\n    integer,\n    decimal,\n    selectedAccount,\n    multipleAccounts,\n    accountBalance,\n    onSelectType,\n    onSetDescription,\n    onKeyPressAmount,\n    onSelectAccount,\n    setState,\n    onSave,\n  } = useRowModalContext();\n\n  const onClose = () => {\n    setState({ open: false });\n  };\n\n  const onClickCategory = () => {\n    setState({ openCategoryList: true });\n  };\n\n  const onOpenDatePicker = () => {\n    setState({ openDatePicker: true });\n  };\n\n  return (\n    <>\n      <BlackModal.Title\n        rightButton={\n          <button onClick={onClose} disabled={state.disabled}>\n            <FontAwesomeIcon icon={faTimes} />\n          </button>\n        }\n      >\n        Transaction\n      </BlackModal.Title>\n      <BlackModal.List>\n        <div className=\"row-modal-selected-account\">\n          <div className=\"account-details\">\n            <h5>{selectedAccount?.title || state.account_id}</h5>\n            <span>\n              <FontAwesomeIcon icon={faCreditCard} className=\"icon\" />\n            </span>\n            <span>Balance&nbsp;&nbsp;</span>\n            <AccountBalance negative={accountBalance < 0}>\n              ${accountBalance.toLocaleString()}\n            </AccountBalance>\n          </div>\n          {multipleAccounts && (\n            <div className=\"account-more\">\n              <button\n                className=\"btn-select-account\"\n                disabled={state.disabled}\n                onClick={onSelectAccount}\n              >\n                <FontAwesomeIcon icon={faChevronRight} className=\"icon\" />\n              </button>\n            </div>\n          )}\n        </div>\n        <hr />\n        <div className=\"flex account-row-details\">\n          <div className=\"account-block half-block right-border\">\n            <strong>Category</strong>\n            <button onClick={onClickCategory} disabled={state.disabled}>\n              <span>{state.category || 'UNKNOWN'}</span>\n            </button>\n          </div>\n          <div className=\"account-block half-block\">\n            <strong>Date</strong>\n            <button onClick={onOpenDatePicker} disabled={state.disabled}>\n              <span>{format(parseISO(state.date), 'dd/MM/yyyy')}</span>\n            </button>\n          </div>\n        </div>\n        <hr />\n        <div className=\"account-row-details\">\n          <div className=\"account-block\">\n            <strong>\n              Description <small>(optional)</small>\n            </strong>\n            <input\n              className=\"input-description\"\n              value={state.message}\n              onChange={onSetDescription}\n              disabled={state.disabled}\n            />\n          </div>\n        </div>\n\n        <Toggler\n          value={state.type}\n          options={typeOptions}\n          onChange={onSelectType}\n          disabled={state.disabled}\n        />\n\n        <div className={classNames('account-amount', state.type)}>\n          <span className=\"dollar-sign\">\n            {state.type === 'expense' ? '-$' : '$'}\n          </span>\n          <span className=\"integer-part\">{integer}</span>\n          <span className=\"decimal-part\">.{decimal}</span>\n\n          <input\n            className=\"input-amount\"\n            type=\"number\"\n            onKeyDown={onKeyPressAmount}\n            inputMode=\"decimal\"\n            disabled={state.disabled}\n          />\n          <hr />\n        </div>\n\n        <button\n          className=\"add-row-button\"\n          onClick={onSave}\n          disabled={state.disabled}\n        >\n          {state.status === Status.loading ? 'Saving...' : 'Save Transaction'}\n        </button>\n      </BlackModal.List>\n    </>\n  );\n};\n","import { faCreditCard } from '@fortawesome/free-regular-svg-icons';\nimport { faCheck, faChevronDown } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classNames from 'classnames';\nimport { useAccountDetails } from 'components/redux/selectors/accounts/accounts.hooks';\nimport BlackModal from 'components/ui-components/black-modal';\nimport React from 'react';\nimport { useRowModalContext } from '../../context/row-modal-context';\nimport { SelectAccountItemProps } from './select-account.interface';\n\nexport const SelectAccount: React.FC = () => {\n  const { setState, accounts, selectedAccount } = useRowModalContext();\n\n  const onClose = () => {\n    setState({ openAccountList: false });\n  };\n\n  return (\n    <>\n      <BlackModal.Title\n        leftButton={\n          <button onClick={onClose}>\n            <FontAwesomeIcon icon={faChevronDown} />\n          </button>\n        }\n      >\n        Select an Account\n      </BlackModal.Title>\n      <BlackModal.List>\n        {accounts.ids.map((id, i) => (\n          <SelectAccountItem\n            key={i}\n            id={id}\n            selected={selectedAccount?.spreadsheetId === id}\n          />\n        ))}\n      </BlackModal.List>\n    </>\n  );\n};\n\nconst SelectAccountItem: React.FC<SelectAccountItemProps> = ({\n  id,\n  selected,\n}) => {\n  const { setState } = useRowModalContext();\n  const { account, balance, buckets } = useAccountDetails(id);\n\n  const onClick = () => {\n    setState({\n      account_id: id,\n      category: buckets.ids?.[0] || '',\n      openAccountList: false,\n    });\n  };\n\n  return (\n    <BlackModal.List.Item onClick={onClick}>\n      <div className=\"flex\">\n        <div className=\"icon-container\">\n          <FontAwesomeIcon icon={faCreditCard} />\n        </div>\n        <div className=\"flexGrow\">\n          <h4>{account?.title}</h4>\n          <div className=\"flex\">\n            <span>Balance</span>\n            <span\n              className={classNames('balance', { 'text-danger': balance < 0 })}\n            >\n              ${balance.toLocaleString()}\n            </span>\n          </div>\n        </div>\n        <div className=\"tick-container\">\n          {selected && <FontAwesomeIcon icon={faCheck} />}\n        </div>\n      </div>\n    </BlackModal.List.Item>\n  );\n};\n","import { faCheck, faChevronDown } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport BlackModal from 'components/ui-components/black-modal';\nimport React from 'react';\nimport { useRowModalContext } from '../../context/row-modal-context';\n\nexport const SelectCategory: React.FC = () => {\n  const { accountBuckets, setState, state } = useRowModalContext();\n\n  const onClose = () => {\n    setState({ openCategoryList: false });\n  };\n\n  const onSelectCategory = (category: string) => {\n    return () => {\n      setState({\n        category,\n        openCategoryList: false,\n      });\n    };\n  };\n\n  const onAddCategory = () => {\n    setState({ openAddCategory: true });\n  };\n\n  return (\n    <>\n      <BlackModal.Title\n        leftButton={\n          <button onClick={onClose}>\n            <FontAwesomeIcon icon={faChevronDown} />\n          </button>\n        }\n        rightButton={\n          <button className=\"text-primary\" onClick={onAddCategory}>\n            Add\n          </button>\n        }\n      >\n        Select a Category\n      </BlackModal.Title>\n      <BlackModal.List>\n        {accountBuckets.ids.map((id, i) => (\n          <BlackModal.List.Item key={i} onClick={onSelectCategory(id)}>\n            <div className=\"flex\">\n              <div className=\"flexGrow\">\n                <h4>{id}</h4>\n              </div>\n              <div className=\"tick-container\">\n                {id === state.category && <FontAwesomeIcon icon={faCheck} />}\n              </div>\n            </div>\n          </BlackModal.List.Item>\n        ))}\n      </BlackModal.List>\n    </>\n  );\n};\n","import React from 'react';\nimport { BlackModal } from '../black-modal/black-modal';\nimport BottomModal from '../bottom-modal';\nimport { DateModal } from '../date-modal/date-modal';\nimport { RowModalContext } from './context/row-modal-context';\nimport { useRowModal } from './row-modal.hook';\nimport { RowModalContainer } from './row-modal.styled';\nimport { AddCategory } from './views/add-category/add-catagory';\nimport { RowMainView } from './views/main/main';\nimport { SelectAccount } from './views/select-account/select-account';\nimport { SelectCategory } from './views/select-category/select-category';\n\nexport const RowModal: React.FC = () => {\n  const value = useRowModal();\n  const {\n    state: { open, openAccountList, openCategoryList, openAddCategory },\n  } = value;\n\n  return (\n    <RowModalContainer>\n      <RowModalContext.Provider value={value}>\n        <BlackModal open={open}>\n          <RowMainView />\n        </BlackModal>\n        <BlackModal open={openAccountList} noBackground={true}>\n          <SelectAccount />\n        </BlackModal>\n        <BlackModal open={openCategoryList} noBackground={true}>\n          <SelectCategory />\n        </BlackModal>\n        <BottomModal show={openAddCategory}>\n          <AddCategory />\n        </BottomModal>\n        <DateModal />\n      </RowModalContext.Provider>\n    </RowModalContainer>\n  );\n};\n","import React from 'react';\nimport { LayoutTheme } from 'components/global-style';\nimport { AlertsCreator } from 'components/alert';\nimport { ConfirmModal } from 'components/ui-components/confirm-modal/confirm-modal';\nimport { store } from 'components/redux/store';\nimport { Provider } from 'react-redux';\nimport { Main } from './main';\nimport { RowModal } from 'components/ui-components/row-modal';\n\nexport const App: React.FC = () => {\n  return (\n    <Provider store={store}>\n      <LayoutTheme>\n        <Main />\n        <AlertsCreator />\n        <ConfirmModal />\n        <RowModal />\n      </LayoutTheme>\n    </Provider>\n  );\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/app';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}