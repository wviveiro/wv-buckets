(this["webpackJsonpgoogle-api"]=this["webpackJsonpgoogle-api"]||[]).push([[0],{642:function(e,t,n){"use strict";n.r(t);var c,a,r,o=n(0),i=n.n(o),s=n(37),l=n.n(s),d=n(16),u=n(9),b=n(1),p=Object(u.c)(c||(c=Object(d.a)(["\n    \n    html, body, #root {\n      height: 100%;\n      touch-action: pan-y;\n      background-color: #202124;\n    }\n\n    * {\n        box-sizing: border-box;\n        font-family: 'Open Sans', sans-serif;\n    }\n\n    h1, h2 {\n      font-weight: bold;\n    }\n\n    button, a {\n      border: 0;\n      background: none;\n      text-decoration: none;\n\n      &:focus {\n        outline: none;\n      }\n\n      &:disabled {\n        opacity: .5;\n      }\n    }\n\n    .flex {\n      display: flex;\n\n      &.alignCenter {\n        align-items: center;\n      }\n\n      &.justifyCenter {\n        justify-content: center;\n      }\n\n      & > .flexGrow {\n        flex-grow: 1;\n      }\n    }\n  "]))),h={colors:{primary:"var(--bs-primary)",danger:"var(--bs-danger)",success:"var(--bs-success)",background:"#202124",background2:"rgb(28, 28, 28)",textWhite:"#FFF",textBlack:"#000",gray:"rgba(120, 120, 120, 1)",gray2:"rgba(255, 255, 255, 0.05)",selectedBackground:"#4d2975"},device:{padding:"env(safe-area-inset-top) env(safe-area-inset-right) calc(env(safe-area-inset-bottom) + 20px) env(safe-area-inset-left)",paddingBottom:"calc(env(safe-area-inset-bottom) + 20px)",paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"}},f=function(e){var t=e.children;return Object(b.jsxs)(u.b,{theme:h,children:[Object(b.jsx)(p,{}),t]})},j=n(4),m=n(18),g=n(654),x=4,O=2,v=1,y=1,w=3,k=Object(u.e)(g.a)(a||(a=Object(d.a)(["\n  position: 'fixed';\n  bottom: 0;\n  width: 100%;\n  z-index: ",";\n"])),x),C=function(e){},N=function(){var e=Object(o.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1];Object(o.useEffect)((function(){var e=!0;return C=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";if(e){"string"!==typeof t&&(console.error("Error: ",t),t="Invalid error message");var r=n.slice(0);r.push({message:t,variant:a}),c(r)}},function(){e=!1}}),[n]);return Object(b.jsx)(b.Fragment,{children:n.map((function(e,t){return Object(b.jsx)(_,Object(j.a)(Object(j.a)({},e),{},{onClose:(a=t,function(){var e=n.slice(0);e.splice(a,1),c(e)})}),t);var a}))})},_=function(e){var t=e.message,n=e.variant,c=e.onClose,a=Object(o.useState)(!0),r=Object(m.a)(a,2),i=r[0],s=r[1];return Object(o.useEffect)((function(){var e=!0;return setTimeout((function(){e&&s(!1)}),3e3),function(){e=!1}}),[]),Object(o.useEffect)((function(){var e=!0;return i||setTimeout((function(){e&&c&&c()}),500),function(){e=!1}}),[i,c]),Object(b.jsx)(k,{variant:n,show:i,onClick:function(){return s(!1)},style:{position:"fixed",bottom:"0"},children:t})};!function(e){e[e.initializing=1]="initializing",e[e.loaded=2]="loaded",e[e.loading=3]="loading"}(r||(r={}));var S,B,A,I,E,M,L,T=n(321),D=n.n(T),z=function(e){var t=D()(Object(j.a)({status:r.initializing},e)),n=Object(m.a)(t,2),c=n[0],a=n[1],o=c.status!==r.loaded;return[Object(j.a)(Object(j.a)({},c),{},{disabled:o}),a]},P=n(6),F=n.n(P),U=250,R=u.e.div.withConfig({displayName:"bottom-modalstyled__BottomModalContainerInner",componentId:"sc-eaaltb-0"})([""]),V=u.e.h2.withConfig({displayName:"bottom-modalstyled__BottomModalTitleContainer",componentId:"sc-eaaltb-1"})([""]),W=u.e.p.withConfig({displayName:"bottom-modalstyled__BottomModalDisclaimer",componentId:"sc-eaaltb-2"})([""]),K=u.e.div.withConfig({displayName:"bottom-modalstyled__BottomModalContainer",componentId:"sc-eaaltb-3"})(["position:fixed;top:0;bottom:0;left:0;right:0;transition:background-color ","ms linear;"," ","{margin-bottom:20px;}","{font-style:italic;font-size:0.85rem;opacity:0.7;}.main-container-menu{position:fixed;width:100%;bottom:0;transition:bottom ","ms linear;"," .main-content-bottom-modal{margin-bottom:15px;}.menu-item{a,button{color:",";border-top:solid 1px #eee;width:100%;padding:10px;}&.text-danger{a,button{color:",";}}&:only-child{a,button{border-top:0;padding:0;}}}}","{color:",";background:#fff;border-radius:30px 30px 0 0;padding:30px;text-align:center;}&.isMenu{.main-container-menu{padding-bottom:",";}","{border-radius:15px;margin:0 15px;padding:15px;&:not(:first-child){margin-top:10px;}}}"],U,(function(e){return e.show?Object(u.d)(S||(S=Object(d.a)(["\n          background-color: rgba(0, 0, 0, 0.5);\n        "]))):Object(u.d)(B||(B=Object(d.a)(["\n          background-color: transparent;\n        "])))}),V,W,U,(function(e){return e.show?Object(u.d)(A||(A=Object(d.a)(["\n            bottom: 0;\n          "]))):Object(u.d)(I||(I=Object(d.a)(["\n            bottom: -100vh;\n          "])))}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.danger}),R,(function(e){return e.theme.colors.textBlack}),(function(e){return e.theme.device.paddingBottom}),R),q=u.e.button.withConfig({displayName:"bottom-modalstyled__BottomModalButton",componentId:"sc-eaaltb-4"})(["width:100%;"," &:disabled{opacity:0.5;}"],(function(e){return e.variant&&"regular"!==e.variant?Object(u.d)(M||(M=Object(d.a)(["\n          padding: 20px;\n          background: ",";\n          color: ",";\n          border: 0;\n          border-radius: 5px;\n          margin: 30px 0 10px;\n          text-transform: uppercase;\n        "])),"primary"===e.variant?e.theme.colors.background:e.theme.colors[e.variant],(function(e){return e.theme.colors.textWhite})):Object(u.d)(E||(E=Object(d.a)(["\n          color: #000;\n          font-weight: bold;\n          text-decoration: none;\n        "])))})),G=n(32),J=function(e){var t=e.children,n=e.className,c=function(e){var t=Object(o.useState)(!1),n=Object(m.a)(t,2),c=n[0],a=n[1],r=Object(o.useState)(!1),i=Object(m.a)(r,2),s=i[0],l=i[1],d=e.show,u=e.onClose;return Object(o.useLayoutEffect)((function(){var e=!0;return!d||c||s?d&&c&&!s?setTimeout((function(){e&&l(!0)}),1):!d&&c&&s?l(!1):d||!c||s||setTimeout((function(){e&&(a(!1),u&&u())}),U):a(!0),function(){e=!1}}),[d,c,s,u]),{show:s,render:c}}(e),a=c.show;return c.render?Object(b.jsx)(K,{show:a,className:F()(n,{isMenu:!!e.menu}),children:Object(b.jsx)("div",{className:"main-container-menu",children:e.menu?e.menu.map((function(e,n){return Object(b.jsxs)(R,{children:[0===n&&t&&Object(b.jsx)("div",{className:"main-content-bottom-modal",children:t}),e.map((function(e,t){return Object(b.jsx)("div",{className:F()("menu-item",e.className),children:e.href?Object(b.jsx)("a",{href:e.href,onClick:e.onClick,children:e.label}):e.to?Object(b.jsx)(G.b,{to:e.to,children:e.label}):Object(b.jsx)("button",{onClick:e.onClick,children:e.label})},t)}))]},n)})):Object(b.jsx)(R,{children:t})})}):null},$={Title:V,Disclaimer:W,Button:q},H=Object.assign(J,$),Y={status:r.loaded,title:"Are you sure?",description:"This action cannot be undone",confirmText:"CONFIRM",cancelText:"CANCEL",confirmVariant:"danger",cancelVariant:"regular",show:!1,closed:!0,onCancel:function(){},onConfirm:function(){}},X=function(e){},Q=function(){var e=z(Y),t=Object(m.a)(e,2),n=t[0],c=t[1];Object(o.useEffect)((function(){X=function(e){c(Object(j.a)(Object(j.a)({},e),{},{show:!0,closed:!1}))}}),[c]);return n.closed?null:Object(b.jsxs)(H,{show:n.show,onClose:function(){c(Y)},children:[Object(b.jsx)(H.Title,{children:n.title}),Object(b.jsx)(H.Disclaimer,{children:n.description}),Object(b.jsx)(H.Button,{variant:n.confirmVariant,onClick:function(e){n.onConfirm(e),e.isDefaultPrevented()||e.isPropagationStopped()||c({show:!1})},children:n.confirmText}),Object(b.jsx)(H.Button,{variant:n.cancelVariant,onClick:function(e){n.onCancel(e),e.isDefaultPrevented()||e.isPropagationStopped()||c({show:!1})},children:n.cancelText})]})},Z=n(85),ee={date:{label:"Date"},amount:{label:"Amount",type:"number"},category:{label:"Category"},message:{label:"Message"}};!function(e){e.WVBUCKET="WVBUCKET"}(L||(L={}));var te,ne=[{name:L.WVBUCKET,schema:ee}],ce=n(14),ae=n.n(ce),re=n(35),oe=n(204),ie=n(24),se=n(15);!function(e){e.name="wvbucketSettings"}(te||(te={}));var le,de,ue,be=function(){var e={apikey:"",client_id:"675058980808-b9q0g6alse6745s8bvg6oubmb2s3l5rf.apps.googleusercontent.com",spid:"",accounts:[],access_token:"",wvid:""},t=localStorage.getItem(te.name);if(!t)return e;var n=JSON.parse(t);return n||e},pe=function(e){!function(e){localStorage.setItem(te.name,JSON.stringify(e))}(Object(j.a)(Object(j.a)({},be()),e))},he=["wvid"],fe=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n,c,a,r,o,i,s,l,d,u=arguments;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:{},c=u.length>2&&void 0!==u[2]&&u[2],a=be(),r=a.wvid,o=Object(se.a)(a,he),i=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("WVID not set");case 2:return e.next=4,je(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.t0=o.access_token,e.t0){e.next=9;break}return e.next=8,i();case 8:e.t0=e.sent;case 9:return s=e.t0,e.next=12,fetch(t,Object(j.a)(Object(j.a)({},n),{},{headers:Object(j.a)({"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},n.headers)}));case 12:return e.next=14,e.sent.json();case 14:if(!(l=e.sent).error){e.next=23;break}if(c){e.next=22;break}return e.next=19,i();case 19:return d=e.sent,pe({access_token:d}),e.abrupt("return",fe(t,n,!0));case 22:throw new Error(l.error.message);case 23:return e.abrupt("return",l);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://bg1qpf1dee.execute-api.us-east-1.amazonaws.com/prod","/request-token"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.next=4,e.sent.json();case 4:if((n=e.sent).access_token){e.next=7;break}throw new Error("Invalid WVID token");case 7:return e.abrupt("return",n.access_token);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe("https://www.googleapis.com/oauth2/v1/userinfo");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(e){var t,n,c,a;return console.error(e),"string"===typeof e?e:(null===e||void 0===e?void 0:e.message)?e.message:(null===e||void 0===e?void 0:e.details)?e.details:(null===e||void 0===e||null===(t=e.result)||void 0===t||null===(n=t.error)||void 0===n?void 0:n.message)?null===e||void 0===e||null===(c=e.result)||void 0===c||null===(a=c.error)||void 0===a?void 0:a.message:"Something went wrong trying to authenticated. Check your log"},xe=function(e){for(var t="";e>0;){var n=(e-1)%26;t="".concat(String.fromCharCode(65+n)).concat(t),e=(e-n)/26|0}return t},Oe=function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ie.a)(ae.a.mark((function e(n,c){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe("https://sheets.googleapis.com/v4/spreadsheets/".concat(t));case 3:return a=e.sent,e.abrupt("return",n({body:"",result:a}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",c(ge(e.t0)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(ie.a)(ae.a.mark((function e(t,n,c){var a,r,o,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe("https://sheets.googleapis.com/v4/spreadsheets/".concat(t,":batchUpdate"),{method:"POST",body:JSON.stringify({requests:[{addSheet:{properties:{title:n}}}]})});case 3:return o=e.sent,e.next=6,ye(t,n,[c]);case 6:if(i=null===(a=o.replies)||void 0===a||null===(r=a[0].addSheet)||void 0===r?void 0:r.properties){e.next=9;break}throw new Error("Invalid response from the api.");case 9:return e.abrupt("return",{title:i.title,sheetId:i.sheetId});case 12:throw e.prev=12,e.t0=e.catch(0),ge(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,c){return e.apply(this,arguments)}}(),ye=function(){var e=Object(ie.a)(ae.a.mark((function e(t,n,c){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe("https://sheets.googleapis.com/v4/spreadsheets/".concat(t,"/values/").concat(n,"!A1:append?valueInputOption=USER_ENTERED"),{method:"POST",body:JSON.stringify({values:c})});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),ge(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),we=function(){var e=Object(ie.a)(ae.a.mark((function e(t,n,c){var a,r,o,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(j.a)({from:2,columns:3},c||{}),r=xe(a.columns||1),e.next=4,fe("https://sheets.googleapis.com/v4/spreadsheets/".concat(t,"/values/").concat(n,"!A2:").concat(r));case 4:return o=e.sent,i=o.values||[],e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),ke=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe("https://sheets.googleapis.com/v4/spreadsheets",{method:"POST",body:JSON.stringify({properties:{title:t}})});case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),ge(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n,c,a,r,o,i,s,l,d,u,b;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],c=Object(oe.a)(t),e.prev=2,c.s();case 4:if((a=c.n()).done){e.next=36;break}return r=a.value,e.prev=6,e.next=9,Oe(r);case 9:i=e.sent,s=(i.result.sheets||[]).reduce((function(e,t){var n;if(!t.properties)return e;var c=(null===(n=t.properties)||void 0===n?void 0:n.title)||"Untitled";return Object(j.a)(Object(j.a)({},e),{},Object(re.a)({},c,t.properties))}),{}),l={},d=Object(oe.a)(ne),e.prev=13,b=ae.a.mark((function e(){var t,n,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,s[t.name]){e.next=8;break}return e.next=4,ve(r,t.name,Object.entries(t.schema).map((function(e){var t=Object(m.a)(e,2);t[0];return t[1].label})));case 4:n=e.sent,l[t.name]={id:n.sheetId||0,rows:[]},e.next=9;break;case 8:l[t.name]={id:s[t.name].sheetId||0,rows:[]};case 9:return e.next=11,we(r,t.name,{columns:Object.entries(t.schema).length});case 11:c=e.sent,l[t.name].rows=c.map((function(e,n){var c=Object.entries(t.schema).map((function(t,n){var c=Object(m.a)(t,2),a=c[0],r=c[1];return[a,e[n],r.type]}));return c.reduce((function(e,t){if(!t[0])return e;var n=t[1];if("number"===t[2]&&void 0!==n){var c=+n.replace(/[$,]/g,"");isNaN(c)||(n=c)}return Object(j.a)(Object(j.a)({},e),{},Object(re.a)({},t[0],n))}),{})}));case 13:case"end":return e.stop()}}),e)})),d.s();case 16:if((u=d.n()).done){e.next=20;break}return e.delegateYield(b(),"t0",18);case 18:e.next=16;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),d.e(e.t1);case 25:return e.prev=25,d.f(),e.finish(25);case 28:n.push({title:(null===(o=i.result.properties)||void 0===o?void 0:o.title)||"Untitled",spreadsheetId:r,schemas:l,initialised:!0,loading:!1,error:!1}),e.next=34;break;case 31:e.prev=31,e.t2=e.catch(6),n.push({title:"Untitled",spreadsheetId:r,schemas:void 0,error:ge(e.t2),initialised:!0,loading:!1});case 34:e.next=4;break;case 36:e.next=41;break;case 38:e.prev=38,e.t3=e.catch(2),c.e(e.t3);case 41:return e.prev=41,c.f(),e.finish(41);case 44:return e.abrupt("return",n);case 45:case"end":return e.stop()}}),e,null,[[2,38,41,44],[6,31],[13,22,25,28]])})));return function(t){return e.apply(this,arguments)}}(),Ne=Object(Z.b)({selectId:function(e){return e.spreadsheetId}}),_e=Object(Z.c)({name:"account",initialState:Ne.getInitialState(),reducers:{importAccounts:function(e,t){var n=t.payload.map((function(e){return{title:"",spreadsheetId:e,initialised:!1,loading:!1,error:!1}}));Ne.upsertMany(e,n)},startLoadingAccount:function(e,t){var n=t.payload,c=e.entities[n];c&&(c.loading=!0,c.error=!1)},loadAccounts:function(e,t){var n=t.payload;Ne.upsertMany(e,n)},loadAccountError:function(e,t){var n=t.payload,c=n.spreadsheetId,a=n.error,r=e.entities[c];r&&(r.loading=!1,r.error=a)},removeAccount:function(e,t){var n=t.payload;Ne.removeOne(e,n)},addTransactionAccount:function(e,t){var n,c,a=t.payload;null===(n=e.entities[a.accountid])||void 0===n||null===(c=n.schemas)||void 0===c||c[L.WVBUCKET].rows.push(a.transaction)}}}),Se=_e.actions,Be=Se.importAccounts,Ae=Se.startLoadingAccount,Ie=Se.loadAccounts,Ee=Se.removeAccount,Me=Se.addTransactionAccount,Le=(Se.loadAccountError,_e.reducer),Te=Object(Z.c)({name:"auth",initialState:{status:r.initializing,authenticated:!1,signedin:!1,access_token:""},reducers:{setAuth:function(e,t){var n=t.payload;Object.prototype.hasOwnProperty.call(n,"status")&&(e.status=n.status),Object.prototype.hasOwnProperty.call(n,"authenticated")&&(e.authenticated=n.authenticated),Object.prototype.hasOwnProperty.call(n,"signedin")&&(e.signedin=n.signedin)},logout:function(e){e.signedin=!1}}}),De=Te.actions.setAuth,ze=Te.reducer,Pe=Object(Z.a)({reducer:{accounts:Le,auth:ze}}),Fe=n(34),Ue=n(26),Re=n(28),Ve=n(25),We=function(){var e=z({status:r.loaded,sideMenu:!1,width:window.innerWidth}),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(Fe.b)();Object(o.useEffect)((function(){var e=!0,t=function(){e&&c({width:window.innerWidth})};return window.addEventListener("resize",t),function(){e=!1,window.removeEventListener("resize",t)}}),[c]);return{state:n,toggleSideMenu:function(e){return function(){c({sideMenu:void 0!==e?e:!n.sideMenu})}},onSignout:function(){pe({access_token:""}),a(De({signedin:!1}))},confirmDeleteSettings:function(){X({description:"All data of the application will be deleted, but the spreadsheets will be kept under your google account",onConfirm:function(){localStorage.removeItem(te.name),window.location.reload()}})}}},Ke=u.e.div.withConfig({displayName:"layoutstyled__LayoutContainer",componentId:"sc-12p4uxt-0"})(["width:100%;height:100%;background:",";color:",";& > .layout-header{position:fixed;width:50px;height:50px;display:flex;align-items:center;justify-content:flex-end;padding-right:10px;right:0;top:0;& > .menu-button{color:",";font-size:1.3em;}}& > .slide-right-menu{position:fixed;top:0;bottom:0;right:0;background-color:var(--bs-gray-dark);padding:",";width:100%;transition:right 0.5s;& > .slide-header{height:50px;display:flex;align-items:center;padding:0 10px;& > .right-side{& > .button-close-slide{color:",";font-size:1.3em;}}& > .center-side{flex-grow:1;text-align:center;}}& > .slide-content{& > ul{list-style:none;padding:0;& > li{padding:10px 5px;.info-versioning{padding-left:10px;font-style:italic;opacity:0.7;}}}}}"],(function(e){return e.theme.colors.background}),(function(e){return e.theme.colors.textWhite}),(function(e){return e.theme.colors.textWhite}),(function(e){return e.theme.device.padding}),(function(e){return e.theme.colors.textWhite})),qe=function(e){var t=e.children,n=We(),c=n.state,a=n.toggleSideMenu,r=n.onSignout,o=n.confirmDeleteSettings;return Object(b.jsxs)(Ke,{children:[Object(b.jsx)("div",{className:"layout-header",children:Object(b.jsx)("button",{className:"menu-button",onClick:a(!0),disabled:c.disabled,children:Object(b.jsx)(Ve.a,{icon:Re.a})})}),t,Object(b.jsxs)("div",{className:"slide-right-menu",style:{right:c.sideMenu?void 0:"-".concat(c.width,"px")},children:[Object(b.jsxs)("div",{className:"slide-header",children:[Object(b.jsx)("div",{className:"right-side",children:Object(b.jsx)("button",{className:"button-close-slide",disabled:c.disabled,onClick:a(!1),children:Object(b.jsx)(Ve.a,{icon:Re.b})})}),Object(b.jsx)("div",{className:"center-side",children:"WVBuckets"})]}),Object(b.jsxs)("div",{className:"slide-content",children:[Object(b.jsx)("hr",{}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsxs)("button",{className:"logout-button text-primary",disabled:c.disabled,onClick:function(){return window.location.reload()},children:[Object(b.jsx)("i",{className:"fas fa-sign-out-alt"})," Hard Reload App"]})}),Object(b.jsx)("li",{children:Object(b.jsxs)("button",{className:"logout-button text-primary",disabled:c.disabled,onClick:r,children:[Object(b.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{className:"delete-settings-button text-danger",disabled:c.disabled,onClick:o,children:"Delete Settings"})}),Object(b.jsx)("li",{children:Object(b.jsxs)("span",{className:"info-versioning",children:["version: ","v0.1.40"]})})]})]})]})]})},Ge=function(e){return e.auth},Je=u.e.div.withConfig({displayName:"splash-screenstyled__SplashScreenContainer",componentId:"sc-67ggma-0"})(["height:100%;width:100%;display:flex;align-items:center;justify-content:center;.splash-screen-inner{font-size:25px;display:flex;flex-direction:column;align-items:center;.splash-screen-spinner{display:block;font-size:40px;color:",";}}"],(function(e){return e.theme.colors.primary})),$e=function(e){var t=e.hasSpinner,n=e.children;return Object(b.jsx)(Je,{children:Object(b.jsxs)("div",{className:"splash-screen-inner",children:[t&&Object(b.jsx)("div",{children:Object(b.jsx)(Ve.a,{icon:Re.i,spin:!0,className:"splash-screen-spinner"})}),n]})})},He=n(652),Ye=u.e.div.withConfig({displayName:"loginstyled__LoginContainer",componentId:"sc-3o06jq-0"})(["width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;"]),Xe=Object(u.e)(He.a).withConfig({displayName:"loginstyled__LoginButtton",componentId:"sc-3o06jq-1"})(["padding:0;border:0;padding-right:15px;& > svg{width:40px;}"]),Qe=["title","titleId"];function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},Ze.apply(this,arguments)}function et(e,t){if(null==e)return{};var n,c,a=function(e,t){if(null==e)return{};var n,c,a={},r=Object.keys(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)n=r[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tt(e,t){var n=e.title,c=e.titleId,a=et(e,Qe);return o.createElement("svg",Ze({viewBox:"0 0 46 46",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":c},a),void 0===n?o.createElement("title",{id:c},"btn_google_light_normal_ios"):n?o.createElement("title",{id:c},n):null,le||(le=o.createElement("desc",null,"Created with Sketch.")),de||(de=o.createElement("defs",null,o.createElement("filter",{id:"b",x:"-50%",y:"-50%",width:"200%",height:"200%"},o.createElement("feOffset",{dx:0,dy:1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),o.createElement("feGaussianBlur",{in:"shadowOffsetOuter1",result:"shadowBlurOuter1",stdDeviation:.5}),o.createElement("feColorMatrix",{in:"shadowBlurOuter1",result:"shadowMatrixOuter1",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0"}),o.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter2"}),o.createElement("feGaussianBlur",{in:"shadowOffsetOuter2",result:"shadowBlurOuter2",stdDeviation:.5}),o.createElement("feColorMatrix",{in:"shadowBlurOuter2",result:"shadowMatrixOuter2",values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0"}),o.createElement("feMerge",null,o.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),o.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),o.createElement("feMergeNode",{in:"SourceGraphic"}))),o.createElement("rect",{id:"a",width:40,height:40,rx:2}))),ue||(ue=o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(-1 -1)"},o.createElement("g",{transform:"translate(4 4)",filter:"url(#b)"},o.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#a"}),o.createElement("use",{fill:"none",xlinkHref:"#a"}),o.createElement("use",{fill:"none",xlinkHref:"#a"}),o.createElement("use",{fill:"none",xlinkHref:"#a"})),o.createElement("g",{transform:"translate(15 15)"},o.createElement("path",{d:"m17.64 9.2045c0-0.63818-0.057273-1.2518-0.16364-1.8409h-8.4764v3.4814h4.8436c-0.20864 1.125-0.84273 2.0782-1.7959 2.7164v2.2582h2.9086c1.7018-1.5668 2.6836-3.8741 2.6836-6.615z",fill:"#4285F4"}),o.createElement("path",{d:"m9 18c2.43 0 4.4673-0.80591 5.9564-2.1805l-2.9086-2.2582c-0.80591 0.54-1.8368 0.85909-3.0477 0.85909-2.3441 0-4.3282-1.5832-5.0359-3.7105h-3.0068v2.3318c1.4809 2.9414 4.5245 4.9582 8.0427 4.9582z",fill:"#34A853"}),o.createElement("path",{d:"m3.9641 10.71c-0.18-0.54-0.28227-1.1168-0.28227-1.71s0.10227-1.17 0.28227-1.71v-2.3318h-3.0068c-0.60955 1.215-0.95727 2.5895-0.95727 4.0418 0 1.4523 0.34773 2.8268 0.95727 4.0418l3.0068-2.3318z",fill:"#FBBC05"}),o.createElement("path",{d:"m9 3.5795c1.3214 0 2.5077 0.45409 3.4405 1.3459l2.5814-2.5814c-1.5586-1.4523-3.5959-2.3441-6.0218-2.3441-3.5182 0-6.5618 2.0168-8.0427 4.9582l3.0068 2.3318c0.70773-2.1273 2.6918-3.7105 5.0359-3.7105z",fill:"#EA4335"}),o.createElement("path",{d:"m0 0h18v18h-18v-18z"}))))))}var nt,ct=o.forwardRef(tt),at=(n.p,function(){var e=function(){var e=z({status:r.loaded}),t=Object(m.a)(e,1)[0],n=Object(o.useRef)(null),c=Object(Fe.b)(),a=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.current=window.open("".concat("https://bg1qpf1dee.execute-api.us-east-1.amazonaws.com/prod","/request-oauth"),"loginpage","width=400,height=500");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var a,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.origin!==window.location.origin){e.next=15;break}if(!(a=t.data).authenticatedReceivedId){e.next=15;break}return n.current&&n.current.close(),e.prev=4,e.next=7,je(a.authenticatedReceivedId);case 7:r=e.sent,pe({wvid:a.authenticatedReceivedId,access_token:r}),c(De({signedin:!0})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),C(ge(e.t0),"danger");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}}),[c]),{state:t,onLogin:a}}(),t=e.state,n=e.onLogin;return Object(b.jsx)(Ye,{children:Object(b.jsxs)(Xe,{disabled:t.disabled,onClick:n,children:[Object(b.jsx)(ct,{})," Login with Google"]})})}),rt=["component"],ot=["component"],it=function(e){var t=e.component,n=Object(se.a)(e,rt);return Object(b.jsx)(Ue.a,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return Object(b.jsx)(st,Object(j.a)(Object(j.a)({},e),{},{component:t}))}}))},st=function(e){var t=e.component,n=Object(se.a)(e,ot),c=function(){var e=Object(Fe.c)(Ge),t=Object(Fe.b)();return Object(o.useEffect)((function(){if(be().access_token){var e=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me();case 3:t(De({status:r.loaded,signedin:!0})),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),C(ge(e.t0),"danger"),t(De({status:r.loaded,signedin:!1}));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();e()}else t(De({status:r.loaded}))}),[t]),{state:e}}(),a=c.state;return a.status===r.initializing?Object(b.jsx)($e,{hasSpinner:!0,children:"Initialising"}):a.signedin?t?Object(b.jsx)(qe,{children:Object(b.jsx)(t,Object(j.a)({},n))}):null:Object(b.jsx)(at,{})},lt=function(e){var t=function(e){var t=Object(o.useState)(!0),n=Object(m.a)(t,2),c=n[0],a=n[1],r=Object(o.useState)(!1),i=Object(m.a)(r,2),s=i[0],l=i[1];return Object(o.useLayoutEffect)((function(){!s&&e.show&&c?a(!1):!s&&e.show?l(!0):!s||e.show||c||l(!1)}),[e.show,s,c]),{closed:c,show:s,onClose:function(){a(!0)}}}(e),n=t.show,c=t.closed,a=t.onClose;return c?null:Object(b.jsx)(J,{show:n,onClose:a,menu:e.menu,children:e.children})},dt=n(136),ut=function(e){return e.accounts},bt=n(76),pt=function(e,t){var n=function(e,t){return e.entities[t]||void 0}(e,t),c=function(e){var t;return e&&(null===(t=e.schemas)||void 0===t?void 0:t[L.WVBUCKET].rows.map((function(e,t){return Object(j.a)({id:t},e)})))||[]}(n),a=function(e){return e.reduce((function(e,t){return void 0===t.amount?e:e+100*t.amount}),0)/100}(c),r=function(e){return e.reduce((function(e,t){if(!t.category)return e;var n=t.category.trim();return e.ids.includes(n)?Object(j.a)(Object(j.a)({},e),{},{buckets:Object(j.a)(Object(j.a)({},e.buckets),{},Object(re.a)({},n,Object(j.a)(Object(j.a)({},e.buckets[n]),{},{rows:[].concat(Object(bt.a)(e.buckets[n].rows),[t]),total:e.buckets[n].total+ +t.amount})))}):{ids:[].concat(Object(bt.a)(e.ids),[n]).sort(),buckets:Object(j.a)(Object(j.a)({},e.buckets),{},Object(re.a)({},n,{total:+t.amount,rows:[t]}))}}),{ids:[],buckets:{}})}(c);return{account:n,rows:c,balance:a,buckets:r}},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(Fe.c)(ut),c=Object(Fe.b)(),a=Object(o.useMemo)((function(){return pt(n,e)}),[n,e]),r=a.account,i=(r=void 0===r?{}:r).initialised,s=void 0!==i&&i;return Object(o.useEffect)((function(){if(t&&!s){var n=function(){var t=Object(ie.a)(ae.a.mark((function t(){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(Ae(e)),t.next=3,Ce([e]);case 3:n=t.sent,c(Ie(n));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}}),[e,t,s,c]),a},ft=u.e.div.withConfig({displayName:"accountstyled__AccountContainer",componentId:"sc-r1fott-0"})(["background:#fff;color:#000;display:flex;padding:15px;margin:10px 0;border-radius:4px;position:relative;.loading-account{color:#ccc;width:100%;p{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}.icon-area{width:30px;.icon{display:block;}}.account-details{color:#aaa;flex-grow:1;width:calc(100% - 30px);h4{color:#000;font-size:1rem;font-weight:bold;margin-bottom:0;flex-grow:1;}.account-id{display:block;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:0.8rem;}.account-summary{margin-top:10px;font-size:0.9rem;.account-summary-line{display:flex;align-items:center;justify-content:space-between;.total-summary{color:#000;font-weight:bold;}}}}.button-more{position:absolute;right:5px;top:0px;font-size:1rem;}"]),jt=u.e.span.withConfig({displayName:"accountstyled__AccountBalance",componentId:"sc-r1fott-1"})(["color:",";"],(function(e){return e.negative?e.theme.colors.danger:"#fff"})),mt=function(e){var t=function(e){var t=e.account,n=e.onShowMenu,c=Object(Ue.f)(),a=ht(t.spreadsheetId,!0),r=a.balance,o=a.buckets;return{account:t,balance:r,buckets:o,onShowMenu:n,openBuckets:function(){c.push("/accounts/".concat(t.spreadsheetId,"/buckets"))}}}(e),n=t.account,c=t.balance,a=t.buckets,r=t.onShowMenu,o=t.openBuckets;return n.loading?Object(b.jsx)(ft,{children:Object(b.jsxs)("div",{className:"loading-account",children:[Object(b.jsx)("div",{children:Object(b.jsx)("i",{className:"fas fa-fan fa-spin splash-screen-spinner"})}),Object(b.jsx)("p",{children:"Loading Account"}),Object(b.jsx)("p",{children:n.spreadsheetId})]})}):(n.error&&n.error,n.initialised?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(ft,{children:[Object(b.jsx)("div",{className:"icon-area",children:Object(b.jsx)(Ve.a,{icon:dt.a,className:"icon"})}),Object(b.jsxs)("div",{className:"account-details",onClick:o,children:[Object(b.jsx)("h4",{children:n.title}),Object(b.jsx)("span",{className:"account-id",children:n.spreadsheetId}),Object(b.jsxs)("div",{className:"account-summary",children:[Object(b.jsxs)("div",{className:"account-summary-line",children:[Object(b.jsx)("div",{className:"label-summary",children:"Balance"}),Object(b.jsxs)("div",{className:F()("total-summary",{"text-danger":c<0}),children:["$",c.toLocaleString()]})]}),Object(b.jsxs)("div",{className:"account-summary-line",children:[Object(b.jsx)("div",{className:"label-summary",children:"Buckets"}),Object(b.jsx)("div",{className:"total-summary",children:a.ids.length})]})]})]}),Object(b.jsx)("button",{className:"button-more",onClick:r(n.spreadsheetId),children:Object(b.jsx)(Ve.a,{icon:Re.h})})]})}):null)},gt=function(e,t){var n=Object.keys(ee).map((function(e){return"".concat(t[e])}));return ye(e,L.WVBUCKET,[n])},xt=n(645),Ot=function(){},vt=function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt={status:r.loaded,open:!1,openAccountList:!1,openCategoryList:!1,openAddCategory:!1,openDatePicker:!1,type:"expense",amount:"0",message:"",view:"main",date:Object(xt.default)(new Date,"yyyy-MM-dd"),account_id:"",category:""},wt=i.a.createContext({state:Object(j.a)(Object(j.a)({},yt),{},{disabled:!1}),typeOptions:[],decimal:"0",integer:"00",accounts:{ids:[],entities:{}},multipleAccounts:!1,selectedAccount:void 0,accountBuckets:{ids:[],buckets:{}},accountBalance:0,onSelectType:Ot,onKeyPressAmount:Ot,onSetDescription:Ot,setState:Ot,onSelectAccount:Ot,onSave:vt}),kt=function(){return Object(o.useContext)(wt)},Ct={open:function(e){}},Nt=function(e){var t=be(),n=[].concat(Object(bt.a)(t.accounts),[e]);pe({accounts:n})},_t=function(e){return be().accounts.find((function(t){return t===e}))},St=function(){var e=Object(Ue.g)().typeCreation,t=Object(Fe.b)(),n=Object(o.useState)(!1),c=Object(m.a)(n,2),a=c[0],r=c[1],i=Object(Fe.c)(ut);Object(o.useEffect)((function(){var e=be().accounts;t(Be(e))}),[t]);var s=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return t="https://docs.google.com/spreadsheets/d/".concat(a),e.next=5,navigator.clipboard.writeText(t);case 5:r(!1),C("URL copied");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{accounts:i,typeCreation:e,showMenu:a,onSetShowMenu:function(e){return function(){r(e)}},onClickDelete:function(){X({description:"Account will be deleted from the app but not from your google drive.",onConfirm:function(){!1!==a&&(r(!1),t(Ee(a)),function(e){var t=be().accounts.filter((function(t){return t!==e}));pe({accounts:t})}(a))}})},onAddRowModal:function(){if(a){var e=pt(i,a).buckets;r(!1),Ct.open({account_id:a,category:e.ids.length>0?e.ids[0]:"",type:"expense"})}},onCopyURL:s}},Bt=u.e.div.withConfig({displayName:"accountsstyled__AccountsContainer",componentId:"sc-iku6x6-0"})(["height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;.inner-container{padding:0 40px;width:100%;}.accounts-list{margin-bottom:20px;}.add-account-btn{width:100%;background-color:",";color:#fff;padding:20px;}"],(function(e){return e.theme.colors.background2})),At=n(655);!function(e){e.missingUrl="Please add a google sheets url",e.missingTitle="A title is required to create a new google sheet",e.invalidUrl="The URL is invalid. Please check if you have access to this google sheets",e.accountExists="Account already exists in the app"}(nt||(nt={}));var It,Et,Mt,Lt,Tt,Dt,zt,Pt,Ft,Ut,Rt,Vt,Wt,Kt,qt,Gt,Jt,$t,Ht,Yt,Xt,Qt,Zt,en,tn,nn=function(e){var t=function(e){var t=Object(Ue.f)(),n=z({status:r.loaded,title:"",url:"",show:!!e.type,error:{}}),c=Object(m.a)(n,2),a=c[0],i=c[1],s=Object(Fe.b)();Object(o.useEffect)((function(){i({show:!!e.type})}),[e.type,i]);var l=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.url.trim()){e.next=2;break}return e.abrupt("return",i({error:{url:nt.missingUrl}}));case 2:if((t=a.url.match(/^https:\/\/docs\.google\.com\/spreadsheets\/d\/([^/]*)(\/.*)?$/))&&t[1]){e.next=5;break}return e.abrupt("return",i({error:{url:nt.invalidUrl}}));case 5:if(!_t(t[1])){e.next=7;break}return e.abrupt("return",i({error:{url:nt.accountExists}}));case 7:return i({status:r.loading,error:{}}),e.prev=8,e.next=11,Ce([t[1]]);case 11:if(n=e.sent,!(c=n.find((function(e){return e.error})))){e.next=15;break}throw new Error(c.error);case 15:return s(Ie(n)),Nt(t[1]),C("Account created successfully","success"),e.abrupt("return",i({status:r.loaded,show:!1}));case 21:return e.prev=21,e.t0=e.catch(8),e.abrupt("return",i({status:r.loaded,error:{url:ge(e.t0)}}));case 24:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.title.trim()){e.next=2;break}return e.abrupt("return",i({error:{url:nt.missingUrl}}));case 2:return i({status:r.loading,error:{}}),e.prev=3,e.next=6,ke(a.title);case 6:if(t=e.sent,n=t.spreadsheetId){e.next=10;break}throw new Error("Spreadsheet not returned from api");case 10:return s(Be([n])),Nt(n),C("Account created successfully","success"),e.abrupt("return",i({status:r.loaded,show:!1}));case 16:return e.prev=16,e.t0=e.catch(3),e.abrupt("return",i({status:r.loaded,error:{url:ge(e.t0)}}));case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return{type:e.type,state:a,onModalClose:function(){t.push("/")},onCancel:function(){i({show:!1})},handleCreateButton:function(){return"import-account"===e.type?l():"create-account"===e.type?d():void 0},onChangeValue:function(e){return function(t){i(Object(re.a)({},e,t.target.value))}}}}(e),n=t.state,c=t.type,a=t.onCancel,i=t.onModalClose,s=t.handleCreateButton,l=t.onChangeValue;return Object(b.jsxs)(H,{show:n.show,onClose:i,children:["create-account"===c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(H.Title,{children:"Create Account"}),Object(b.jsxs)(H.Disclaimer,{children:["Accounts are based on spreadsheets in your google account. You can create a new spreadsheet by filling the title below. If you rather import an existent spreadsheet"," ",Object(b.jsx)(G.b,{to:"/import-account",children:"Click here"})]}),Object(b.jsxs)(At.a.Group,{children:[Object(b.jsx)(At.a.Control,{type:"text",placeholder:"Spreadsheet Title",disabled:n.disabled,value:n.title,onChange:l("title")}),n.error.title&&Object(b.jsx)(At.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:n.error.title})]})]}):"import-account"===c?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(H.Title,{children:"Import Account"}),Object(b.jsxs)(H.Disclaimer,{children:["Accounts are based on spreadsheets in your google account. You can import a spreadsheet by filling its URL below. If you rather create a new spreadsheet ",Object(b.jsx)(G.b,{to:"/create-account",children:"Click here"})]}),Object(b.jsxs)(At.a.Group,{children:[Object(b.jsx)(At.a.Control,{type:"text",placeholder:"Spreadsheet URL",disabled:n.disabled,value:n.url,onChange:l("url")}),n.error.url&&Object(b.jsx)(At.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:n.error.url})]})]}):null,Object(b.jsx)(H.Button,{variant:"primary",disabled:n.disabled,onClick:s,children:"create-account"===c?"Create Account":"Import Account"}),Object(b.jsx)(H.Button,{disabled:n.disabled,onClick:a,children:"Cancel"})]})},cn=u.e.div.withConfig({displayName:"no-accountstyled__NoAccountContainer",componentId:"sc-1uwxw6m-0"})(["display:flex;flex-direction:column;align-items:center;text-align:center;.icon{width:80px;height:80px;}"]),an=function(){return Object(b.jsxs)(cn,{children:[Object(b.jsx)(Ve.a,{icon:Re.j,className:"icon"}),Object(b.jsx)("p",{children:"You don't have any account. Start setting up one by clicking the button below"})]})},rn=function(){var e,t=St(),n=t.accounts,c=t.typeCreation,a=t.showMenu,r=t.onSetShowMenu,o=t.onClickDelete,i=t.onAddRowModal,s=t.onCopyURL;return Object(b.jsxs)(Bt,{children:[n.ids.length>0?Object(b.jsx)("div",{className:"inner-container accounts-list",children:n.ids.map((function(e,t){return n.entities[e]?Object(b.jsx)(mt,{account:n.entities[e],onShowMenu:r},t):null}))}):Object(b.jsx)("div",{className:"inner-container",children:Object(b.jsx)(an,{})}),Object(b.jsx)("div",{className:"inner-container",children:Object(b.jsxs)(G.b,{to:"/import-account",className:"add-account-btn btn",children:[Object(b.jsx)("i",{className:"fas fa-plus"})," Add Account"]})}),c&&Object(b.jsx)(nn,{type:c}),Object(b.jsx)(lt,{show:!!a,menu:[[{label:"Add Row",onClick:i},{label:"Copy URL",onClick:s},{label:"Delete",className:"text-danger",onClick:o}],[{label:"Cancel",onClick:r(!1)}]],children:!!a&&Object(b.jsx)("strong",{children:null===(e=n.entities[a])||void 0===e?void 0:e.title})})]})},on=u.e.button(It||(It=Object(d.a)(["\n  color: inherit;\n"]))),sn=u.e.div(Et||(Et=Object(d.a)(["\n  width: 100%;\n  height: 58px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-shrink: 0;\n  box-shadow: #000 0 0 1px 0;\n  z-index: ",";\n"])),v),ln=function(e){var t=e.children;return Object(b.jsx)(sn,{children:t})},dn=u.e.div(Mt||(Mt=Object(d.a)(["\n  ","\n"])),(function(e){return Object(u.d)(Lt||(Lt=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    height: 50px;\n    width: 100%;\n    flex-shrink: 0;\n    box-shadow: #000 0 0 1px 0;\n\n    a {\n      color: #fff;\n      width: 40px;\n      padding-left: calc("," + 10px);\n    }\n\n    h2 {\n      margin: 0;\n      font-weight: 400;\n      flex-grow: 1;\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n      font-size: 1rem;\n    }\n  "])),e.theme.device.paddingLeft)})),un=function(e){var t=e.title,n=e.linkBack;return Object(b.jsxs)(dn,{children:[n&&Object(b.jsx)(G.b,{to:n,children:Object(b.jsx)(Ve.a,{icon:Re.e})}),Object(b.jsx)("h2",{children:t})]})},bn=function(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})},pn=function(){var e=Object(Ue.g)().accountid,t=ht(e,!0);return{account:t.account,buckets:t.buckets,addValue:function(t){return function(n){n.preventDefault(),Ct.open({account_id:e,category:t,type:"expense"})}}}},hn=u.e.div.withConfig({displayName:"bucketsstyled__BucketsContainer",componentId:"sc-1ssn0kf-0"})(["display:flex;height:100%;align-items:flex-start;flex-direction:column;"]),fn=u.e.div.withConfig({displayName:"bucketsstyled__BucketErrorContainer",componentId:"sc-1ssn0kf-1"})(["flex-grow:1;display:flex;align-items:center;justify-content:center;width:100%;font-style:italic;"]),jn=u.e.div.withConfig({displayName:"bucketsstyled__BucketContentContainer",componentId:"sc-1ssn0kf-2"})(["flex-grow:1;display:flex;width:100%;flex-direction:column;overflow:auto;& > .flex{flex-wrap:wrap;}"]),mn=u.e.button.withConfig({displayName:"bucketsstyled__AddButton",componentId:"sc-1ssn0kf-3"})(["color:#fff;font-size:11px;"]),gn=Object(u.e)(G.b).withConfig({displayName:"bucketsstyled__BucketItem",componentId:"sc-1ssn0kf-4"})(["",""],(function(e){return Object(u.d)(Tt||(Tt=Object(d.a)(["\n    width: 50%;\n    color: #fff;\n    position: relative;\n\n    & > .bucket-inner {\n      border-radius: 5px;\n      padding: 10px;\n      margin: 10px;\n      height: calc(100% - 20px);\n      background-color: rgba(255, 255, 255, 0.01);\n      position: relative;\n\n      .bucket-name {\n        display: flex;\n        align-items: center;\n        margin: 10px;\n        h3 {\n          font-size: 1rem;\n          flex-grow: 1;\n          margin: 0;\n          color: #fff;\n          max-width: 50px;\n        }\n\n        "," {\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          width: 25px;\n          height: 25px;\n          // border: solid 1px #f00;\n          padding: 0;\n\n          svg {\n            width: 15px;\n            height: 15px;\n          }\n        }\n      }\n\n      .bucket-price {\n        strong {\n          font-size: 1.2rem;\n          font-weight: 400;\n\n          color: ",";\n        }\n      }\n    }\n\n    &:nth-child(even) > .bucket-inner {\n      margin-left: 5px;\n    }\n    &:nth-child(odd) > .bucket-inner {\n      margin-right: 5px;\n    }\n  "])),mn,e.total>0?e.theme.colors.success:e.theme.colors.danger)})),xn=function(){var e=pn(),t=e.account,n=e.buckets,c=e.addValue;if(!t)return null;var a=t.title;return Object(b.jsxs)(hn,{children:[Object(b.jsx)(un,{title:a,linkBack:"/"}),t.loading?Object(b.jsx)(jn,{children:Object(b.jsx)($e,{hasSpinner:!0})}):t.error?Object(b.jsx)(fn,{children:t.error}):Object(b.jsx)(jn,{children:Object(b.jsx)("div",{className:"flex",children:n.ids.map((function(e){return Object(b.jsx)(gn,{total:n.buckets[e].total,to:"/accounts/".concat(t.spreadsheetId,"/category/").concat(e,"/list"),children:Object(b.jsxs)("div",{className:"bucket-inner",children:[Object(b.jsxs)("div",{className:"bucket-name",children:[Object(b.jsx)("h3",{children:e}),Object(b.jsx)(mn,{onClick:c(e),children:Object(b.jsx)(Ve.a,{icon:Re.k})})]}),Object(b.jsx)("div",{className:"bucket-price",children:Object(b.jsx)("strong",{children:bn(n.buckets[e].total)})})]})},e)}))})}),Object(b.jsx)(ln,{children:Object(b.jsx)(on,{onClick:c(""),children:Object(b.jsx)(Ve.a,{icon:Re.k})})})]})},On=function(){var e=Object(Ue.g)(),t=e.accountid,n=e.category,c=ht(t,!0),a=c.account,r=c.buckets,i=Object(o.useState)("month"),s=Object(m.a)(i,2),l=s[0],d=s[1],u=Object(Ue.f)(),b=(a||{}).initialised,p=void 0!==b&&b,h=r.buckets[n]||void 0,f=null===h||void 0===h?void 0:h.rows,g=Object(o.useMemo)((function(){return(null===f||void 0===f?void 0:f.reduce((function(e,t){var n=t.date;return e.dates.find((function(e){return e===n}))?Object(j.a)(Object(j.a)({},e),{},{dateObj:Object(j.a)(Object(j.a)({},e.dateObj),{},Object(re.a)({},n,Object(j.a)(Object(j.a)({},e.dateObj[n]),{},{total:e.dateObj[n].total+t.amount,rows:[].concat(Object(bt.a)(e.dateObj[n].rows),[t])})))}):{dates:[].concat(Object(bt.a)(e.dates),[n]).sort().reverse(),dateObj:Object(j.a)(Object(j.a)({},e.dateObj),{},Object(re.a)({},n,{date:n,formatDate:Object(xt.default)(new Date(n),"ccc dd LLL yyyy"),total:t.amount,rows:[t]}))}}),{dates:[],dateObj:{}}))||{dates:[],dateObj:{}}}),[f]),x={},O={week:{format:"yyyy-II",display:"II yyyy"},month:{format:"yyyy-MM",display:"LLL yyyy"},day:{format:"yyyy-MM-dd",display:"dd LLL yyyy"}},v=0;g.dates.slice(0).reverse().forEach((function(e){var t=g.dateObj[e],n=Object(xt.default)(new Date(e),O[l].format),c=Math.floor(100*t.total);v+=c,x[n]||(x[n]={name:Object(xt.default)(new Date(e),O[l].display),credit:0,debit:0,balance:0}),c>0&&(x[n].credit+=c),c<0&&(x[n].debit+=c),x[n].balance=v}));var y=Object.entries(x).map((function(e){var t=Object(m.a)(e,2)[1];return{name:t.name,credit:Math.round(t.credit/100),debit:Math.round(t.debit/100),balance:Math.round(t.balance/100)}})),w=(null===h||void 0===h?void 0:h.total)||0,k=!!h;return Object(o.useEffect)((function(){!k&&p&&(C("Bucket not found","danger"),u.push("/accounts"))}),[k,p,u]),{account:a,accountid:t,category:n,rowDates:g,available:w,chartData:y,chartDisplay:l,chartTypes:["month","week","day"],handleChangeChartType:function(e){return function(){return d(e)}}}},vn=["amount"],yn=["amount"],wn=u.e.div(Dt||(Dt=Object(d.a)(["\n  padding: 10px;\n\n  .category-available {\n    border-bottom: solid 1px rgba(255, 255, 255, 0.1);\n    padding: 10px 0;\n\n    h3 {\n      font-size: 18px;\n    }\n  }\n\n  .date-row {\n    padding: 10px 0;\n\n    h3 {\n      font-size: 18px;\n    }\n\n    .date-row-header {\n      display: flex;\n      margin-bottom: 12px;\n      justify-content: space-between;\n      strong {\n        margin-right: 10px;\n      }\n    }\n\n    .date-row-item {\n      border-bottom: solid 1px rgba(255, 255, 255, 0.1);\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px;\n    }\n  }\n"]))),kn=u.e.span(zt||(zt=Object(d.a)(["\n  font-weight: bold;\n  ","\n"])),(function(e){var t=e.amount,n=Object(se.a)(e,vn);return t<0&&Object(u.d)(Pt||(Pt=Object(d.a)(["\n      color: ",";\n    "])),n.theme.colors.danger)})),Cn=u.e.div(Ft||(Ft=Object(d.a)(["\n  padding: 0px 5px;\n  ","\n"])),(function(e){var t=e.amount,n=Object(se.a)(e,yn);return t>0&&Object(u.d)(Ut||(Ut=Object(d.a)(["\n      color: ",";\n      background-color: #b1f2d4;\n      border-radius: 5px;\n    "])),n.theme.colors.success)})),Nn=u.e.div(Rt||(Rt=Object(d.a)(["\n  display: flex;\n  height: 100%;\n  flex-direction: column; ;\n"]))),_n=u.e.div(Vt||(Vt=Object(d.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]))),Sn=["theme"],Bn=u.e.div(Wt||(Wt=Object(d.a)(["\n  display: flex;\n  background-color: #000;\n  box-shadow: #000 0 0 1px 0;\n"]))),An=Object(u.e)(G.b)(Kt||(Kt=Object(d.a)(["\n  color: inherit;\n  padding: 4px 12px;\n\n  &:active,\n  &:hover {\n    color: inherit;\n  }\n\n  ","\n"])),(function(e){var t=e.theme;return Object(se.a)(e,Sn)["data-active"]&&Object(u.d)(qt||(qt=Object(d.a)(["\n      background: ",";\n    "])),t.colors.background)})),In="/accounts/:accountid/category/:category",En=function(){var e=Object(Ue.h)({path:"".concat(In,"/list")}),t=Object(Ue.h)({path:"".concat(In,"/chart")}),n=Object(Ue.g)(),c=n.accountid,a=n.category;return Object(b.jsxs)(Bn,{children:[Object(b.jsx)(An,{to:"/accounts/".concat(c,"/category/").concat(a,"/list"),"data-active":!!e,children:"List"}),Object(b.jsx)(An,{to:"/accounts/".concat(c,"/category/").concat(a,"/chart"),"data-active":!!t,children:"Chart"})]})},Mn=function(){var e=On(),t=e.accountid,n=e.category,c=e.available,a=e.rowDates,r=pn().addValue;return Object(b.jsxs)(Nn,{children:[Object(b.jsx)(un,{title:n,linkBack:"/accounts/".concat(t,"/buckets")}),Object(b.jsx)(En,{}),Object(b.jsx)(_n,{children:Object(b.jsxs)(wn,{children:[Object(b.jsxs)("div",{className:"category-available",children:[Object(b.jsx)("h3",{children:"Available"}),Object(b.jsx)(kn,{amount:c,children:bn(c)})]}),a.dates.map((function(e){var t=a.dateObj[e];return Object(b.jsxs)("div",{className:"date-row",children:[Object(b.jsxs)("div",{className:"date-row-header",children:[Object(b.jsx)("strong",{children:t.formatDate}),Object(b.jsx)(kn,{amount:t.total,children:bn(t.total)})]}),t.rows.map((function(e,t){return Object(b.jsxs)("div",{className:"date-row-item",children:[Object(b.jsx)("span",{children:e.message||"No message"}),Object(b.jsx)(Cn,{amount:e.amount,children:bn(e.amount)})]},t)}))]},e)}))]})}),Object(b.jsx)(ln,{children:Object(b.jsx)(on,{onClick:r(n),children:Object(b.jsx)(Ve.a,{icon:Re.k})})})]})},Ln=function(){var e=Object(Ue.g)().id;return Object(o.useEffect)((function(){window.opener.parent.postMessage({authenticatedReceivedId:e})}),[e]),null},Tn=n(657),Dn=n(656),zn=n(143),Pn=n(335),Fn=n(653),Un=n(336),Rn=n(113),Vn=Object(u.e)(on)(Gt||(Gt=Object(d.a)(["\n  padding: 10px;\n\n  ","\n"])),(function(e){return e["data-active"]&&Object(u.d)(Jt||(Jt=Object(d.a)(["\n      background: rgba(0, 0, 0, 0.5);\n    "])))})),Wn=u.e.div($t||($t=Object(d.a)(["\n  margin: 20px 10px;\n  border: solid 1px #fff;\n  display: flex;\n  width: fit-content;\n  border-radius: 10px;\n\n  ",":first-child {\n    border-radius: 10px 0 0 10px;\n  }\n\n  ",":last-child {\n    border-radius: 0 10px 10px 0;\n  }\n"])),Vn,Vn),Kn=function(){var e=On(),t=e.accountid,n=e.category,c=e.chartData,a=e.chartDisplay,r=e.chartTypes,i=e.handleChangeChartType,s=Object(o.useContext)(u.a);return Object(b.jsxs)(Nn,{children:[Object(b.jsx)(un,{title:n,linkBack:"/accounts/".concat(t,"/buckets")}),Object(b.jsx)(En,{}),Object(b.jsxs)(_n,{children:[Object(b.jsx)(Wn,{children:r.map((function(e){return Object(b.jsxs)(Vn,{onClick:i(e),"data-active":a===e,children:[e.charAt(0).toUpperCase(),e.substring(1)]},e)}))}),Object(b.jsx)(Tn.a,{width:"100%",height:400,children:Object(b.jsxs)(Dn.a,{data:c,children:[Object(b.jsx)(zn.a,{dataKey:"credit",fill:s.colors.success}),Object(b.jsx)(zn.a,{dataKey:"debit",fill:s.colors.danger}),Object(b.jsx)(Pn.a,{dataKey:"balance",stroke:s.colors.primary}),Object(b.jsx)(Fn.a,{strokeDasharray:"3 5"}),Object(b.jsx)(Un.a,{dataKey:"name"}),Object(b.jsx)(Rn.a,{labelStyle:{color:"#000"},formatter:function(e){return bn(e)}})]})})]})]})},qn=function(){return Object(b.jsx)(G.a,{children:Object(b.jsxs)(Ue.c,{children:[Object(b.jsx)(Ue.a,{path:"/authenticate/:id",component:Ln}),Object(b.jsx)(it,{path:"/accounts/:accountid/buckets",component:xn}),Object(b.jsx)(it,{path:"/accounts/:accountid/category/:category/list",component:Mn}),Object(b.jsx)(it,{path:"/accounts/:accountid/category/:category/chart",component:Kn}),Object(b.jsx)(it,{path:"/:typeCreation",component:rn}),Object(b.jsx)(it,{path:"/",component:rn})]})})},Gn=function(){return Object(b.jsx)(qn,{})},Jn=u.e.div.withConfig({displayName:"black-modalstyled__BlackModalContainer",componentId:"sc-eoks6a-0"})(["",""],(function(e){return Object(u.d)(Ht||(Ht=Object(d.a)(["\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: ",";\n    ","\n\n    transition: background-color ","ms ease-in;\n\n    .row-modal-inner {\n      background-color: rgb(28, 28, 28);\n      position: fixed;\n      height: calc(100% - ","px);\n      width: 100%;\n      border-radius: 15px 15px 0 0;\n      color: #fff;\n      padding: 30px 20px;\n      padding-bottom: ",";\n      transition: bottom ","ms ease-in;\n      display: flex;\n      flex-direction: column;\n\n      bottom: ",";\n    }\n\n    hr {\n      background-color: ",";\n      opacity: 1;\n      height: 2px;\n    }\n  "])),O,!e.noBackground&&Object(u.d)(Yt||(Yt=Object(d.a)(["\n      background-color: rgba(0, 0, 0, ",");\n    "])),e.show?.7:0),250,50,(function(e){return e.theme.device.paddingBottom}),250,e.show?0:"-100vh",e.theme.colors.gray2)})),$n=u.e.div.withConfig({displayName:"black-modalstyled__BlackModalTitle",componentId:"sc-eoks6a-1"})(["display:flex;align-items:center;justify-content:space-between;margin-bottom:40px;.black-modal-title-left-button,.black-modal-title-right-button{button{color:#fff;}}h4{flex-grow:1;padding:0 10px;margin:0;}"]),Hn=u.e.div.withConfig({displayName:"black-modalstyled__BlackModalList",componentId:"sc-eoks6a-2"})(["flex-grow:1;overflow:auto;margin:0 -20px;padding:0 20px;touch-action:pan-y;"]),Yn=u.e.div.withConfig({displayName:"black-modalstyled__BlackModalListItem",componentId:"sc-eoks6a-3"})(["border-bottom:solid 2px ",";padding-bottom:30px;margin-bottom:30px;h4{font-size:1.1rem;}span{color:",";&.balance{color:#fff;}}.flex{justify-content:space-between;.icon-container{margin-right:10px;}.tick-container{width:calc(30px + 1rem);padding-left:30px;display:flex;align-items:center;justify-content:center;color:",";}}"],(function(e){return e.theme.colors.gray2}),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.colors.primary})),Xn=function(e){var t=function(e){var t=e.open,n=Object(o.useState)(!1),c=Object(m.a)(n,2),a=c[0],r=c[1],i=Object(o.useState)(!1),s=Object(m.a)(i,2),l=s[0],d=s[1];return Object(o.useLayoutEffect)((function(){var e=!0;return!t||a||l?t&&a&&!l?setTimeout((function(){e&&d(!0)}),1):!t&&a&&l?d(!1):t||!a||l||setTimeout((function(){e&&r(!1)}),250):r(!0),function(){e=!1}}),[t,a,l]),{show:l,render:a}}(e),n=t.render,c=t.show;return n?Object(b.jsx)(Jn,{show:c,noBackground:e.noBackground,children:Object(b.jsx)("div",{className:"row-modal-inner",children:e.children})}):null},Qn=Yn,Zn={Title:function(e){return Object(b.jsxs)($n,{children:[e.leftButton&&Object(b.jsx)("div",{className:"black-modal-title-left-button",children:e.leftButton}),Object(b.jsx)("h4",{children:e.children}),e.rightButton&&Object(b.jsx)("div",{className:"black-modal-title-right-button",children:e.rightButton})]})},List:Object.assign((function(e){return Object(b.jsx)(Hn,{children:e.children})}),{Item:Qn})},ec=Object.assign(Xn,Zn),tc=n(337),nc=n.n(tc),cc=u.e.div.withConfig({displayName:"date-modalstyled__DateModalContainer",componentId:"sc-j3675e-0"})(["position:fixed;background-color:transparent;pointer-events:none;top:0;left:0;right:0;bottom:0;transition:background-color ","ms linear;z-index:",";",""],U,w,(function(e){return e.open&&Object(u.d)(Xt||(Xt=Object(d.a)(["\n      pointer-events: unset;\n      background-color: rgba(0, 0, 0, 0.5);\n    "])))})),ac=u.e.div.withConfig({displayName:"date-modalstyled__DateModalInner",componentId:"sc-j3675e-1"})(["",""],(function(e){return Object(u.d)(Qt||(Qt=Object(d.a)(["\n    position: fixed;\n    bottom: -100vh;\n    width: 100%;\n    margin-bottom: ",";\n    transition: bottom ","ms linear;\n\n    ","\n\n    & > div {\n      width: calc(100% - 40px);\n      background-color: ",";\n      padding: 20px;\n      margin: 0 auto;\n      border-radius: 15px;\n    }\n\n    .date-modal-picker {\n      width: 100%;\n      border: 0;\n      background-color: unset;\n\n      .react-datepicker__month-container {\n        width: 100%;\n        color: #fff;\n\n        .react-datepicker__header {\n          background-color: unset;\n          border: 0;\n          padding-top: 0;\n\n          .react-datepicker__current-month {\n            color: #fff;\n            font-size: 1.1rem;\n            margin-bottom: 20px;\n          }\n\n          .react-datepicker__day-names {\n            font-size: 1rem;\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 10px;\n\n            .react-datepicker__day-name {\n              color: #fff;\n              width: 2.2rem;\n              line-height: 2.2rem;\n            }\n          }\n        }\n\n        .react-datepicker__month {\n          .react-datepicker__week {\n            font-size: 1rem;\n            display: flex;\n            justify-content: space-between;\n\n            .react-datepicker__day {\n              color: rgba(255, 255, 255, 0.7);\n              width: 2.2rem;\n              line-height: 2.2rem;\n              margin: 0;\n\n              &:focus {\n                outline: none;\n              }\n\n              &.react-datepicker__day--outside-month {\n                color: rgba(255, 255, 255, 0.2);\n              }\n\n              &.react-datepicker__day--keyboard-selected,\n              &:hover {\n                background-color: unset;\n              }\n\n              &.react-datepicker__day--selected {\n                background-color: ",";\n                color: #fff;\n              }\n            }\n          }\n        }\n      }\n    }\n  "])),e.theme.device.paddingBottom,U,e.open&&Object(u.d)(Zt||(Zt=Object(d.a)(["\n      bottom: 0;\n    "]))),e.theme.colors.background2,e.theme.colors.selectedBackground)})),rc=u.e.div.withConfig({displayName:"date-modalstyled__DateModalButtonsContainer",componentId:"sc-j3675e-2"})(["margin:0 auto;width:calc(100% - 40px);button{margin-top:20px;width:100%;}.button-accept{background-color:",";padding:10px;color:#fff;}.button-cancel{color:#fff;}"],(function(e){return e.theme.colors.background})),oc=(n(600),n(601)),ic=function(e){var t=function(e){var t=kt(),n=t.state,c=t.setState,a=Object(o.useState)(Object(oc.default)(n.date)),r=Object(m.a)(a,2),i=r[0],s=r[1];return Object(o.useEffect)((function(){n.openDatePicker&&s(Object(oc.default)(n.date))}),[n.date,n.openDatePicker]),{date:i,open:n.openDatePicker,onChange:function(e){s(e)},onCancel:function(){c({openDatePicker:!1})},onAccept:function(){c({openDatePicker:!1,date:Object(xt.default)(i,"yyyy-MM-dd")})}}}(),n=t.open,c=t.date,a=t.onChange,r=t.onCancel,i=t.onAccept;return Object(b.jsx)(cc,{open:n,children:Object(b.jsx)(ac,{open:n,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(nc.a,{selected:c,onChange:a,inline:!0,calendarClassName:"date-modal-picker"}),Object(b.jsxs)(rc,{children:[Object(b.jsx)("button",{className:"button-accept",onClick:i,children:"OK"}),Object(b.jsx)("button",{className:"button-cancel",onClick:r,children:"Cancel"})]})]})})})},sc=u.e.div.withConfig({displayName:"row-modalstyled__RowModalContainer",componentId:"sc-15ps1d2-0"})([".right-border{border-right:solid 2px ",";}.button-close-modal{color:#fff;border-radius:50%;background-color:rgba(255,255,255,0.13);width:30px;height:30px;padding:0;}.row-modal-selected-account{margin-top:25px;display:flex;align-items:center;.account-details{flex-grow:1;color:",";h5{font-size:1rem;color:#fff;}span{font-size:0.9rem;.icon{margin-right:10px;}}}.account-more{.icon{color:#fff;}}}.account-row-details{margin-top:30px;}.half-block{width:50%;}.account-block{padding:0 10px;strong{display:block;color:",";font-weight:500;font-size:1rem;margin-bottom:10px;}span{color:#fff;font-weight:100;font-size:1.3rem;}}.input-description{width:100%;border:0;border-bottom:solid 2px ",";background-color:transparent;color:#fff;font-size:0.9rem;font-weight:100;&:focus{outline:none;}}.account-amount{font-size:3rem;text-align:center;margin-top:20px;color:",";position:relative;overflow:hidden;hr{opacity:0;margin-bottom:0;}.input-amount:focus ~ hr{opacity:1;}.dollar-sign{font-size:3.3rem;}.integer-part{color:#fff;}.input-amount{background:transparent;border:0;position:absolute;top:0;left:-50px;right:0;bottom:0;width:100%;opacity:1;display:block;color:transparent;caret-color:blue;&:focus{outline:none;}}&.expense{color:rgba(140,120,120);.integer-part{color:rgba(255,120,120);}}}.add-row-button{background-color:",";width:100%;margin-top:30px;padding:20px;border-radius:5px;}"],(function(e){return e.theme.colors.gray2}),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.colors.gray2}),(function(e){return e.theme.colors.gray}),(function(e){return e.theme.colors.background})),lc=function(){var e=function(){var e=kt(),t=z({status:r.loaded,category:"",error:!1}),n=Object(m.a)(t,2),c=n[0],a=n[1];return{state:c,onCancel:function(){e.setState({openAddCategory:!1}),a({category:"",error:!1})},onChangeCategory:function(e){a({category:e.target.value,error:!1})},onAddCategory:function(){""===c.category?a({error:"Please enter a category name."}):e.accountBuckets.ids.find((function(e){return e===c.category}))?a({error:"Category already exist."}):(e.setState({category:c.category,openAddCategory:!1,openCategoryList:!1}),a({category:"",error:!1}))}}}(),t=e.state,n=e.onCancel,c=e.onChangeCategory,a=e.onAddCategory;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(H.Title,{children:"Add Category"}),Object(b.jsx)(H.Disclaimer,{children:'To add a new category, enter the name of the category and click "Add Category".'}),Object(b.jsxs)(At.a.Group,{children:[Object(b.jsx)(At.a.Control,{type:"text",placeholder:"Spreadsheet Title",disabled:t.disabled,value:t.category,onChange:c}),t.error&&Object(b.jsx)(At.a.Control.Feedback,{type:"invalid",style:{display:"block"},children:t.error})]}),Object(b.jsx)(H.Button,{variant:"primary",disabled:t.disabled,onClick:a,children:"Add Category"}),Object(b.jsx)(H.Button,{onClick:n,children:"Cancel"})]})},dc=u.e.div.withConfig({displayName:"togglerstyled__TogglerContainer",componentId:"sc-b2bucq-0"})(["",""],(function(e){var t=100/(e.options.length||1),n=e.options.findIndex((function(t){return t.value===e.value}));return Object(u.d)(en||(en=Object(d.a)(["\n      background: #000;\n      width: 80%;\n      margin: 20px auto;\n      border-radius: 5px;\n      display: flex;\n      position: relative;\n\n      .toggler-option-container {\n        width: ","%;\n        text-align: center;\n        z-index: ",";\n\n        .toggler-option-button {\n          color: #fff;\n          padding: 15px 10px;\n          border-radius: 5px;\n          width: 100%;\n        }\n      }\n\n      ","\n    "])),t,y,n>=0&&Object(u.d)(tn||(tn=Object(d.a)(["\n        &:before {\n          border-radius: 5px;\n          content: '';\n          display: block;\n          background: rgb(28, 28, 28);\n          position: absolute;\n          top: ","px;\n          left: calc(","% + ","px);\n          bottom: ","px;\n          width: calc(","% - ","px);\n          transition: left 0.25s ease-out;\n        }\n      "])),5,t*n,5,5,t,10))})),uc=["onChange"],bc=function(e){var t=e.onChange,n=Object(se.a)(e,uc),c=n.options,a=n.classes,r=n.disabled,o=function(e){return function(){if(t)return t(e)}};return Object(b.jsx)(dc,Object(j.a)(Object(j.a)({},n),{},{children:c.map((function(e,t){return Object(b.jsx)("div",{className:F()("toggler-option-container",null===a||void 0===a?void 0:a.optionContainer),children:Object(b.jsx)("button",{className:F()("toggler-option-button",null===a||void 0===a?void 0:a.optionButton),disabled:r,onClick:o(e),children:e.label})},t)}))}))},pc=function(){var e=kt(),t=e.state,n=e.typeOptions,c=e.integer,a=e.decimal,o=e.selectedAccount,i=e.multipleAccounts,s=e.accountBalance,l=e.onSelectType,d=e.onSetDescription,u=e.onKeyPressAmount,p=e.onSelectAccount,h=e.setState,f=e.onSave;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ec.Title,{rightButton:Object(b.jsx)("button",{onClick:function(){h({open:!1})},disabled:t.disabled,children:Object(b.jsx)(Ve.a,{icon:Re.l})}),children:"Transaction"}),Object(b.jsxs)(ec.List,{children:[Object(b.jsxs)("div",{className:"row-modal-selected-account",children:[Object(b.jsxs)("div",{className:"account-details",children:[Object(b.jsx)("h5",{children:(null===o||void 0===o?void 0:o.title)||t.account_id}),Object(b.jsx)("span",{children:Object(b.jsx)(Ve.a,{icon:Re.g,className:"icon"})}),Object(b.jsx)("span",{children:"Balance\xa0\xa0"}),Object(b.jsxs)(jt,{negative:s<0,children:["$",s.toLocaleString()]})]}),i&&Object(b.jsx)("div",{className:"account-more",children:Object(b.jsx)("button",{className:"btn-select-account",disabled:t.disabled,onClick:p,children:Object(b.jsx)(Ve.a,{icon:Re.f,className:"icon"})})})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"flex account-row-details",children:[Object(b.jsxs)("div",{className:"account-block half-block right-border",children:[Object(b.jsx)("strong",{children:"Category"}),Object(b.jsx)("button",{onClick:function(){h({openCategoryList:!0})},disabled:t.disabled,children:Object(b.jsx)("span",{children:t.category||"UNKNOWN"})})]}),Object(b.jsxs)("div",{className:"account-block half-block",children:[Object(b.jsx)("strong",{children:"Date"}),Object(b.jsx)("button",{onClick:function(){h({openDatePicker:!0})},disabled:t.disabled,children:Object(b.jsx)("span",{children:Object(xt.default)(Object(oc.default)(t.date),"dd/MM/yyyy")})})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)("div",{className:"account-row-details",children:Object(b.jsxs)("div",{className:"account-block",children:[Object(b.jsxs)("strong",{children:["Description ",Object(b.jsx)("small",{children:"(optional)"})]}),Object(b.jsx)("input",{className:"input-description",value:t.message,onChange:d,disabled:t.disabled})]})}),Object(b.jsx)(bc,{value:t.type,options:n,onChange:l,disabled:t.disabled}),Object(b.jsxs)("div",{className:F()("account-amount",t.type),children:[Object(b.jsx)("span",{className:"dollar-sign",children:"expense"===t.type?"-$":"$"}),Object(b.jsx)("span",{className:"integer-part",children:c}),Object(b.jsxs)("span",{className:"decimal-part",children:[".",a]}),Object(b.jsx)("input",{className:"input-amount",type:"number",onKeyDown:u,inputMode:"decimal",disabled:t.disabled}),Object(b.jsx)("hr",{})]}),Object(b.jsx)("button",{className:"add-row-button",onClick:f,disabled:t.disabled,children:t.status===r.loading?"Saving...":"Save Transaction"})]})]})},hc=function(){var e=kt(),t=e.setState,n=e.accounts,c=e.selectedAccount;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ec.Title,{leftButton:Object(b.jsx)("button",{onClick:function(){t({openAccountList:!1})},children:Object(b.jsx)(Ve.a,{icon:Re.d})}),children:"Select an Account"}),Object(b.jsx)(ec.List,{children:n.ids.map((function(e,t){return Object(b.jsx)(fc,{id:e,selected:(null===c||void 0===c?void 0:c.spreadsheetId)===e},t)}))})]})},fc=function(e){var t=e.id,n=e.selected,c=kt().setState,a=ht(t),r=a.account,o=a.balance,i=a.buckets;return Object(b.jsx)(ec.List.Item,{onClick:function(){var e;c({account_id:t,category:(null===(e=i.ids)||void 0===e?void 0:e[0])||"",openAccountList:!1})},children:Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"icon-container",children:Object(b.jsx)(Ve.a,{icon:dt.a})}),Object(b.jsxs)("div",{className:"flexGrow",children:[Object(b.jsx)("h4",{children:null===r||void 0===r?void 0:r.title}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("span",{children:"Balance"}),Object(b.jsxs)("span",{className:F()("balance",{"text-danger":o<0}),children:["$",o.toLocaleString()]})]})]}),Object(b.jsx)("div",{className:"tick-container",children:n&&Object(b.jsx)(Ve.a,{icon:Re.c})})]})})},jc=function(){var e=kt(),t=e.accountBuckets,n=e.setState,c=e.state;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ec.Title,{leftButton:Object(b.jsx)("button",{onClick:function(){n({openCategoryList:!1})},children:Object(b.jsx)(Ve.a,{icon:Re.d})}),rightButton:Object(b.jsx)("button",{className:"text-primary",onClick:function(){n({openAddCategory:!0})},children:"Add"}),children:"Select a Category"}),Object(b.jsx)(ec.List,{children:t.ids.map((function(e,t){return Object(b.jsx)(ec.List.Item,{onClick:(a=e,function(){n({category:a,openCategoryList:!1})}),children:Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"flexGrow",children:Object(b.jsx)("h4",{children:e})}),Object(b.jsx)("div",{className:"tick-container",children:e===c.category&&Object(b.jsx)(Ve.a,{icon:Re.c})})]})},t);var a}))})]})},mc=function(){var e=function(){var e=z(Object(j.a)({},yt)),t=Object(m.a)(e,2),n=t[0],c=t[1],a=Object(Fe.b)(),i=Object(Fe.c)(ut),s=i.ids.length>1,l=ht(n.account_id),d=l.account||void 0,u=l.balance||0,b=l.buckets||{},p=Object(o.useMemo)((function(){var e=+n.amount;if(isNaN(e))return{decimal:"0",integer:"00"};if(e<100)return{integer:"0",decimal:"".concat(e).padStart(2,"0")};var t="".concat(e);return{decimal:t.substr(-2).padEnd(2,"0"),integer:t.length>2?(+t.substr(0,t.length-2)).toLocaleString():"0"}}),[n.amount]),h=p.decimal,f=p.integer,g=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(+n.amount){e.next=2;break}return e.abrupt("return",C("Amount is required","danger"));case 2:if(n.category){e.next=4;break}return e.abrupt("return",C("Category is required","danger"));case 4:return c({status:r.loading}),t=+n.amount/100*("expense"===n.type?-1:1),o={amount:t,category:n.category,message:n.message,date:n.date},e.next=9,gt(n.account_id,o);case 9:a(Me({accountid:n.account_id,transaction:o})),c(Object(j.a)(Object(j.a)({},yt),{},{status:r.loaded,open:!1})),C("Transaction added","success");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){Ct.open=function(e){c({account_id:e.account_id,open:!0,type:e.type||"income",message:e.description||"",date:e.date||Object(xt.default)(new Date,"yyyy-MM-dd"),category:e.category})}}),[c]),{state:n,typeOptions:[{label:"Income",value:"income"},{label:"Expense",value:"expense"}],decimal:h,integer:f,accounts:i,selectedAccount:d,multipleAccounts:s,accountBalance:u,accountBuckets:b,onSelectType:function(e){var t=e.value;c({type:t})},onKeyPressAmount:function(e){if(e.preventDefault(),"Backspace"===e.key){var t=n.amount.substr(0,n.amount.length-1);return t||(t="0"),c({amount:t})}if(e.key.match(/[0-9]/)&&!(n.amount.length>9)){var a="".concat(n.amount).concat(e.key);c({amount:a})}},onSetDescription:function(e){c({message:e.target.value})},onSelectAccount:function(){c({openAccountList:!0})},setState:c,onSave:g}}(),t=e.state,n=t.open,c=t.openAccountList,a=t.openCategoryList,i=t.openAddCategory;return Object(b.jsx)(sc,{children:Object(b.jsxs)(wt.Provider,{value:e,children:[Object(b.jsx)(Xn,{open:n,children:Object(b.jsx)(pc,{})}),Object(b.jsx)(Xn,{open:c,noBackground:!0,children:Object(b.jsx)(hc,{})}),Object(b.jsx)(Xn,{open:a,noBackground:!0,children:Object(b.jsx)(jc,{})}),Object(b.jsx)(H,{show:i,children:Object(b.jsx)(lc,{})}),Object(b.jsx)(ic,{})]})})},gc=function(){return Object(b.jsx)(Fe.a,{store:Pe,children:Object(b.jsxs)(f,{children:[Object(b.jsx)(Gn,{}),Object(b.jsx)(N,{}),Object(b.jsx)(Q,{}),Object(b.jsx)(mc,{})]})})},xc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,658)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};l.a.render(Object(b.jsx)(gc,{}),document.getElementById("root")),xc()}},[[642,1,2]]]);
//# sourceMappingURL=main.0307f1d0.chunk.js.map